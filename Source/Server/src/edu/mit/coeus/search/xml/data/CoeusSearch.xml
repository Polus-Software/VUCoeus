<?xml version="1.0" encoding="UTF-8"?>

<!-- Created by geo on July 1, 2002, 10:39 AM -->
<!-- Root node -->
<!-- PT ID#2932 - All dates in search result set should be in yyyy/mm/dd 
	format -->
<SEARCHENGINE>
	<!-- Define elements for protocol search -->
	<!--<PROTOCOLSEARCH display="Protocol Search" retrievelimit="500"> -->
	<!--Modified Display name for COEUSQA-2580_Change menu item name from "Protocol" 
		to "IRB Protocol" on Maintain menu in Premium_Start -->
	<PROTOCOLSEARCH display="IRB Protocol Search"
		retrievelimit="PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">
		<!--Modified Display name for COEUSQA-2580_Change menu item name from "Protocol" 
			to "IRB Protocol" on Maintain menu in Premium_End -->
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$PROTOCOL.PROTOCOL_NUMBER ,
				OSP$PROTOCOL.SEQUENCE_NUMBER ,
				OSP$PROTOCOL.PROTOCOL_TYPE_CODE ,
				OSP$PROTOCOL.REFERENCE_NUMBER_1 ,
				PT.DESCRIPTION AS PROTOCOL_TYPE_DESCRIPTION ,
				OSP$PROTOCOL.PROTOCOL_STATUS_CODE ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$PROTOCOL.TITLE ,
				OSP$PROTOCOL.DESCRIPTION,
				to_char(OSP$PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT') "APPLICATION_DATE",
				to_char(OSP$PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				OSP$PROTOCOL.FDA_APPLICATION_NUMBER ,
				OSP$PROTOCOL.CREATE_TIMESTAMP ,
				OSP$PROTOCOL.CREATE_USER ,
				OSP$PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$PROTOCOL.UPDATE_USER ,
				PI.PERSON_ID ,
				PI.PERSON_NAME ,
				PU.UNIT_NUMBER ,
				UNT.UNIT_NAME
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_STATUS" alias="PS" />
				<TABLE name="OSP$PROTOCOL_TYPE" alias="PT" />
				<TABLE
					name="(SELECT PROTOCOL_NUMBER ,
                             SEQUENCE_NUMBER ,
                             PERSON_ID ,
                             PERSON_NAME ,
                             PRINCIPAL_INVESTIGATOR_FLAG
                      FROM OSP$PROTOCOL_INVESTIGATORS
                      WHERE SEQUENCE_NUMBER IN (SELECT MAX(A.SEQUENCE_NUMBER)
                                                FROM OSP$PROTOCOL_INVESTIGATORS A
                                                WHERE A.PROTOCOL_NUMBER = OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER )
                      AND OSP$PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y')"
					alias="PI" />
				<TABLE
					name="(SELECT PROTOCOL_NUMBER ,
                             SEQUENCE_NUMBER ,
                             UNIT_NUMBER ,
                             PERSON_ID
                      FROM OSP$PROTOCOL_UNITS
                      WHERE SEQUENCE_NUMBER IN (SELECT MAX(A.SEQUENCE_NUMBER)
                                                FROM OSP$PROTOCOL_UNITS A
                                                WHERE A.PROTOCOL_NUMBER = OSP$PROTOCOL_UNITS.PROTOCOL_NUMBER AND
                                                      A.PERSON_ID = OSP$PROTOCOL_UNITS.PERSON_ID )
                      AND OSP$PROTOCOL_UNITS.LEAD_UNIT_FLAG = 'Y')"
					alias="PU" />
				<TABLE name="OSP$UNIT" alias="UNT" />

			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="(OSP$PROTOCOL.SEQUENCE_NUMBER
	            IN (SELECT
	                  MAX(A.SEQUENCE_NUMBER)
	                FROM
	                  OSP$PROTOCOL A
	                WHERE
	                  A.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER) AND
	          OSP$PROTOCOL.PROTOCOL_TYPE_CODE = PT.PROTOCOL_TYPE_CODE AND
	          OSP$PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE AND
	          OSP$PROTOCOL.PROTOCOL_NUMBER = PI.PROTOCOL_NUMBER (+) AND
	          PI.PROTOCOL_NUMBER = PU.PROTOCOL_NUMBER (+) AND
	          PI.PERSON_ID = PU.PERSON_ID (+) AND
      		PU.UNIT_NUMBER = UNT.UNIT_NUMBER (+)) " />

			<!-- Commented by Vyjayanthi - 05/08/2004 - Start for IRB Enhancement 
				To display amendments and renewals in Protocol list window AND instr(OSP$PROTOCOL.PROTOCOL_NUMBER,'A',1,1) 
				= 0 AND instr(OSP$PROTOCOL.PROTOCOL_NUMBER,'R',1,1) = 0 Commented by Vyjayanthi 
				- 05/08/2004 - End -->

			<!-- The value of the join attribute should be appended in the where clause 
				while forming a query. -->
		</QUERY>
		<!-- All the elements for the search criteria should be specified in this 
			section. There should be a corresponding entry for COLUMN element for each 
			FIELD element in this section. All the fields specified here will be displayed 
			as search criterias in the CoeusSearch.java file. Mainly two types of data 
			types can come here. 1) string 2) number If we want to use any specific alias 
			and joins, it should be specified as attributes of each FIELD element. -->
		<CRITERIA>
			<FIELD name="OSP$PROTOCOL.PROTOCOL_NUMBER" datatype="string"
				size="100" />
			<FIELD name="OSP$PROTOCOL.PROTOCOL_TYPE_CODE" datatype="number"
				size="100" />
			<FIELD name="OSP$PROTOCOL.REFERENCE_NUMBER_1" datatype="string"
				size="100" />
			<FIELD name="OSP$PROTOCOL.PROTOCOL_STATUS_CODE" datatype="number"
				size="100" />
			<FIELD name="OSP$PROTOCOL_INVESTIGATORS.PERSON_NAME" alias="INV.PERSON_NAME"
				datatype="string" size="100" table="OSP$PROTOCOL_INVESTIGATORS INV"
				join="( OSP$PROTOCOL.PROTOCOL_NUMBER = INV.PROTOCOL_NUMBER) AND
                    ( INV.SEQUENCE_NUMBER IN ( SELECT MAX(INV1.SEQUENCE_NUMBER)
                        FROM OSP$PROTOCOL_INVESTIGATORS INV1
                        WHERE INV1.PROTOCOL_NUMBER =INV.PROTOCOL_NUMBER))" />
			<!-- Modified for COEUSDEV-225 : institutional proposal searching is wicked 
				slow Checked for protocol leadunit flag is 'Y' <FIELD name="OSP$PROTOCOL_UNITS.UNIT_NUMBER" 
				alias="PTU.UNIT_NUMBER" datatype="string" size="100" table="OSP$PROTOCOL_UNITS 
				PTU" join="( OSP$PROTOCOL.PROTOCOL_NUMBER = PTU.PROTOCOL_NUMBER) AND ( PTU.SEQUENCE_NUMBER 
				IN ( SELECT MAX(PTU1.SEQUENCE_NUMBER) FROM OSP$PROTOCOL_UNITS PTU1 WHERE 
				PTU1.PROTOCOL_NUMBER =PTU.PROTOCOL_NUMBER))"/> -->
			<FIELD name="OSP$PROTOCOL_UNITS.UNIT_NUMBER" alias="PTU.UNIT_NUMBER"
				datatype="string" size="100" table="OSP$PROTOCOL_UNITS PTU"
				join="( OSP$PROTOCOL.PROTOCOL_NUMBER = PTU.PROTOCOL_NUMBER) AND
                    ( PTU.SEQUENCE_NUMBER IN ( SELECT MAX(PTU1.SEQUENCE_NUMBER)
                        FROM OSP$PROTOCOL_UNITS PTU1
                        WHERE PTU1.PROTOCOL_NUMBER =PTU.PROTOCOL_NUMBER AND PTU.LEAD_UNIT_FLAG = 'Y'))" />
			<FIELD name="OSP$PROTOCOL.TITLE" datatype="string" size="100" />
			<FIELD name="OSP$PROTOCOL.DESCRIPTION" datatype="string" size="160" />
			<FIELD name="OSP$PROTOCOL_KEY_PERSONS.PERSON_NAME" alias="KP.PERSON_NAME"
				datatype="string" size="100" table="OSP$PROTOCOL_KEY_PERSONS KP"
				join="( OSP$PROTOCOL.PROTOCOL_NUMBER = KP.PROTOCOL_NUMBER) AND
                    ( KP.SEQUENCE_NUMBER IN ( SELECT MAX(KP1.SEQUENCE_NUMBER)
                        FROM OSP$PROTOCOL_KEY_PERSONS KP1
                        WHERE KP1.PROTOCOL_NUMBER =KP.PROTOCOL_NUMBER))" />
			<FIELD name="OSP$RESEARCH_AREAS.DESCRIPTION" alias="RA.DESCRIPTION"
				datatype="string" size="100"
				table="OSP$PROTOCOL_RESEARCH_AREAS PRA, OSP$RESEARCH_AREAS RA"
				join="( OSP$PROTOCOL.PROTOCOL_NUMBER = PRA.PROTOCOL_NUMBER) AND
                    ( PRA.SEQUENCE_NUMBER IN ( SELECT MAX(PRA1.SEQUENCE_NUMBER)
                        FROM OSP$PROTOCOL_RESEARCH_AREAS PRA1
                        WHERE PRA1.PROTOCOL_NUMBER =PRA.PROTOCOL_NUMBER)) AND
                    (PRA.RESEARCH_AREA_CODE = RA.RESEARCH_AREA_CODE) " />

			<FIELD name="OSP$PROTOCOL.APPLICATION_DATE" datatype="date"
				size="100" />
			<FIELD name="OSP$PROTOCOL.APPROVAL_DATE" datatype="date" size="100" />
			<FIELD name="OSP$PROTOCOL.EXPIRATION_DATE" datatype="date"
				size="100" />
			<FIELD name="OSP$PROTOCOL_FUNDING_SOURCE.FUNDING_SOURCE" alias="FS.FUNDING_SOURCE"
				datatype="string" size="100" table="OSP$PROTOCOL_FUNDING_SOURCE FS"
				join="( OSP$PROTOCOL.PROTOCOL_NUMBER = FS.PROTOCOL_NUMBER) AND
	                        ( FS.SEQUENCE_NUMBER IN ( SELECT MAX(FS1.SEQUENCE_NUMBER)
	                            FROM OSP$PROTOCOL_FUNDING_SOURCE FS1
                        WHERE FS1.PROTOCOL_NUMBER =FS.PROTOCOL_NUMBER))" />

		</CRITERIA>
		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol No</FIELD>
			<FIELD name="PROTOCOL_TYPE_DESCRIPTION" size="100">Type</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="100">Status</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="DESCRIPTION" size="160">Description/Keyword</FIELD>
			<FIELD name="APPLICATION_DATE" size="100" datatype="date">Application
				Date</FIELD>
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="100" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="PERSON_NAME" size="100">Investigator</FIELD>
			<FIELD name="UNIT_NUMBER" size="100">Unit Number</FIELD>
			<FIELD name="UNIT_NAME" size="100">Unit Name</FIELD>
			<!-- added by ravi to have the protocol sequence number in basewindow 
				( used for performing actions ) -->
			<!--FIELD name="FUNDING_SOURCE" size="100">Funding Source Number</FIELD -->
			<FIELD name="SEQUENCE_NUMBER" datatype="number">Sequence Number</FIELD>
		</DISPLAY>
		<CUSTOMSEARCH displaylimit="0">
			<CUSTOMQUERY display="Query1"
				queryString="OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%23%'" />
			<CUSTOMQUERY display="Query2"
				queryString="OSP$PROTOCOL.PROTOCOL_STATUS_CODE = 100 AND OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%23%'" />
			<CUSTOMQUERY display="Query3"
				queryString="OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%24%'" />
			<CUSTOMQUERY display="Query4"
				queryString="OSP$PROTOCOL.PROTOCOL_STATUS_CODE = 100 AND OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%24%'" />
			<CUSTOMQUERY display="Query5"
				queryString="OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%25%'" />
			<CUSTOMQUERY display="Query6"
				queryString="OSP$PROTOCOL.PROTOCOL_STATUS_CODE = 100 AND OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%25%'" />
			<CUSTOMQUERY display="Query7"
				queryString="OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%26%'" />
			<CUSTOMQUERY display="Query8"
				queryString="OSP$PROTOCOL.PROTOCOL_STATUS_CODE = 100 AND OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%26%'" />
			<CUSTOMQUERY display="Query9"
				queryString="OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%27%'" />
			<CUSTOMQUERY display="Query10"
				queryString="OSP$PROTOCOL.PROTOCOL_NUMBER LIKE'%64%' AND OSP$PROTOCOL.PROTOCOL_STATUS_CODE IN (101,107) AND UPPER(OSP$PROTOCOL.EXPIRATION_DATE)>to_date('03-MAR-2003','dd-MON-yyyy')" />
			<CUSTOMQUERY display="Query11"
				queryString="OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%28%'" />
			<CUSTOMQUERY display="Query12"
				queryString="OSP$PROTOCOL.PROTOCOL_STATUS_CODE = 100 AND OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%28%'" />
		</CUSTOMSEARCH>
		<REMCLAUSE>
			ORDER BY OSP$PROTOCOL.PROTOCOL_NUMBER desc
		</REMCLAUSE>
	</PROTOCOLSEARCH>

	<PENDINGPROTOCOLSEARCH display="Pending Protocols"
		retrievelimit="PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$PROTOCOL.PROTOCOL_NUMBER ,
				OSP$PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$PROTOCOL.TITLE ,
				to_char(OSP$PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT') "APPLICATION_DATE",
				to_char(OSP$PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$PROTOCOL.CREATE_USER ,
				OSP$PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$PROTOCOL.UPDATE_USER
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_STATUS" alias="PS" />
			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="OSP$PROTOCOL.SEQUENCE_NUMBER
	            IN (SELECT
	                  MAX(A.SEQUENCE_NUMBER)
	                FROM
	                  OSP$PROTOCOL A
	                WHERE
	                  A.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER) AND
	          OSP$PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE
	          AND      OSP$PROTOCOL.PROTOCOL_STATUS_CODE IN ( 100,101,102,104,105,106,107)" />
			<!-- The value of the join attribute should be appended in the where clause 
				while forming a query. -->
		</QUERY>
		<!-- All the elements for the search criteria should be specified in this 
			section. There should be a corresponding entry for COLUMN element for each 
			FIELD element in this section. All the fields specified here will be displayed 
			as search criterias in the CoeusSearch.java file. Mainly two types of data 
			types can come here. 1) string 2) number If we want to use any specific alias 
			and joins, it should be specified as attributes of each FIELD element. -->
		<!--CRITERIA> <FIELD name="OSP$PROTOCOL_INVESTIGATORS.PERSON_ID" datatype="string" 
			size="100"/> </CRITERIA -->
		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="100">Status</FIELD>
			<FIELD name="CREATE_TIMESTAMP" size="160" datatype="date">Creation
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>
		<!-- Inlude only those protocols where 1. The user has any role in the 
			protocol, except approvers (role id 201). 2. The user is an investigator 
			for the protocol -->
		<!-- Modified for Case#4369 - PI to create amendment/renewal - Start 1. 
			Modified to check for the max sequence in OSP$PROTOCOL_INVESTIGATORS <REMCLAUSE> 
			AND OSP$PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER FROM 
			OSP$PROTOCOL_USER_ROLES WHERE UPPER(OSP$PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS') 
			AND OSP$PROTOCOL_USER_ROLES.ROLE_ID NOT IN (201) union select distinct pi.protocol_number 
			from osp$protocol_investigators pi, osp$person p where upper(p.user_name) 
			= upper('COEUS') and pi.person_id = p.person_id) ORDER BY OSP$PROTOCOL.PROTOCOL_NUMBER 
			DESC </REMCLAUSE> -->

		<REMCLAUSE>
			AND OSP$PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			AND OSP$PROTOCOL_USER_ROLES.ROLE_ID NOT IN (201)
			union
			select distinct pi.protocol_number
			from osp$protocol_investigators pi, osp$person p
			where upper(p.user_name) = upper('COEUS') and
			pi.SEQUENCE_NUMBER IN ( SELECT MAX(INV.SEQUENCE_NUMBER)
			FROM OSP$PROTOCOL_INVESTIGATORS INV
			WHERE INV.PROTOCOL_NUMBER = pi.PROTOCOL_NUMBER) and
			pi.person_id = p.person_id) ORDER BY OSP$PROTOCOL.PROTOCOL_NUMBER DESC
		</REMCLAUSE>
		<!-- Case#4369 - End -->

	</PENDINGPROTOCOLSEARCH>

	<ACTIVEPROTOCOLSEARCH display="Active Protocols"
		retrievelimit="PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$PROTOCOL.PROTOCOL_NUMBER ,
				OSP$PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$PROTOCOL.TITLE ,
				to_char(OSP$PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT') "APPLICATION_DATE",
				to_char(OSP$PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$PROTOCOL.CREATE_USER ,
				OSP$PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$PROTOCOL.UPDATE_USER
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_STATUS" alias="PS" />

			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="OSP$PROTOCOL.SEQUENCE_NUMBER
	            IN (SELECT
	                  MAX(A.SEQUENCE_NUMBER)
	                FROM
	                  OSP$PROTOCOL A
	                 WHERE
	                  A.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER) AND
	          OSP$PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE AND
                  OSP$PROTOCOL.PROTOCOL_STATUS_CODE IN ( 200, 201, 202)" />

		</QUERY>

		<!--CRITERIA> <FIELD name="OSP$PROTOCOL_INVESTIGATORS.PERSON_ID" datatype="string" 
			size="100"/> </CRITERIA -->

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="100">Status</FIELD>
			<FIELD name="APPLICATION_DATE" size="100" datatype="date">Application
				Date</FIELD>
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval
				Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="160" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			AND OSP$PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			union
			select distinct pi.protocol_number
			from osp$protocol_investigators pi, osp$person p
			where upper(p.user_name) = upper('COEUS') and
			pi.person_id = p.person_id) ORDER BY OSP$PROTOCOL.PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</ACTIVEPROTOCOLSEARCH>

	<INCOMPLETEPROTOCOLSEARCH display="Incomplete Protocols"
		retrievelimit="PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$PROTOCOL.PROTOCOL_NUMBER ,
				OSP$PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$PROTOCOL.TITLE ,
				to_char(OSP$PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT') "APPLICATION_DATE",
				to_char(OSP$PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$PROTOCOL.CREATE_USER ,
				OSP$PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$PROTOCOL.UPDATE_USER
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_STATUS" alias="PS" />
				<TABLE name="OSP$PROTOCOL_TYPE" alias="PT" />
				<TABLE name="OSP$PROTOCOL_INVESTIGATORS" />

			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="OSP$PROTOCOL.SEQUENCE_NUMBER
	            IN (SELECT
	                  MAX(A.SEQUENCE_NUMBER)
	                FROM
	                  OSP$PROTOCOL A
	                WHERE
	                  A.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER) AND
	          OSP$PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE AND
	          OSP$PROTOCOL.PROTOCOL_NUMBER = OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER (+)
			  AND OSP$PROTOCOL_INVESTIGATORS.SEQUENCE_NUMBER IN ( SELECT MAX(INV1.SEQUENCE_NUMBER)
                        FROM OSP$PROTOCOL_INVESTIGATORS INV1
                        WHERE INV1.PROTOCOL_NUMBER =OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER)
			    	AND      OSP$PROTOCOL.PROTOCOL_STATUS_CODE = 107" />

		</QUERY>

		<CRITERIA>
			<FIELD name="OSP$PROTOCOL_INVESTIGATORS.PERSON_ID" datatype="string"
				size="100" />
		</CRITERIA>

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="100">Status</FIELD>
			<FIELD name="CREATE_TIMESTAMP" size="160" datatype="date">Creation
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			ORDER BY OSP$PROTOCOL.PROTOCOL_NUMBER desc
		</REMCLAUSE>
	</INCOMPLETEPROTOCOLSEARCH>
	<!-- Code added for Case#3070 - Ability to modify funding source - starts -->
	<ORIGINALPROTOCOLSEARCH display="Protocol Search"
		retrievelimit="PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$PROTOCOL.PROTOCOL_NUMBER ,
				OSP$PROTOCOL.SEQUENCE_NUMBER ,
				OSP$PROTOCOL.PROTOCOL_TYPE_CODE ,
				OSP$PROTOCOL.REFERENCE_NUMBER_1 ,
				PT.DESCRIPTION AS PROTOCOL_TYPE_DESCRIPTION ,
				OSP$PROTOCOL.PROTOCOL_STATUS_CODE ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$PROTOCOL.TITLE ,
				OSP$PROTOCOL.DESCRIPTION,
				to_char(OSP$PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT') "APPLICATION_DATE",
				to_char(OSP$PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				OSP$PROTOCOL.FDA_APPLICATION_NUMBER ,
				OSP$PROTOCOL.CREATE_TIMESTAMP ,
				OSP$PROTOCOL.CREATE_USER ,
				OSP$PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$PROTOCOL.UPDATE_USER ,
				PI.PERSON_ID ,
				PI.PERSON_NAME ,
				PU.UNIT_NUMBER ,
				UNT.UNIT_NAME
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_STATUS" alias="PS" />
				<TABLE name="OSP$PROTOCOL_TYPE" alias="PT" />
				<TABLE
					name="(SELECT PROTOCOL_NUMBER ,
                             SEQUENCE_NUMBER ,
                             PERSON_ID ,
                             PERSON_NAME ,
                             PRINCIPAL_INVESTIGATOR_FLAG
                      FROM OSP$PROTOCOL_INVESTIGATORS
                      WHERE SEQUENCE_NUMBER IN (SELECT MAX(A.SEQUENCE_NUMBER)
                                                FROM OSP$PROTOCOL_INVESTIGATORS A
                                                WHERE A.PROTOCOL_NUMBER = OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER )
                      AND OSP$PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y')"
					alias="PI" />
				<TABLE
					name="(SELECT PROTOCOL_NUMBER ,
                             SEQUENCE_NUMBER ,
                             UNIT_NUMBER ,
                             PERSON_ID
                      FROM OSP$PROTOCOL_UNITS
                      WHERE SEQUENCE_NUMBER IN (SELECT MAX(A.SEQUENCE_NUMBER)
                                                FROM OSP$PROTOCOL_UNITS A
                                                WHERE A.PROTOCOL_NUMBER = OSP$PROTOCOL_UNITS.PROTOCOL_NUMBER AND
                                                      A.PERSON_ID = OSP$PROTOCOL_UNITS.PERSON_ID )
                      AND OSP$PROTOCOL_UNITS.LEAD_UNIT_FLAG = 'Y')"
					alias="PU" />
				<TABLE name="OSP$UNIT" alias="UNT" />
				<TABLE
					name="( SELECT PROTOCOL_NUMBER, FUNDING_SOURCE
                        FROM OSP$PROTOCOL_FUNDING_SOURCE
                        WHERE SEQUENCE_NUMBER IN ( SELECT MAX(FS.SEQUENCE_NUMBER)
                        FROM OSP$PROTOCOL_FUNDING_SOURCE FS
                        WHERE FS.PROTOCOL_NUMBER = OSP$PROTOCOL_FUNDING_SOURCE.PROTOCOL_NUMBER)) "
					alias="FS" />

			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="(OSP$PROTOCOL.SEQUENCE_NUMBER
	            IN (SELECT
	                  MAX(A.SEQUENCE_NUMBER)
	                FROM
	                  OSP$PROTOCOL A
	                WHERE
	                  A.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER) AND
	          OSP$PROTOCOL.PROTOCOL_TYPE_CODE = PT.PROTOCOL_TYPE_CODE AND
	          OSP$PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE AND
	          OSP$PROTOCOL.PROTOCOL_NUMBER = PI.PROTOCOL_NUMBER (+) AND
	          PI.PROTOCOL_NUMBER = PU.PROTOCOL_NUMBER (+) AND
	          PI.PERSON_ID = PU.PERSON_ID (+) AND
      		PU.UNIT_NUMBER = UNT.UNIT_NUMBER (+))
                AND OSP$PROTOCOL.PROTOCOL_NUMBER = FS.PROTOCOL_NUMBER (+)
                AND   INSTR(OSP$PROTOCOL.PROTOCOL_NUMBER,'A') = 0
                AND   INSTR(OSP$PROTOCOL.PROTOCOL_NUMBER,'R') = 0 " />

		</QUERY>
		<!-- All the elements for the search criteria should be specified in this 
			section. There should be a corresponding entry for COLUMN element for each 
			FIELD element in this section. All the fields specified here will be displayed 
			as search criterias in the CoeusSearch.java file. Mainly two types of data 
			types can come here. 1) string 2) number If we want to use any specific alias 
			and joins, it should be specified as attributes of each FIELD element. -->
		<CRITERIA>
			<FIELD name="OSP$PROTOCOL.PROTOCOL_NUMBER" datatype="string"
				size="100" />
			<FIELD name="OSP$PROTOCOL.PROTOCOL_TYPE_CODE" datatype="number"
				size="100" />
			<FIELD name="OSP$PROTOCOL.REFERENCE_NUMBER_1" datatype="string"
				size="100" />
			<FIELD name="OSP$PROTOCOL.PROTOCOL_STATUS_CODE" datatype="number"
				size="100" />
			<FIELD name="OSP$PROTOCOL_INVESTIGATORS.PERSON_NAME" alias="INV.PERSON_NAME"
				datatype="string" size="100" table="OSP$PROTOCOL_INVESTIGATORS INV"
				join="( OSP$PROTOCOL.PROTOCOL_NUMBER = INV.PROTOCOL_NUMBER) AND
                    ( INV.SEQUENCE_NUMBER IN ( SELECT MAX(INV1.SEQUENCE_NUMBER)
                        FROM OSP$PROTOCOL_INVESTIGATORS INV1
                        WHERE INV1.PROTOCOL_NUMBER =INV.PROTOCOL_NUMBER))" />
			<FIELD name="OSP$PROTOCOL.TITLE" datatype="string" size="100" />
			<FIELD name="OSP$PROTOCOL.DESCRIPTION" datatype="string" size="160" />
			<FIELD name="OSP$PROTOCOL_KEY_PERSONS.PERSON_NAME" alias="KP.PERSON_NAME"
				datatype="string" size="100" table="OSP$PROTOCOL_KEY_PERSONS KP"
				join="( OSP$PROTOCOL.PROTOCOL_NUMBER = KP.PROTOCOL_NUMBER) AND
                    ( KP.SEQUENCE_NUMBER IN ( SELECT MAX(KP1.SEQUENCE_NUMBER)
                        FROM OSP$PROTOCOL_KEY_PERSONS KP1
                        WHERE KP1.PROTOCOL_NUMBER =KP.PROTOCOL_NUMBER))" />
			<FIELD name="OSP$RESEARCH_AREAS.DESCRIPTION" alias="RA.DESCRIPTION"
				datatype="string" size="100"
				table="OSP$PROTOCOL_RESEARCH_AREAS PRA, OSP$RESEARCH_AREAS RA"
				join="( OSP$PROTOCOL.PROTOCOL_NUMBER = PRA.PROTOCOL_NUMBER) AND
                    ( PRA.SEQUENCE_NUMBER IN ( SELECT MAX(PRA1.SEQUENCE_NUMBER)
                        FROM OSP$PROTOCOL_RESEARCH_AREAS PRA1
                        WHERE PRA1.PROTOCOL_NUMBER =PRA.PROTOCOL_NUMBER)) AND
                    (PRA.RESEARCH_AREA_CODE = RA.RESEARCH_AREA_CODE) " />

			<FIELD name="OSP$PROTOCOL.APPLICATION_DATE" datatype="date"
				size="100" />
			<FIELD name="OSP$PROTOCOL.APPROVAL_DATE" datatype="date" size="100" />
			<FIELD name="OSP$PROTOCOL.EXPIRATION_DATE" datatype="date"
				size="100" />
			<FIELD name="FS.FUNDING_SOURCE" datatype="String" size="100" />
			<!--<FIELD name="OSP$PROTOCOL.FDA_APPLICATION_NUMBER" datatype="string" 
				size="100"/> -->
		</CRITERIA>
		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol No</FIELD>
			<FIELD name="PROTOCOL_TYPE_DESCRIPTION" size="100">Type</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="100">Status</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="DESCRIPTION" size="160">Description/Keyword</FIELD>
			<FIELD name="APPLICATION_DATE" size="100" datatype="date">Application
				Date</FIELD>
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="100" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="PERSON_NAME" size="100">Investigator</FIELD>
			<FIELD name="UNIT_NUMBER" size="100">Unit Number</FIELD>
			<FIELD name="UNIT_NAME" size="100">Unit Name</FIELD>
			<!-- added by ravi to have the protocol sequence number in basewindow 
				( used for performing actions ) -->
			<!--FIELD name="FUNDING_SOURCE" size="100">Funding Source Number</FIELD -->
			<FIELD name="SEQUENCE_NUMBER" datatype="number">Sequence Number</FIELD>
		</DISPLAY>
		<CUSTOMSEARCH displaylimit="0">
			<CUSTOMQUERY display="Query1"
				queryString="OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%23%'" />
			<CUSTOMQUERY display="Query2"
				queryString="OSP$PROTOCOL.PROTOCOL_STATUS_CODE = 100 AND OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%23%'" />
			<CUSTOMQUERY display="Query3"
				queryString="OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%24%'" />
			<CUSTOMQUERY display="Query4"
				queryString="OSP$PROTOCOL.PROTOCOL_STATUS_CODE = 100 AND OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%24%'" />
			<CUSTOMQUERY display="Query5"
				queryString="OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%25%'" />
			<CUSTOMQUERY display="Query6"
				queryString="OSP$PROTOCOL.PROTOCOL_STATUS_CODE = 100 AND OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%25%'" />
			<CUSTOMQUERY display="Query7"
				queryString="OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%26%'" />
			<CUSTOMQUERY display="Query8"
				queryString="OSP$PROTOCOL.PROTOCOL_STATUS_CODE = 100 AND OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%26%'" />
			<CUSTOMQUERY display="Query9"
				queryString="OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%27%'" />
			<CUSTOMQUERY display="Query10"
				queryString="OSP$PROTOCOL.PROTOCOL_NUMBER LIKE'%64%' AND OSP$PROTOCOL.PROTOCOL_STATUS_CODE IN (101,107) AND UPPER(OSP$PROTOCOL.EXPIRATION_DATE)>to_date('03-MAR-2003','dd-MON-yyyy')" />
			<CUSTOMQUERY display="Query11"
				queryString="OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%28%'" />
			<CUSTOMQUERY display="Query12"
				queryString="OSP$PROTOCOL.PROTOCOL_STATUS_CODE = 100 AND OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%28%'" />
		</CUSTOMSEARCH>
		<REMCLAUSE>
			ORDER BY OSP$PROTOCOL.PROTOCOL_NUMBER desc
		</REMCLAUSE>
	</ORIGINALPROTOCOLSEARCH>
	<!-- Code added for Case#3070 - Ability to modify funding source - ends -->
	<ACTIVE_SUBMISSION_PROTO_SEARCH display="Active Submissions"
		retrievelimit="PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$PROTOCOL.PROTOCOL_NUMBER ,
				OSP$PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$PROTOCOL.TITLE ,
				to_char(OSP$PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT') "APPLICATION_DATE",
				to_char(OSP$PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$PROTOCOL.CREATE_USER ,
				OSP$PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$PROTOCOL.UPDATE_USER
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_STATUS" alias="PS" />

			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="OSP$PROTOCOL.SEQUENCE_NUMBER
	            IN (SELECT
	                  MAX(A.SEQUENCE_NUMBER)
	                FROM
	                  OSP$PROTOCOL A
	                WHERE
	                  A.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER) AND
	          OSP$PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE AND
                  OSP$PROTOCOL.PROTOCOL_STATUS_CODE IN (101,107) " />

		</QUERY>

		<!--CRITERIA> <FIELD name="OSP$PROTOCOL_INVESTIGATORS.PERSON_ID" datatype="string" 
			size="100"/> </CRITERIA -->

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="100">Status</FIELD>
			<FIELD name="APPLICATION_DATE" size="100" datatype="date">Application
				Date</FIELD>
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="160" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			AND OSP$PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			union
			select distinct pi.protocol_number
			from osp$protocol_investigators pi, osp$person p
			where upper(p.user_name) = upper('COEUS') and
			pi.person_id = p.person_id) ORDER BY OSP$PROTOCOL.PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</ACTIVE_SUBMISSION_PROTO_SEARCH>

	<AMENDS_RENEWALS_PROTO_SEARCH display="Amendments and Renewals"
		retrievelimit="PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$PROTOCOL.PROTOCOL_NUMBER ,
				OSP$PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$PROTOCOL.TITLE ,
				to_char(OSP$PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT') "APPLICATION_DATE",
				to_char(OSP$PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$PROTOCOL.CREATE_USER ,
				OSP$PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$PROTOCOL.UPDATE_USER
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_STATUS" alias="PS" />
			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="OSP$PROTOCOL.SEQUENCE_NUMBER
	            IN (SELECT
	                  MAX(A.SEQUENCE_NUMBER)
	                FROM
	                  OSP$PROTOCOL A
	                WHERE
	                  A.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER) AND
	          OSP$PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE
		AND OSP$PROTOCOL.PROTOCOL_STATUS_CODE IN (101,105,106,107)
		AND ( OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%A%' OR OSP$PROTOCOL.PROTOCOL_NUMBER LIKE '%R%')" />

		</QUERY>

		<!--CRITERIA> <FIELD name="OSP$PROTOCOL_INVESTIGATORS.PERSON_ID" datatype="string" 
			size="100"/> </CRITERIA -->

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="100">Status</FIELD>
			<FIELD name="CREATE_TIMESTAMP" size="160" datatype="date">Creation
				Date</FIELD>
			<FIELD name="APPLICATION_DATE" size="100" datatype="date">Application
				Date</FIELD>
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			AND OSP$PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			union
			select distinct pi.protocol_number
			from osp$protocol_investigators pi, osp$person p
			where upper(p.user_name) = upper('COEUS') and
			pi.person_id = p.person_id) ORDER BY OSP$PROTOCOL.PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</AMENDS_RENEWALS_PROTO_SEARCH>

	<ALL_PROTO_SEARCH display="All Protocols"
		retrievelimit="PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$PROTOCOL.PROTOCOL_NUMBER ,
				OSP$PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$PROTOCOL.TITLE ,
				to_char(OSP$PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT') "APPLICATION_DATE",
				to_char(OSP$PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$PROTOCOL.CREATE_USER ,
				OSP$PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$PROTOCOL.UPDATE_USER
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_STATUS" alias="PS" />

			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="OSP$PROTOCOL.SEQUENCE_NUMBER
	            IN (SELECT
	                  MAX(A.SEQUENCE_NUMBER)
	                FROM
	                  OSP$PROTOCOL A
	                WHERE
	                  A.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER) AND
	          OSP$PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE" />

		</QUERY>

		<!--CRITERIA> <FIELD name="OSP$PROTOCOL.PROTOCOL_NUMBER" datatype="string" 
			size="100"/> <FIELD name="OSP$PROTOCOL.PROTOCOL_TYPE_CODE" datatype="number" 
			size="100"/> <FIELD name="OSP$PROTOCOL.REFERENCE_NUMBER_1" datatype="string" 
			size="100"/> <FIELD name="OSP$PROTOCOL.PROTOCOL_STATUS_CODE" datatype="number" 
			size="100"/> </CRITERIA -->

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="50">Status</FIELD>
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="160" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>
		<!-- Inlude only those protocols where 1. The user has any role in the 
			protocol, except approvers (role id 201). 2. The user is an investigator 
			for the protocol -->

		<!-- Modified for Case#4369 - PI to create amendment/renewal - Start 1. 
			Modified to check for the max sequence in OSP$PROTOCOL_INVESTIGATORS <REMCLAUSE> 
			AND OSP$PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER FROM 
			OSP$PROTOCOL_USER_ROLES WHERE UPPER(OSP$PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS') 
			AND OSP$PROTOCOL_USER_ROLES.ROLE_ID NOT IN (201) union select distinct pi.protocol_number 
			from osp$protocol_investigators pi, osp$person p where upper(p.user_name) 
			= upper('COEUS') and and pi.person_id = p.person_id) ORDER BY OSP$PROTOCOL.PROTOCOL_NUMBER 
			DESC </REMCLAUSE> -->
		<REMCLAUSE>
			AND OSP$PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			AND OSP$PROTOCOL_USER_ROLES.ROLE_ID NOT IN (201)
			union
			select distinct pi.protocol_number
			from osp$protocol_investigators pi, osp$person p
			where upper(p.user_name) = upper('COEUS') and
			pi.SEQUENCE_NUMBER IN ( SELECT MAX(INV.SEQUENCE_NUMBER)
			FROM OSP$PROTOCOL_INVESTIGATORS INV
			WHERE INV.PROTOCOL_NUMBER = pi.PROTOCOL_NUMBER)
			and pi.person_id = p.person_id) ORDER BY OSP$PROTOCOL.PROTOCOL_NUMBER
			DESC
		</REMCLAUSE>
		<!--Case#4369 - End -->

	</ALL_PROTO_SEARCH>

	<!-- Added for Pending PI Action Searches - Coeus 4.3 Enhancement - Start -->

	<!-- Specific Minor Revisions Required Pending Protocols requiring PI Action 
		Search -->
	<PENDING_PI_ACTION_SMR_RQD_PROTO_SEARCH
		display="SMR Reqd Pending Protocols requiring PI Action"
		retrievelimit="PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>

			<SELECTQUERY>
				SELECT DISTINCT
				OSP$PROTOCOL.PROTOCOL_NUMBER ,
				OSP$PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$PROTOCOL.TITLE ,
				to_char(OSP$PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT') "APPLICATION_DATE",
				to_char(OSP$PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$PROTOCOL.CREATE_USER ,
				OSP$PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$PROTOCOL.UPDATE_USER
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_STATUS" alias="PS" />

			</FROM>

			<WHERE
				join="OSP$PROTOCOL.SEQUENCE_NUMBER
    	            IN (SELECT
    	                  MAX(A.SEQUENCE_NUMBER)
    	                FROM
    	                  OSP$PROTOCOL A
    	                WHERE
    	                  A.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER) AND
    	          OSP$PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE AND
    	          OSP$PROTOCOL.PROTOCOL_STATUS_CODE = 102" />

		</QUERY>


		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<!--FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="50">Status</FIELD -->
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="160" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			UNION
			SELECT DISTINCT PI.PROTOCOL_NUMBER
			FROM OSP$PROTOCOL_INVESTIGATORS PI, OSP$PERSON P
			WHERE UPPER(P.USER_NAME) = UPPER('COEUS')
			AND PI.PERSON_ID = P.PERSON_ID)
			ORDER BY PROTOCOL_STATUS_DESCRIPTION, OSP$PROTOCOL.PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</PENDING_PI_ACTION_SMR_RQD_PROTO_SEARCH>

	<!--Substantive Revisions Required Pending Protocols requiring PI Action 
		Search -->
	<PENDING_PI_ACTION_SR_RQD_PROTO_SEARCH
		display="SR Reqd Pending Protocols requiring PI Action" retrievelimit="PROTOCOL_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>

			<SELECTQUERY>
				SELECT DISTINCT
				OSP$PROTOCOL.PROTOCOL_NUMBER ,
				OSP$PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$PROTOCOL.TITLE ,
				to_char(OSP$PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT') "APPLICATION_DATE",
				to_char(OSP$PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$PROTOCOL.CREATE_USER ,
				OSP$PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$PROTOCOL.UPDATE_USER
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_STATUS" alias="PS" />

			</FROM>

			<WHERE
				join="OSP$PROTOCOL.SEQUENCE_NUMBER
    	            IN (SELECT
    	                  MAX(A.SEQUENCE_NUMBER)
    	                FROM
    	                  OSP$PROTOCOL A
    	                WHERE
    	                  A.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER) AND
    	          OSP$PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE AND
    	          OSP$PROTOCOL.PROTOCOL_STATUS_CODE = 104" />

		</QUERY>


		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<!--FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="50">Status</FIELD -->
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="160" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			UNION
			SELECT DISTINCT PI.PROTOCOL_NUMBER
			FROM OSP$PROTOCOL_INVESTIGATORS PI, OSP$PERSON P
			WHERE UPPER(P.USER_NAME) = UPPER('COEUS')
			AND PI.PERSON_ID = P.PERSON_ID)
			ORDER BY PROTOCOL_STATUS_DESCRIPTION, OSP$PROTOCOL.PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</PENDING_PI_ACTION_SR_RQD_PROTO_SEARCH>

	<!-- Recently Expiring Pending Protocols requiring PI Action Search -->
	<!-- The Protocol Expiration Date ranges from Current Date to the next 31 
		days -->
	<PENDING_PI_ACTION_EXPIRE_PROTO_SEARCH
		display="Expiring Protocols requiring PI Action" retrievelimit="PROTOCOL_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>

			<SELECTQUERY>
				SELECT DISTINCT
				OSP$PROTOCOL.PROTOCOL_NUMBER ,
				OSP$PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$PROTOCOL.TITLE ,
				to_char(OSP$PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT') "APPLICATION_DATE",
				to_char(OSP$PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$PROTOCOL.CREATE_USER ,
				OSP$PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$PROTOCOL.UPDATE_USER
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_STATUS" alias="PS" />
				<TABLE
					name="( SELECT DECODE(DEFAULT_TIME_WINDOW,NULL,0,DEFAULT_TIME_WINDOW) AS EXP_DATE
    		    		    FROM OSP$CORRESPONDENCE_BATCH
    		    		    WHERE CORRESP_BATCH_TYPE_CODE = 1 )"
					alias="EXP_DAYS_RANGE" />
			</FROM>

			<WHERE
				join="OSP$PROTOCOL.SEQUENCE_NUMBER
    	            IN (SELECT
    	                  MAX(A.SEQUENCE_NUMBER)
    	                FROM
    	                  OSP$PROTOCOL A
    	                WHERE
    	                  A.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER) AND
    	          OSP$PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE AND
    	          OSP$PROTOCOL.PROTOCOL_STATUS_CODE IN ( 200,201,202) AND
    	          OSP$PROTOCOL.EXPIRATION_DATE BETWEEN SYSDATE AND SYSDATE+EXP_DAYS_RANGE.EXP_DATE AND
    	          OSP$PROTOCOL.PROTOCOL_NUMBER NOT IN ( SELECT DISTINCT PROTOCOL_NUMBER
                                                        FROM OSP$PROTO_AMEND_RENEWAL
                                                        WHERE OSP$PROTO_AMEND_RENEWAL.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER
                                                        AND SEQUENCE_NUMBER IN ( SELECT MAX(PAR.SEQUENCE_NUMBER) FROM OSP$PROTO_AMEND_RENEWAL PAR
                                                                                 WHERE OSP$PROTO_AMEND_RENEWAL.PROTOCOL_NUMBER = PAR.PROTOCOL_NUMBER)
                                                        AND  OSP$PROTO_AMEND_RENEWAL.PROTO_AMEND_REN_NUMBER LIKE '%R%')" />

		</QUERY>

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<!--FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="50">Status</FIELD -->
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="160" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			AND OSP$PROTOCOL_USER_ROLES.SEQUENCE_NUMBER IN (
			SELECT MAX(PUR.SEQUENCE_NUMBER ) FROM OSP$PROTOCOL_USER_ROLES PUR
			WHERE PUR.PROTOCOL_NUMBER = OSP$PROTOCOL_USER_ROLES.PROTOCOL_NUMBER )
			UNION
			SELECT DISTINCT PI.PROTOCOL_NUMBER
			FROM OSP$PROTOCOL_INVESTIGATORS PI, OSP$PERSON P
			WHERE UPPER(P.USER_NAME) = UPPER('COEUS')
			AND PI.SEQUENCE_NUMBER IN (
			SELECT MAX(PI1.SEQUENCE_NUMBER) FROM OSP$PROTOCOL_INVESTIGATORS PI1
			WHERE PI1.PROTOCOL_NUMBER = PI.PROTOCOL_NUMBER)
			AND PI.PERSON_ID = P.PERSON_ID)
			UNION
			SELECT DISTINCT
			OSP$PROTOCOL.PROTOCOL_NUMBER ,
			OSP$PROTOCOL.SEQUENCE_NUMBER ,
			PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
			OSP$PROTOCOL.TITLE ,
			to_char(OSP$PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT') "APPLICATION_DATE",
			to_char(OSP$PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
			"APPROVAL_DATE",
			to_char(OSP$PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
			"EXPIRATION_DATE",
			to_char(OSP$PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
			OSP$PROTOCOL.CREATE_USER ,
			OSP$PROTOCOL.UPDATE_TIMESTAMP ,
			OSP$PROTOCOL.UPDATE_USER
			FROM OSP$PROTOCOL,OSP$PROTOCOL_STATUS PS
			WHERE OSP$PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE
			AND OSP$PROTOCOL.PROTOCOL_STATUS_CODE = 305
			AND OSP$PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			AND OSP$PROTOCOL_USER_ROLES.SEQUENCE_NUMBER IN (
			SELECT MAX(PUR.SEQUENCE_NUMBER ) FROM OSP$PROTOCOL_USER_ROLES PUR
			WHERE PUR.PROTOCOL_NUMBER = OSP$PROTOCOL_USER_ROLES.PROTOCOL_NUMBER )
			UNION
			SELECT DISTINCT PI.PROTOCOL_NUMBER
			FROM OSP$PROTOCOL_INVESTIGATORS PI, OSP$PERSON P
			WHERE UPPER(P.USER_NAME) = UPPER('COEUS')
			AND PI.SEQUENCE_NUMBER IN (
			SELECT MAX(PI1.SEQUENCE_NUMBER) FROM OSP$PROTOCOL_INVESTIGATORS PI1
			WHERE PI1.PROTOCOL_NUMBER = PI.PROTOCOL_NUMBER)
			AND PI.PERSON_ID = P.PERSON_ID)
			AND OSP$PROTOCOL.SEQUENCE_NUMBER IN (SELECT MAX(PRO1.SEQUENCE_NUMBER)
			FROM OSP$PROTOCOL PRO1
			WHERE PRO1.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER)
			ORDER BY PROTOCOL_STATUS_DESCRIPTION, PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</PENDING_PI_ACTION_EXPIRE_PROTO_SEARCH>

	<!-- Added for Pending PI Action Searches - Coeus 4.3 Enhancement - End -->

	<ALL_PROTOCOL_SEARCH display="All Protocols"
		retrievelimit="PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">

		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$PROTOCOL.PROTOCOL_NUMBER ,
				OSP$PROTOCOL.SEQUENCE_NUMBER ,
				OSP$PROTOCOL.PROTOCOL_STATUS_CODE ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				DECODE(PI.PERSON_NAME, NULL, INV.PERSON_NAME, PI.PERSON_NAME) AS PERSON_NAME,
				OSP$PROTOCOL.TITLE ,
				to_char(OSP$PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPLICATION_DATE",
				to_char(OSP$PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$PROTOCOL.CREATE_USER ,
				OSP$PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$PROTOCOL.UPDATE_USER
				<!--OSP$PROTOCOL.UPDATE_USER, FS.FUNDING_SOURCE commented the code for 
					the problem "In search result there are as many rows as funding sources" 
					faced -->
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_STATUS" alias="PS" />
				<TABLE name="OSP$PROTOCOL_TYPE" alias="PT" />
				<TABLE name="OSP$PROTOCOL_USER_ROLES" alias="PUR" />
				<TABLE
					name="( SELECT PROTOCOL_NUMBER, PERSON_NAME, PERSON_ID
                          FROM OSP$PROTOCOL_INVESTIGATORS
                          WHERE SEQUENCE_NUMBER IN ( SELECT MAX(INV.SEQUENCE_NUMBER)
                                     FROM OSP$PROTOCOL_INVESTIGATORS INV
                                WHERE INV.PROTOCOL_NUMBER = OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER)
                          AND PRINCIPAL_INVESTIGATOR_FLAG  = 'Y')"
					alias="PI" />
				<TABLE
					name="(SELECT PROTOCOL_NUMBER, PERSON_ID, UNIT_NUMBER
                                    FROM OSP$PROTOCOL_UNITS
                                    WHERE SEQUENCE_NUMBER IN (SELECT MAX(INU.SEQUENCE_NUMBER) FROM OSP$PROTOCOL_UNITS INU
                                                               WHERE INU.PROTOCOL_NUMBER = OSP$PROTOCOL_UNITS.PROTOCOL_NUMBER)
                                    AND LEAD_UNIT_FLAG = 'Y')"
					alias="LU" />
				<TABLE
					name="( SELECT PROTOCOL_NUMBER, PERSON_NAME, PERSON_ID
                          FROM OSP$PROTOCOL_INVESTIGATORS
                          WHERE SEQUENCE_NUMBER IN ( SELECT MAX(INV2.SEQUENCE_NUMBER)
                                     FROM OSP$PROTOCOL_INVESTIGATORS INV2
                                WHERE INV2.PROTOCOL_NUMBER = OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER))"
					alias="INV" />

				<TABLE
					name="( SELECT PROTOCOL_NUMBER, FUNDING_SOURCE
                          FROM OSP$PROTOCOL_FUNDING_SOURCE
                          WHERE SEQUENCE_NUMBER IN ( SELECT MAX(FS.SEQUENCE_NUMBER)
                                     FROM OSP$PROTOCOL_FUNDING_SOURCE FS
                                WHERE FS.PROTOCOL_NUMBER = OSP$PROTOCOL_FUNDING_SOURCE.PROTOCOL_NUMBER)) "
					alias="FS" />
			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="OSP$PROTOCOL.SEQUENCE_NUMBER IN (SELECT MAX(A.SEQUENCE_NUMBER)
                    FROM OSP$PROTOCOL A
                    WHERE A.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER)
                AND OSP$PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE
                AND OSP$PROTOCOL.PROTOCOL_NUMBER = PI.PROTOCOL_NUMBER (+)
                AND OSP$PROTOCOL.PROTOCOL_NUMBER = INV.PROTOCOL_NUMBER (+)
                AND OSP$PROTOCOL.PROTOCOL_NUMBER = LU.PROTOCOL_NUMBER (+)
                AND OSP$PROTOCOL.PROTOCOL_NUMBER = FS.PROTOCOL_NUMBER (+)
                AND PUR.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER
                AND PUR.SEQUENCE_NUMBER IN (SELECT MAX(SEQUENCE_NUMBER) FROM OSP$PROTOCOL_USER_ROLES WHERE PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER)
                " />
		</QUERY>

		<CRITERIA>
			<FIELD name="OSP$PROTOCOL.PROTOCOL_NUMBER" datatype="string"
				size="100" />
			<FIELD name="OSP$PROTOCOL.PROTOCOL_TYPE_CODE" datatype="number"
				size="100" />
			<!-- For bug fix case #id 2599 -->
			<!--<FIELD name="OSP$PROTOCOL.REFERENCE_NUMBER_1" datatype="string" size="100"/> -->
			<FIELD name="OSP$PROTOCOL.TITLE" datatype="string" size="100" />
			<!-- For bug fix case #id 2599 -->
			<FIELD name="OSP$PROTOCOL.PROTOCOL_STATUS_CODE" datatype="number"
				size="100" />
			<FIELD name="OSP$PROTOCOL.EXPIRATION_DATE" datatype="date"
				size="100" />
			<FIELD name="INV.PERSON_NAME" datatype="String" size="100" />
			<FIELD name="FS.FUNDING_SOURCE" datatype="String" size="100" />
		</CRITERIA>

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="100" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="160">Description</FIELD>
			<FIELD name="PROTOCOL_STATUS_CODE" visible="false">Code</FIELD>
			<FIELD name="PERSON_NAME" size="100">Investigator</FIELD>
			<!--FIELD name="FUNDING_SOURCE" size="100">Funding Source Number</FIELD 
				commented the code for the problem "In search result there are as many rows 
				as funding sources" faced -->
		</DISPLAY>
		<REMCLAUSE>
			AND (UPPER(PUR.USER_ID) = UPPER('COEUS' )
			OR ((SELECT COUNT(*) FROM OSP$PERSON WHERE OSP$PERSON.PERSON_ID =
			INV.PERSON_ID AND UPPER(OSP$PERSON.USER_NAME) = UPPER('COEUS')) > 0)
			OR (FN_USER_HAS_RIGHT_IN_MODULE('COEUS',LU.UNIT_NUMBER , 7) > 0))
			ORDER BY OSP$PROTOCOL.PROTOCOL_NUMBER DESC
		</REMCLAUSE>
	</ALL_PROTOCOL_SEARCH>

	<!--<USERSEARCH display ="User Search" retrievelimit ="500"> -->
	<USERSEARCH display="User Search" retrievelimit="USER_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$USER.USER_ID">
		<QUERY>
			<SELECTQUERY>SELECT OSP$USER.USER_ID,OSP$USER.USER_NAME,
				OSP$USER.NON_MIT_PERSON_FLAG,
				OSP$USER.UNIT_NUMBER,OSP$USER.STATUS,
				OSP$UNIT.UNIT_NAME,
				DECODE(OSP$USER.STATUS, 'A', 'Active' ,'I' ,'Inactive' )AS STATUSDESC,
				DECODE(OSP$USER.NON_MIT_PERSON_FLAG, 'Y', 'Yes' ,'N' ,'No' )AS
				FLAGDESC
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$USER" />
				<TABLE name="OSP$UNIT" />
			</FROM>
			<WHERE join="OSP$USER.UNIT_NUMBER = OSP$UNIT.UNIT_NUMBER " />
		</QUERY>

		<CRITERIA>
			<FIELD name="OSP$USER.USER_ID" datatype="string" size="100" />
			<FIELD name="OSP$USER.USER_NAME" datatype="string" size="100" />
			<FIELD name="OSP$USER.NON_MIT_PERSON_FLAG" datatype="string"
				size="100" />
			<FIELD name="OSP$USER.UNIT_NUMBER" datatype="string" size="100" />
			<FIELD name="OSP$UNIT.UNIT_NAME" datatype="string" size="100" />
			<FIELD name="OSP$USER.STATUS" datatype="string" size="100" />
		</CRITERIA>

		<PROCEDURE name="get_user_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="USER_ID">User ID</FIELD>
			<FIELD name="USER_NAME">User Name</FIELD>
			<FIELD name="FLAGDESC">Non Employee</FIELD>
			<FIELD name="UNIT_NUMBER">Unit Number</FIELD>
			<FIELD name="UNIT_NAME">Unit Name</FIELD>
			<FIELD name="STATUSDESC">Status</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			/* JM 9-22-2011 added for user type filter based on permissions */
			AND
			(OSP$USER.STATUS = 'A'
			OR OSP$USER.STATUS = (
			CASE
			WHEN FN_USER_HAS_ROLE('COEUS',1) > 0
			THEN 'I'
			ELSE 'A'
			END ))
			/* END */
			ORDER BY INITCAP(OSP$USER.USER_ID)
		</REMCLAUSE>
	</USERSEARCH>

	<!-- JM 12-27-2013 person search for subcontracts module -->
	<SUBCONTRACTPERSONSEARCH display="Subcontract Person Search"
		retrievelimit="PERSON_RETRIEVE_LIMIT" primarykeycolumn="OSP$PERSON.PERSON_ID">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>SELECT
				OSP$PERSON.PERSON_ID,OSP$PERSON.FULL_NAME,OSP$PERSON.LAST_NAME,
				OSP$PERSON.FIRST_NAME,OSP$PERSON.MIDDLE_NAME,OSP$PERSON.EMAIL_ADDRESS,
				OSP$PERSON.HOME_UNIT,OSP$UNIT.UNIT_NAME,
				OSP$PERSON.PRIMARY_TITLE,OSP$PERSON.DIRECTORY_TITLE,
				OSP$PERSON.OFFICE_PHONE,OSP$PERSON.FAX_NUMBER,
				OSP$PERSON.ADDRESS_LINE_1,OSP$PERSON.ADDRESS_LINE_2,OSP$PERSON.ADDRESS_LINE_3,
				OSP$PERSON.CITY,OSP$PERSON.COUNTY,
				OSP$STATE_CODE.DESCRIPTION STATE,OSP$COUNTRY_CODE.COUNTRY_NAME,
				OSP$PERSON.POSTAL_CODE
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$PERSON" />
				<TABLE name="OSP$UNIT" />
				<TABLE name="OSP$STATE_CODE" />
				<TABLE name="OSP$COUNTRY_CODE" />
			</FROM>
			<!-- The default joins should be specified in this section. The value 
				of the join attribute should be appended in the where clause while forming 
				a query. -->
			<WHERE
				join="OSP$PERSON.HOME_UNIT = OSP$UNIT.UNIT_NUMBER(+)
            	AND OSP$PERSON.STATE = OSP$STATE_CODE.STATE_CODE
            	AND OSP$PERSON.COUNTRY_CODE = OSP$COUNTRY_CODE.COUNTRY_CODE" />
		</QUERY>
		<!-- All the elements for the search criteria should be specified in this 
			section. There should be a corresponding entry for COLUMN element for each 
			FIELD element in this section. All the fields specified here will be displayed 
			as search criterias in the CoeusSearch.jsp file. Mainly two types of data 
			types can come here. 1) string 2) number If we want to use any specific alias 
			and joins, it should be specified as attributes of each FIELD element. -->
		<CRITERIA>
			<!-- <FIELD name="OSP$PERSON.PERSON_ID" datatype="string" webSize="10" 
				size="100"/> -->
			<FIELD name="OSP$PERSON.LAST_NAME" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$PERSON.FIRST_NAME" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$PERSON.FULL_NAME" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$PERSON.EMAIL_ADDRESS" datatype="string"
				webSize="13" size="120" />
			<FIELD name="OSP$PERSON.HOME_UNIT" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$UNIT.UNIT_NAME" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$PERSON.DIRECTORY_TITLE" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$PERSON.OFFICE_LOCATION" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$PERSON.OFFICE_PHONE" datatype="string"
				webSize="10" size="100" />
		</CRITERIA>
		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="dw_get_person_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<FIELD name="PERSON_ID" visible="false">Person Id</FIELD>
			<FIELD name="FULL_NAME" size="100">Full Name</FIELD>
			<FIELD name="EMAIL_ADDRESS" size="100">Email Address</FIELD>
			<FIELD name="HOME_UNIT" size="100">Home Unit</FIELD>
			<FIELD name="UNIT_NAME" size="100">Unit Name</FIELD>
			<FIELD name="DIRECTORY_TITLE" size="100">Directory Title</FIELD>
			<FIELD name="OFFICE_LOCATION" size="100">Office Location</FIELD>
			<FIELD name="OFFICE_PHONE" size="100">Office Phone</FIELD>
		</DISPLAY>
		<DEFAULTSELECT>
			<ID>
				PERSON_ID
			</ID>
			<NAME>
				FULL_NAME
			</NAME>
		</DEFAULTSELECT>
		<REMCLAUSE>
			AND (OSP$PERSON.STATUS = 'A'
			OR OSP$PERSON.STATUS = (
			CASE
			WHEN FN_USER_HAS_ROLE('COEUS',1) > 0
			THEN 'I'
			ELSE 'A'
			END ))
			/* END */
			ORDER BY OSP$PERSON.FULL_NAME
		</REMCLAUSE>
	</SUBCONTRACTPERSONSEARCH>
	<!-- JM END -->

	<!-- Define elements for person search -->
	<!--<PERSONSEARCH display="Person Search" retrievelimit="500"> -->
	<PERSONSEARCH display="Person Search" retrievelimit="PERSON_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$PERSON.PERSON_ID">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>SELECT
				OSP$PERSON.PERSON_ID,OSP$PERSON.FULL_NAME,OSP$PERSON.LAST_NAME,
				OSP$PERSON.FIRST_NAME,OSP$PERSON.PRIOR_NAME,OSP$PERSON.USER_NAME,OSP$PERSON.EMAIL_ADDRESS,
				OSP$PERSON.HOME_UNIT,OSP$UNIT.UNIT_NAME,OSP$PERSON.SCHOOL,OSP$PERSON.DIRECTORY_TITLE,
				OSP$PERSON.OFFICE_LOCATION,OSP$PERSON.OFFICE_PHONE,OSP$PERSON.IS_FACULTY,
				OSP$PERSON.SECONDRY_OFFICE_PHONE,OSP$PERSON.SECONDRY_OFFICE_LOCATION,
				to_char(OSP$PERSON.SALARY_ANNIVERSARY_DATE,
				'USER_DEFINED_DATE_FORMAT') SALARY_ANNIVERSARY_DATE
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$PERSON" />
				<TABLE name="OSP$UNIT" />
			</FROM>
			<!-- The default joins should be specified in this section. The value 
				of the join attribute should be appended in the where clause while forming 
				a query. -->
			<WHERE join="OSP$PERSON.HOME_UNIT = OSP$UNIT.UNIT_NUMBER(+)" />
		</QUERY>
		<!-- CASE #1201 Begin -->
		<!-- JM 9-22-2011 commented out and moved to REMCLAUSE <ORDERBY>OSP$PERSON.FULL_NAME</ORDERBY> -->
		<!-- CASE #1201 End -->
		<!-- All the elements for the search criteria should be specified in this 
			section. There should be a corresponding entry for COLUMN element for each 
			FIELD element in this section. All the fields specified here will be displayed 
			as search criterias in the CoeusSearch.jsp file. Mainly two types of data 
			types can come here. 1) string 2) number If we want to use any specific alias 
			and joins, it should be specified as attributes of each FIELD element. -->
		<CRITERIA>
			<!-- <FIELD name="OSP$PERSON.PERSON_ID" datatype="string" webSize="10" 
				size="100"/> -->

			<FIELD name="OSP$PERSON.LAST_NAME" datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$PERSON.FIRST_NAME" datatype="string" webSize="10" size="100" />
			<!-- <FIELD name="OSP$PERSON.PRIOR_NAME" datatype="string" webSize="10" size="100"/> -->
			<FIELD name="OSP$PERSON.FULL_NAME" datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$PERSON.USER_NAME" datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$PERSON.EMAIL_ADDRESS" datatype="string" webSize="13" size="120" />
			<FIELD name="OSP$PERSON.HOME_UNIT" datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$UNIT.UNIT_NAME" datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$PERSON.SCHOOL" datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$PERSON.DIRECTORY_TITLE" datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$PERSON.OFFICE_LOCATION" datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$PERSON.OFFICE_PHONE" datatype="string" webSize="10" size="100" />
		</CRITERIA>
		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="dw_get_person_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<!-- Added for CoeusWeb -->
			<FIELD name="PERSON_ID" visible="false">Person Id</FIELD>
			<!-- End added for CoeusWeb -->
			<FIELD name="FULL_NAME" size="100">Full Name</FIELD>
			<FIELD name="PRIOR_NAME" size="100">Prior Name</FIELD>
			<FIELD name="USER_NAME" size="100">User Name</FIELD>
			<FIELD name="HOME_UNIT" size="100">Home Unit</FIELD>
			<FIELD name="SCHOOL" size="100">School</FIELD>
			<FIELD name="EMAIL_ADDRESS" size="100">Email Address</FIELD>
			<FIELD name="DIRECTORY_TITLE" size="100">Directory Title</FIELD>
			<FIELD name="OFFICE_LOCATION" size="100">Office Location</FIELD>
			<FIELD name="OFFICE_PHONE" size="100">Office Phone</FIELD>
			<FIELD name="IS_FACULTY">Faculty</FIELD>
			<FIELD name="SECONDRY_OFFICE_LOCATION" size="100">Sec. Office Location</FIELD>
			<FIELD name="SECONDRY_OFFICE_PHONE" size="100">Sec. Office Phone</FIELD>
			<FIELD name="PERSON_ID" visible="false">Person Id</FIELD>
			<FIELD name="SALARY_ANNIVERSARY_DATE" visible="false" datatype="date">Salary Anniv Date</FIELD>
		</DISPLAY>
		<DEFAULTSELECT>
			<ID>
				PERSON_ID
			</ID>
			<NAME>
				FULL_NAME
			</NAME>
		</DEFAULTSELECT>
		<REMCLAUSE>
			/* JM 9-22-2011 added for user type filter based on permissions */
			AND
			(OSP$PERSON.STATUS = 'A'
			OR OSP$PERSON.STATUS = (
			CASE
			WHEN FN_USER_HAS_ROLE('COEUS',1) > 0
			THEN 'I'
			ELSE 'A'
			END ))
			/* END */
			ORDER
			BY OSP$PERSON.FULL_NAME
		</REMCLAUSE>
	</PERSONSEARCH>


	<w_person_select display="Person Search" retrievelimit="PERSON_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$PERSON.PERSON_ID">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>SELECT
				OSP$PERSON.PERSON_ID,OSP$PERSON.FULL_NAME,OSP$PERSON.LAST_NAME,
				OSP$PERSON.FIRST_NAME,OSP$PERSON.PRIOR_NAME,OSP$PERSON.USER_NAME,OSP$PERSON.EMAIL_ADDRESS,
				OSP$PERSON.HOME_UNIT,OSP$UNIT.UNIT_NAME,OSP$PERSON.SCHOOL,OSP$PERSON.DIRECTORY_TITLE,
				OSP$PERSON.OFFICE_LOCATION,OSP$PERSON.OFFICE_PHONE,OSP$PERSON.IS_FACULTY,
				OSP$PERSON.SECONDRY_OFFICE_PHONE,OSP$PERSON.SECONDRY_OFFICE_LOCATION
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$PERSON" />
				<TABLE name="OSP$UNIT" />
			</FROM>
			<!-- The default joins should be specified in this section. The value 
				of the join attribute should be appended in the where clause while forming 
				a query. -->
			<WHERE join="OSP$PERSON.HOME_UNIT = OSP$UNIT.UNIT_NUMBER(+)" />
		</QUERY>
		<!-- CASE #1201 Begin -->
		<ORDERBY>OSP$PERSON.FULL_NAME</ORDERBY>
		<!-- CASE #1201 End -->
		<!-- All the elements for the search criteria should be specified in this 
			section. There should be a corresponding entry for COLUMN element for each 
			FIELD element in this section. All the fields specified here will be displayed 
			as search criterias in the CoeusSearch.jsp file. Mainly two types of data 
			types can come here. 1) string 2) number If we want to use any specific alias 
			and joins, it should be specified as attributes of each FIELD element. -->
		<CRITERIA>
			<!-- <FIELD name="OSP$PERSON.PERSON_ID" datatype="string" webSize="10" 
				size="100"/> -->

			<FIELD name="OSP$PERSON.LAST_NAME" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$PERSON.FIRST_NAME" datatype="string" webSize="10"
				size="100" />
			<!-- <FIELD name="OSP$PERSON.PRIOR_NAME" datatype="string" webSize="10" 
				size="100"/> -->
			//Handle
			<FIELD name="OSP$PERSON.FULL_NAME" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$PERSON.USER_NAME" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$PERSON.EMAIL_ADDRESS" datatype="string"
				webSize="13" size="120" />
			<FIELD name="OSP$PERSON.HOME_UNIT" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$UNIT.UNIT_NAME" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$PERSON.SCHOOL" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$PERSON.DIRECTORY_TITLE" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$PERSON.OFFICE_LOCATION" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$PERSON.OFFICE_PHONE" datatype="string"
				webSize="10" size="100" />
		</CRITERIA>

		<!-- JM 01-01-2014 fix label in person search -->
		<COLUMN name="OSP$PERSON.FULL_NAME" type="text" label="Full Name" />
		<!-- JM END -->
		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="dw_get_person_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<!-- Updated by Raghunath P.V. for implementing Department Person -->
			<!-- <FIELD name="PERSON_ID" size="100">Person Id</FIELD> -->
			<!-- Added for CoeusWeb -->
			<FIELD name="PERSON_ID" visible="false">Person Id</FIELD>
			<!-- End added for CoeusWeb -->
			<FIELD name="FULL_NAME" size="100">Full Name</FIELD>
			<FIELD name="PRIOR_NAME" size="100">Prior Name</FIELD>
			<FIELD name="USER_NAME" size="100">User Name</FIELD>
			<FIELD name="HOME_UNIT" size="100">Home Unit</FIELD>
			<FIELD name="SCHOOL" size="100">School</FIELD>
			<FIELD name="EMAIL_ADDRESS" size="100">Email Address</FIELD>
			<FIELD name="DIRECTORY_TITLE" size="100">Directory Title</FIELD>
			<FIELD name="OFFICE_LOCATION" size="100">Office Location</FIELD>
			<FIELD name="OFFICE_PHONE" size="100">Office Phone</FIELD>
			<FIELD name="IS_FACULTY">Faculty</FIELD>
			<FIELD name="SECONDRY_OFFICE_LOCATION" size="100">Sec. Office
				Location</FIELD>
			<FIELD name="SECONDRY_OFFICE_PHONE" size="100">Sec. Office Phone</FIELD>
			<FIELD name="PERSON_ID" visible="false">Person Id</FIELD>
		</DISPLAY>
		<DEFAULTSELECT>
			<ID>
				PERSON_ID
			</ID>
			<NAME>
				FULL_NAME
			</NAME>
		</DEFAULTSELECT>
	</w_person_select>

	<!--<SPONSORSEARCH display="Sponsor Search" retrievelimit="500"> -->

	<SPONSORSEARCH display="Sponsor Search" retrievelimit="SPONSOR_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$SPONSOR.SPONSOR_CODE">
		<QUERY>
			<SELECTQUERY>SELECT
				OSP$SPONSOR.SPONSOR_CODE,OSP$SPONSOR.SPONSOR_NAME,
				OSP$SPONSOR.SPONSOR_TYPE_CODE,
				OSP$SPONSOR_TYPE.DESCRIPTION AS SPONSOR_TYPE_DESCRIPTION ,
				OSP$SPONSOR.ROLODEX_ID,
				OSP$ROLODEX.STATE,
				OSP$STATE_CODE.DESCRIPTION AS STATE_DESCRIPTION ,
				OSP$ROLODEX.POSTAL_CODE,OSP$ROLODEX.COUNTRY_CODE,
				OSP$COUNTRY_CODE.COUNTRY_NAME AS COUNTRY_NAME ,
				OSP$SPONSOR.DUN_AND_BRADSTREET_NUMBER,
				OSP$SPONSOR.AUDIT_REPORT_SENT_FOR_FY,OSP$SPONSOR.OWNED_BY_UNIT,
				OSP$SPONSOR.ACRONYM,OSP$SPONSOR.DUNS_PLUS_FOUR_NUMBER,
				OSP$SPONSOR.DODAC_NUMBER,OSP$SPONSOR.CAGE_NUMBER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$SPONSOR" />
				<TABLE name="OSP$ROLODEX" />
				<TABLE name="OSP$SPONSOR_TYPE" />
				<TABLE name="OSP$COUNTRY_CODE" />
				<TABLE name="OSP$STATE_CODE" />

			</FROM>

			<WHERE
				join="OSP$SPONSOR.ROLODEX_ID = OSP$ROLODEX.ROLODEX_ID AND
                         OSP$SPONSOR.SPONSOR_TYPE_CODE = OSP$SPONSOR_TYPE.SPONSOR_TYPE_CODE AND
                         OSP$ROLODEX.STATE = OSP$STATE_CODE.STATE_CODE(+) AND
                         OSP$ROLODEX.COUNTRY_CODE = OSP$COUNTRY_CODE.COUNTRY_CODE (+) AND
                         OSP$SPONSOR.STATUS= 'A' " />
		</QUERY>
		<ORDERBY>OSP$SPONSOR.SPONSOR_CODE asc</ORDERBY>
		<CRITERIA>
			<FIELD name="OSP$SPONSOR.SPONSOR_CODE" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.SPONSOR_NAME" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.ACRONYM" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$ROLODEX.POSTAL_CODE" alias="OSP$SPONSOR.POSTAL_CODE"
				datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.DUN_AND_BRADSTREET_NUMBER" datatype="string"
				webSize="18" size="150" />
			<FIELD name="OSP$SPONSOR.DUNS_PLUS_FOUR_NUMBER" datatype="string"
				webSize="18" size="150" />
			<FIELD name="OSP$SPONSOR.DODAC_NUMBER" datatype="string"
				webSize="18" size="150" />
			<FIELD name="OSP$SPONSOR.CAGE_NUMBER" datatype="string"
				webSize="16" size="140" />
			<FIELD name="OSP$SPONSOR.AUDIT_REPORT_SENT_FOR_FY" datatype="string"
				webSize="18" size="150" />
			<FIELD name="OSP$SPONSOR.OWNED_BY_UNIT" datatype="string"
				webSize="13" size="120" />
			<FIELD name="OSP$SPONSOR.SPONSOR_TYPE_CODE" datatype="number"
				webSize="10" size="120" />
			<FIELD name="OSP$SPONSOR.STATE" datatype="string" webSize="21"
				size="170" />
			<FIELD name="OSP$ROLODEX.COUNTRY_CODE" alias="OSP$SPONSOR.COUNTRY_CODE"
				datatype="string" webSize="10" size="120" />
		</CRITERIA>
		<PROCEDURE name="dw_get_sponsor_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="SPONSOR_CODE">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_NAME">Sponsor Name</FIELD>
			<FIELD name="ACRONYM">Acronym</FIELD>
			<FIELD name="SPONSOR_TYPE_DESCRIPTION">Sponsor Type</FIELD>
			<FIELD name="POSTAL_CODE">Postal Code</FIELD>
			<FIELD name="STATE">State/ Province</FIELD>
			<FIELD name="STATE_DESCRIPTION">State/ Province Name</FIELD>
			<FIELD name="COUNTRY_NAME">Country</FIELD>
			<FIELD name="AUDIT_REPORT_SENT_FOR_FY">Audit Report</FIELD>
			<!-- JM 5-18-2011 updated field name per 4.4.2 -->
			<FIELD name="DUN_AND_BRADSTREET_NUMBER">Duns Number</FIELD>
			<FIELD name="DUNS_PLUS_FOUR_NUMBER">Duns Plus Four</FIELD>
			<!-- JM END -->
			<!-- JM 5-18-2011 updated field name per 4.4.2 -->
			<FIELD name="DODAC_NUMBER">GL Fund</FIELD>
			<FIELD name="CAGE_NUMBER">GL Agency</FIELD>
			<!-- JM END -->
			<FIELD name="OWNED_BY_UNIT">Owned by Unit</FIELD>
			<FIELD name="ROLODEX_ID" visible="false" datatype="number">Rolodex Id</FIELD>
		</DISPLAY>
		<DEFAULTSELECT>
			<ID>
				SPONSOR_CODE
			</ID>
			<NAME>
				SPONSOR_NAME
			</NAME>
		</DEFAULTSELECT>

	</SPONSORSEARCH>

	<!-- COEUSQA-1434 : Add the functionality to set a status on a Sponsor record 
		- Start -->
	<!--Added one more field called status -->
	<SPONSORSTATUSSEARCH display="Sponsor Search"
		retrievelimit="SPONSOR_RETRIEVE_LIMIT" primarykeycolumn="OSP$SPONSOR.SPONSOR_CODE">
		<QUERY>
			<SELECTQUERY>SELECT
				OSP$SPONSOR.SPONSOR_CODE,OSP$SPONSOR.SPONSOR_NAME,
				OSP$SPONSOR.SPONSOR_TYPE_CODE,
				OSP$SPONSOR_TYPE.DESCRIPTION AS SPONSOR_TYPE_DESCRIPTION ,
				OSP$SPONSOR.ROLODEX_ID,
				OSP$ROLODEX.STATE,
				OSP$STATE_CODE.DESCRIPTION AS STATE_DESCRIPTION ,
				OSP$ROLODEX.POSTAL_CODE,OSP$ROLODEX.COUNTRY_CODE,
				OSP$COUNTRY_CODE.COUNTRY_NAME AS COUNTRY_NAME ,
				OSP$SPONSOR.DUN_AND_BRADSTREET_NUMBER,
				OSP$SPONSOR.AUDIT_REPORT_SENT_FOR_FY,OSP$SPONSOR.OWNED_BY_UNIT,
				OSP$SPONSOR.ACRONYM,OSP$SPONSOR.DUNS_PLUS_FOUR_NUMBER,
				OSP$SPONSOR.DODAC_NUMBER,OSP$SPONSOR.CAGE_NUMBER,OSP$SPONSOR.STATUS,
				DECODE(OSP$SPONSOR.STATUS, 'A', 'Active' , 'I','Inactive') AS
				"STATUS_DESCRIPTION"

			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$SPONSOR" />
				<TABLE name="OSP$ROLODEX" />
				<TABLE name="OSP$SPONSOR_TYPE" />
				<TABLE name="OSP$COUNTRY_CODE" />
				<TABLE name="OSP$STATE_CODE" />

			</FROM>

			<WHERE
				join="OSP$SPONSOR.ROLODEX_ID = OSP$ROLODEX.ROLODEX_ID AND
                         OSP$SPONSOR.SPONSOR_TYPE_CODE = OSP$SPONSOR_TYPE.SPONSOR_TYPE_CODE AND
                         OSP$ROLODEX.STATE = OSP$STATE_CODE.STATE_CODE(+) AND
                         OSP$ROLODEX.COUNTRY_CODE = OSP$COUNTRY_CODE.COUNTRY_CODE (+)" />
		</QUERY>
		<ORDERBY>OSP$SPONSOR.SPONSOR_CODE asc</ORDERBY>
		<CRITERIA>
			<FIELD name="OSP$SPONSOR.SPONSOR_CODE" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.SPONSOR_NAME" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.ACRONYM" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$ROLODEX.POSTAL_CODE" alias="OSP$SPONSOR.POSTAL_CODE"
				datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.DUN_AND_BRADSTREET_NUMBER" datatype="string"
				webSize="18" size="150" />
			<FIELD name="OSP$SPONSOR.DUNS_PLUS_FOUR_NUMBER" datatype="string"
				webSize="18" size="150" />
			<FIELD name="OSP$SPONSOR.DODAC_NUMBER" datatype="string"
				webSize="18" size="150" />
			<FIELD name="OSP$SPONSOR.CAGE_NUMBER" datatype="string"
				webSize="16" size="140" />
			<FIELD name="OSP$SPONSOR.AUDIT_REPORT_SENT_FOR_FY" datatype="string"
				webSize="18" size="150" />
			<FIELD name="OSP$SPONSOR.OWNED_BY_UNIT" datatype="string"
				webSize="13" size="120" />
			<FIELD name="OSP$SPONSOR.SPONSOR_TYPE_CODE" datatype="number"
				webSize="10" size="120" />
			<FIELD name="OSP$SPONSOR.STATUS" datatype="string" webSize="10"
				size="120" />
			<FIELD name="OSP$SPONSOR.STATE" datatype="string" webSize="21"
				size="170" />
			<FIELD name="OSP$ROLODEX.COUNTRY_CODE" alias="OSP$SPONSOR.COUNTRY_CODE"
				datatype="string" webSize="10" size="120" />

		</CRITERIA>
		<PROCEDURE name="dw_get_sponsor_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="SPONSOR_CODE">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_NAME">Sponsor Name</FIELD>
			<FIELD name="ACRONYM">Acronym</FIELD>
			<FIELD name="SPONSOR_TYPE_DESCRIPTION">Sponsor Type</FIELD>
			<FIELD name="STATUS_DESCRIPTION">Status</FIELD>
			<FIELD name="POSTAL_CODE">Postal Code</FIELD>
			<FIELD name="STATE">State/ Province</FIELD>
			<FIELD name="STATE_DESCRIPTION">State/ Province Name</FIELD>
			<FIELD name="COUNTRY_NAME">Country</FIELD>
			<FIELD name="AUDIT_REPORT_SENT_FOR_FY">Audit Report</FIELD>
			<!-- JM 6-6-2011 updated field names -->
			<FIELD name="DUN_AND_BRADSTREET_NUMBER">Duns Number</FIELD>
			<!-- JM END -->
			<FIELD name="DUNS_PLUS_FOUR_NUMBER">Duns Plus Four</FIELD>
			<!-- JM 6-6-2011 updated field names -->
			<FIELD name="DODAC_NUMBER">GL Fund</FIELD>
			<FIELD name="CAGE_NUMBER">GL Agency</FIELD>
			<!-- JM END -->
			<FIELD name="OWNED_BY_UNIT">Owned by Unit</FIELD>
			<FIELD name="ROLODEX_ID" visible="false" datatype="number">Rolodex Id</FIELD>
		</DISPLAY>
		<DEFAULTSELECT>
			<ID>
				SPONSOR_CODE
			</ID>
			<NAME>
				SPONSOR_NAME
			</NAME>
		</DEFAULTSELECT>

	</SPONSORSTATUSSEARCH>
	<!-- COEUSQA-1434 : Add the functionality to set a status on a Sponsor record 
		- end -->

	<!-- 4580: Add organization and sponsor search in custom elements - Start -->
	<w_sponsor_select display="Sponsor Search"
		retrievelimit="SPONSOR_RETRIEVE_LIMIT" primarykeycolumn="OSP$SPONSOR.SPONSOR_CODE">
		<QUERY>
			<SELECTQUERY>SELECT
				OSP$SPONSOR.SPONSOR_CODE,OSP$SPONSOR.SPONSOR_NAME,
				OSP$SPONSOR.SPONSOR_TYPE_CODE,
				OSP$SPONSOR_TYPE.DESCRIPTION AS SPONSOR_TYPE_DESCRIPTION ,
				OSP$SPONSOR.ROLODEX_ID,
				OSP$ROLODEX.STATE,
				OSP$STATE_CODE.DESCRIPTION AS STATE_DESCRIPTION ,
				OSP$ROLODEX.POSTAL_CODE,OSP$ROLODEX.COUNTRY_CODE,
				OSP$COUNTRY_CODE.COUNTRY_NAME AS COUNTRY_NAME ,
				OSP$SPONSOR.DUN_AND_BRADSTREET_NUMBER,
				OSP$SPONSOR.AUDIT_REPORT_SENT_FOR_FY,OSP$SPONSOR.OWNED_BY_UNIT,
				OSP$SPONSOR.ACRONYM,OSP$SPONSOR.DUNS_PLUS_FOUR_NUMBER,
				OSP$SPONSOR.DODAC_NUMBER,OSP$SPONSOR.CAGE_NUMBER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$SPONSOR" />
				<TABLE name="OSP$ROLODEX" />
				<TABLE name="OSP$SPONSOR_TYPE" />
				<TABLE name="OSP$COUNTRY_CODE" />
				<TABLE name="OSP$STATE_CODE" />

			</FROM>

			<WHERE
				join="OSP$SPONSOR.ROLODEX_ID = OSP$ROLODEX.ROLODEX_ID AND
                   OSP$SPONSOR.SPONSOR_TYPE_CODE = OSP$SPONSOR_TYPE.SPONSOR_TYPE_CODE AND
                   OSP$ROLODEX.STATE = OSP$STATE_CODE.STATE_CODE(+) AND
                   OSP$ROLODEX.COUNTRY_CODE = OSP$COUNTRY_CODE.COUNTRY_CODE (+) AND
                   OSP$SPONSOR.STATUS= 'A' " />
		</QUERY>
		<ORDERBY>OSP$SPONSOR.SPONSOR_CODE asc</ORDERBY>
		<CRITERIA>
			<FIELD name="OSP$SPONSOR.SPONSOR_CODE" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.SPONSOR_NAME" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.ACRONYM" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$ROLODEX.POSTAL_CODE" alias="OSP$SPONSOR.POSTAL_CODE"
				datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.DUN_AND_BRADSTREET_NUMBER" datatype="string"
				webSize="18" size="150" />
			<FIELD name="OSP$SPONSOR.DUNS_PLUS_FOUR_NUMBER" datatype="string"
				webSize="18" size="150" />
			<FIELD name="OSP$SPONSOR.DODAC_NUMBER" datatype="string"
				webSize="18" size="150" />
			<FIELD name="OSP$SPONSOR.CAGE_NUMBER" datatype="string"
				webSize="16" size="140" />
			<FIELD name="OSP$SPONSOR.AUDIT_REPORT_SENT_FOR_FY" datatype="string"
				webSize="18" size="150" />
			<FIELD name="OSP$SPONSOR.OWNED_BY_UNIT" datatype="string"
				webSize="13" size="120" />
			<FIELD name="OSP$SPONSOR.SPONSOR_TYPE_CODE" datatype="number"
				webSize="10" size="120" />
			<FIELD name="OSP$SPONSOR.STATE" datatype="string" webSize="21"
				size="170" />
			<FIELD name="OSP$ROLODEX.COUNTRY_CODE" alias="OSP$SPONSOR.COUNTRY_CODE"
				datatype="string" webSize="10" size="120" />
		</CRITERIA>
		<PROCEDURE name="dw_get_sponsor_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="SPONSOR_CODE">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_NAME">Sponsor Name</FIELD>
			<FIELD name="ACRONYM">Acronym</FIELD>
			<FIELD name="SPONSOR_TYPE_DESCRIPTION">Sponsor Type</FIELD>
			<FIELD name="POSTAL_CODE">Postal Code</FIELD>
			<FIELD name="STATE">State/ Province</FIELD>
			<FIELD name="STATE_DESCRIPTION">State/ Province Name</FIELD>
			<FIELD name="COUNTRY_NAME">Country</FIELD>
			<FIELD name="AUDIT_REPORT_SENT_FOR_FY">Audit Report</FIELD>
			<!-- JM 5-18-2011 updated field name per 4.4.2 -->
			<FIELD name="DUN_AND_BRADSTREET_NUMBER">Duns Number</FIELD>
			<!-- JM END -->
			<FIELD name="DUNS_PLUS_FOUR_NUMBER">Duns Plus Four</FIELD>
			<!-- JM 5-18-2011 updated field name per 4.4.2 -->
			<FIELD name="DODAC_NUMBER">GL Fund</FIELD>
			<FIELD name="CAGE_NUMBER">GL Agency</FIELD>
			<!-- JM END -->
			<FIELD name="OWNED_BY_UNIT">Owned by Unit</FIELD>
			<FIELD name="ROLODEX_ID" visible="false">Rolodex Id</FIELD>
		</DISPLAY>
		<DEFAULTSELECT>
			<ID>
				SPONSOR_CODE
			</ID>
			<NAME>
				SPONSOR_NAME
			</NAME>
		</DEFAULTSELECT>

	</w_sponsor_select>
	<!--4580: Add organization and sponsor search in custom elements - End -->

	<!--<ROLODEXSEARCH display="Rolodex Search" retrievelimit="500"> -->
	<ROLODEXSEARCH display="Rolodex Search" retrievelimit="ROLODEX_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$ROLODEX.ROLODEX_ID">
		<QUERY>
			<SELECTQUERY>SELECT OSP$ROLODEX.ROLODEX_ID,OSP$ROLODEX.LAST_NAME,
				OSP$ROLODEX.FIRST_NAME,OSP$ROLODEX.MIDDLE_NAME,OSP$ROLODEX.SUFFIX,
				OSP$ROLODEX.PREFIX,OSP$ROLODEX.TITLE,OSP$ROLODEX.ORGANIZATION,
				OSP$ROLODEX.ADDRESS_LINE_1,OSP$ROLODEX.ADDRESS_LINE_2,
				OSP$ROLODEX.ADDRESS_LINE_3,OSP$ROLODEX.FAX_NUMBER,
				OSP$ROLODEX.EMAIL_ADDRESS,OSP$ROLODEX.CITY,OSP$ROLODEX.COUNTY,
				OSP$ROLODEX.STATE,
				OSP$STATE_CODE.DESCRIPTION AS STATE_DESCRIPTION ,
				OSP$ROLODEX.POSTAL_CODE,OSP$ROLODEX.COMMENTS,
				OSP$ROLODEX.PHONE_NUMBER,OSP$ROLODEX.COUNTRY_CODE,
				OSP$COUNTRY_CODE.COUNTRY_NAME AS COUNTRY_NAME ,
				OSP$ROLODEX.SPONSOR_CODE, OSP$SPONSOR.SPONSOR_NAME,
				OSP$ROLODEX.OWNED_BY_UNIT,
				OSP$ROLODEX.SPONSOR_ADDRESS_FLAG,OSP$ROLODEX.DELETE_FLAG,
				OSP$ROLODEX.CREATE_USER,OSP$ROLODEX.UPDATE_TIMESTAMP,
				OSP$ROLODEX.UPDATE_USER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$ROLODEX" />
				<TABLE name="OSP$COUNTRY_CODE" />
				<TABLE name="OSP$STATE_CODE" />
				<TABLE name="OSP$SPONSOR" />
			</FROM>
			<WHERE
				join="OSP$ROLODEX.STATE = OSP$STATE_CODE.STATE_CODE(+) AND
                         OSP$ROLODEX.COUNTRY_CODE = OSP$COUNTRY_CODE.COUNTRY_CODE(+) AND
                         OSP$ROLODEX.SPONSOR_CODE = OSP$SPONSOR.SPONSOR_CODE(+) AND
                         OSP$ROLODEX.ROLODEX_STATUS= 'A' " />

		</QUERY>
		<ORDERBY>OSP$ROLODEX.ROLODEX_ID asc</ORDERBY>

		<CRITERIA>
			<FIELD name="OSP$ROLODEX.ROLODEX_ID" datatype="number" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.SPONSOR_CODE" datatype="string" size="100"
				webSize="10" />
			<!--<FIELD name="OSP$SPONSOR.SPONSOR_NAME" table="OSP$SPONSOR" join="OSP$ROLODEX.SPONSOR_CODE=OSP$SPONSOR.SPONSOR_CODE" 
				datatype="string" size="100"/> -->
			<FIELD name="OSP$SPONSOR.SPONSOR_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.LAST_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.FIRST_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.MIDDLE_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.SUFFIX" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.PREFIX" datatype="string" size="150"
				webSize="18" />
			<FIELD name="OSP$ROLODEX.TITLE" datatype="string" size="140"
				webSize="16" />
			<FIELD name="OSP$ROLODEX.ORGANIZATION" datatype="string" size="150"
				webSize="18" />
			<FIELD name="OSP$ROLODEX.ADDRESS_LINE_1" datatype="string"
				size="120" webSize="13" />
			<FIELD name="OSP$ROLODEX.ADDRESS_LINE_2" datatype="string"
				size="120" webSize="13" />
			<FIELD name="OSP$ROLODEX.ADDRESS_LINE_3" datatype="string"
				size="100" webSize="10" />
			<FIELD name="OSP$ROLODEX.FAX_NUMBER" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.EMAIL_ADDRESS" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.CITY" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.COUNTY" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.STATE" datatype="string" size="120"
				webSize="0" />
			<FIELD name="OSP$ROLODEX.POSTAL_CODE" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.COMMENTS" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.PHONE_NUMBER" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.COUNTRY_CODE" datatype="string" size="120"
				webSize="10" />
		</CRITERIA>
		<PROCEDURE name="dw_get_rolodex_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="ROLODEX_ID" datatype="number">Rolodex Id</FIELD>
			<FIELD name="SPONSOR_CODE">Sponsor Code</FIELD>
			<FIELD name="LAST_NAME">Last Name</FIELD>
			<FIELD name="FIRST_NAME">First Name</FIELD>
			<FIELD name="MIDDLE_NAME">Middle Name</FIELD>
			<FIELD name="SUFFIX">Suffix</FIELD>
			<FIELD name="PREFIX">Prefix</FIELD>
			<FIELD name="TITLE">Title</FIELD>
			<FIELD name="ORGANIZATION">Organization</FIELD>
			<FIELD name="ADDRESS_LINE_1">Address Line 1</FIELD>
			<FIELD name="ADDRESS_LINE_2">Address Line 2</FIELD>
			<FIELD name="ADDRESS_LINE_3">Address Line 3</FIELD>
			<FIELD name="FAX_NUMBER">Fax Number</FIELD>
			<FIELD name="EMAIL_ADDRESS">Email Address</FIELD>
			<FIELD name="COUNTY">County</FIELD>
			<FIELD name="CITY">City</FIELD>
			<FIELD name="STATE">State/ Province</FIELD>
			<FIELD name="POSTAL_CODE">Postal Code</FIELD>
			<FIELD name="COMMENTS">Comments</FIELD>
			<FIELD name="PHONE_NUMBER">Phone Number</FIELD>
			<FIELD name="COUNTRY_NAME">Country</FIELD>
			<FIELD name="OWNED_BY_UNIT" visible="false">Owned by unit
			</FIELD>
			<FIELD name="SPONSOR_ADDRESS_FLAG" visible="false">Sponsor address flag</FIELD>
			<FIELD name="DELETE_FLAG" visible="false">Delete flag</FIELD>
			<FIELD name="CREATE_USER" visible="false">Create user</FIELD>
			<FIELD name="UPDATE_TIMESTAMP" visible="false" datatype="date">Update
				timestamp</FIELD>
			<FIELD name="UPDATE_USER" visible="false">Update user</FIELD>
		</DISPLAY>
		<DEFAULTSELECT>
			<ID>
				ROLODEX_ID
			</ID>
			<NAME>
				LAST_NAME
			</NAME>
		</DEFAULTSELECT>

	</ROLODEXSEARCH>
	<ROLODEXSTATUSSEARCH display="Rolodex Search"
		retrievelimit="ROLODEX_RETRIEVE_LIMIT" primarykeycolumn="OSP$ROLODEX.ROLODEX_ID">
		<QUERY>
			<SELECTQUERY>SELECT OSP$ROLODEX.ROLODEX_ID,OSP$ROLODEX.LAST_NAME,
				OSP$ROLODEX.FIRST_NAME,OSP$ROLODEX.MIDDLE_NAME,OSP$ROLODEX.SUFFIX,
				OSP$ROLODEX.PREFIX,OSP$ROLODEX.TITLE,OSP$ROLODEX.ORGANIZATION,
				OSP$ROLODEX.ADDRESS_LINE_1,OSP$ROLODEX.ADDRESS_LINE_2,
				OSP$ROLODEX.ADDRESS_LINE_3,OSP$ROLODEX.FAX_NUMBER,
				OSP$ROLODEX.EMAIL_ADDRESS,OSP$ROLODEX.CITY,OSP$ROLODEX.COUNTY,
				OSP$ROLODEX.STATE,
				OSP$STATE_CODE.DESCRIPTION AS STATE_DESCRIPTION ,
				OSP$ROLODEX.POSTAL_CODE,OSP$ROLODEX.COMMENTS,
				OSP$ROLODEX.PHONE_NUMBER,OSP$ROLODEX.COUNTRY_CODE,
				OSP$COUNTRY_CODE.COUNTRY_NAME AS COUNTRY_NAME ,
				OSP$ROLODEX.SPONSOR_CODE, OSP$SPONSOR.SPONSOR_NAME,
				OSP$ROLODEX.OWNED_BY_UNIT,
				OSP$ROLODEX.SPONSOR_ADDRESS_FLAG,OSP$ROLODEX.DELETE_FLAG,
				OSP$ROLODEX.CREATE_USER,OSP$ROLODEX.UPDATE_TIMESTAMP,
				OSP$ROLODEX.UPDATE_USER,OSP$ROLODEX.ROLODEX_STATUS,
				DECODE(OSP$ROLODEX.ROLODEX_STATUS, 'A', 'Active' , 'I','Inactive')
				AS "STATUS_DESCRIPTION"
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$ROLODEX" />
				<TABLE name="OSP$COUNTRY_CODE" />
				<TABLE name="OSP$STATE_CODE" />
				<TABLE name="OSP$SPONSOR" />
			</FROM>
			<WHERE
				join="OSP$ROLODEX.STATE = OSP$STATE_CODE.STATE_CODE(+) AND
                         OSP$ROLODEX.COUNTRY_CODE = OSP$COUNTRY_CODE.COUNTRY_CODE(+) AND
                         OSP$ROLODEX.SPONSOR_CODE = OSP$SPONSOR.SPONSOR_CODE(+)" />

		</QUERY>
		<ORDERBY>OSP$ROLODEX.ROLODEX_ID asc</ORDERBY>

		<CRITERIA>
			<FIELD name="OSP$ROLODEX.ROLODEX_ID" datatype="number" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.SPONSOR_CODE" datatype="string" size="100"
				webSize="10" />
			<!--<FIELD name="OSP$SPONSOR.SPONSOR_NAME" table="OSP$SPONSOR" join="OSP$ROLODEX.SPONSOR_CODE=OSP$SPONSOR.SPONSOR_CODE" 
				datatype="string" size="100"/> -->
			<FIELD name="OSP$SPONSOR.SPONSOR_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.LAST_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.FIRST_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.MIDDLE_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.SUFFIX" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.PREFIX" datatype="string" size="150"
				webSize="18" />
			<FIELD name="OSP$ROLODEX.TITLE" datatype="string" size="140"
				webSize="16" />
			<FIELD name="OSP$ROLODEX.ORGANIZATION" datatype="string" size="150"
				webSize="18" />
			<FIELD name="OSP$ROLODEX.ROLODEX_STATUS" datatype="string"
				size="120" webSize="10" />
			<FIELD name="OSP$ROLODEX.ADDRESS_LINE_1" datatype="string"
				size="120" webSize="13" />
			<FIELD name="OSP$ROLODEX.ADDRESS_LINE_2" datatype="string"
				size="120" webSize="13" />
			<FIELD name="OSP$ROLODEX.ADDRESS_LINE_3" datatype="string"
				size="100" webSize="10" />
			<FIELD name="OSP$ROLODEX.FAX_NUMBER" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.EMAIL_ADDRESS" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.CITY" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.COUNTY" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.STATE" datatype="string" size="120"
				webSize="0" />
			<FIELD name="OSP$ROLODEX.POSTAL_CODE" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.COMMENTS" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.PHONE_NUMBER" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.COUNTRY_CODE" datatype="string" size="120"
				webSize="10" />
		</CRITERIA>
		<PROCEDURE name="dw_get_rolodex_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="ROLODEX_ID" datatype="number">Rolodex Id</FIELD>
			<FIELD name="SPONSOR_CODE">Sponsor Code</FIELD>
			<FIELD name="LAST_NAME">Last Name</FIELD>
			<FIELD name="FIRST_NAME">First Name</FIELD>
			<FIELD name="MIDDLE_NAME">Middle Name</FIELD>
			<FIELD name="SUFFIX">Suffix</FIELD>
			<FIELD name="PREFIX">Prefix</FIELD>
			<FIELD name="TITLE">Title</FIELD>
			<FIELD name="ORGANIZATION">Organization</FIELD>
			<FIELD name="STATUS_DESCRIPTION">Status</FIELD>
			<FIELD name="ADDRESS_LINE_1">Address Line 1</FIELD>
			<FIELD name="ADDRESS_LINE_2">Address Line 2</FIELD>
			<FIELD name="ADDRESS_LINE_3">Address Line 3</FIELD>
			<FIELD name="FAX_NUMBER">Fax Number</FIELD>
			<FIELD name="EMAIL_ADDRESS">Email Address</FIELD>
			<FIELD name="COUNTY">County</FIELD>
			<FIELD name="CITY">City</FIELD>
			<FIELD name="STATE">State/ Province</FIELD>
			<FIELD name="POSTAL_CODE">Postal Code</FIELD>
			<FIELD name="COMMENTS">Comments</FIELD>
			<FIELD name="PHONE_NUMBER">Phone Number</FIELD>
			<FIELD name="COUNTRY_NAME">Country</FIELD>
			<FIELD name="OWNED_BY_UNIT" visible="false">Owned by unit
			</FIELD>
			<FIELD name="SPONSOR_ADDRESS_FLAG" visible="false">Sponsor address flag</FIELD>
			<FIELD name="DELETE_FLAG" visible="false">Delete flag</FIELD>
			<FIELD name="CREATE_USER" visible="false">Create user</FIELD>
			<FIELD name="UPDATE_TIMESTAMP" visible="false" datatype="date">Update
				timestamp</FIELD>
			<FIELD name="UPDATE_USER" visible="false">Update user</FIELD>
		</DISPLAY>
		<DEFAULTSELECT>
			<ID>
				ROLODEX_ID
			</ID>
			<NAME>
				LAST_NAME
			</NAME>
		</DEFAULTSELECT>

	</ROLODEXSTATUSSEARCH>

	<w_rolodex_select display="Rolodex Search"
		retrievelimit="ROLODEX_RETRIEVE_LIMIT" primarykeycolumn="OSP$ROLODEX.ROLODEX_ID">
		<QUERY>
			<SELECTQUERY>SELECT OSP$ROLODEX.ROLODEX_ID,OSP$ROLODEX.LAST_NAME,
				OSP$ROLODEX.FIRST_NAME,OSP$ROLODEX.MIDDLE_NAME,OSP$ROLODEX.SUFFIX,
				OSP$ROLODEX.PREFIX,OSP$ROLODEX.TITLE,OSP$ROLODEX.ORGANIZATION,
				OSP$ROLODEX.ADDRESS_LINE_1,OSP$ROLODEX.ADDRESS_LINE_2,
				OSP$ROLODEX.ADDRESS_LINE_3,OSP$ROLODEX.FAX_NUMBER,
				OSP$ROLODEX.EMAIL_ADDRESS,OSP$ROLODEX.CITY,OSP$ROLODEX.COUNTY,
				OSP$ROLODEX.STATE,
				OSP$STATE_CODE.DESCRIPTION AS STATE_DESCRIPTION ,
				OSP$ROLODEX.POSTAL_CODE,OSP$ROLODEX.COMMENTS,
				OSP$ROLODEX.PHONE_NUMBER,OSP$ROLODEX.COUNTRY_CODE,
				OSP$COUNTRY_CODE.COUNTRY_NAME AS COUNTRY_NAME ,
				OSP$ROLODEX.SPONSOR_CODE, OSP$SPONSOR.SPONSOR_NAME,
				OSP$ROLODEX.OWNED_BY_UNIT,
				OSP$ROLODEX.SPONSOR_ADDRESS_FLAG,OSP$ROLODEX.DELETE_FLAG,
				OSP$ROLODEX.CREATE_USER,OSP$ROLODEX.UPDATE_TIMESTAMP,
				OSP$ROLODEX.UPDATE_USER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$ROLODEX" />
				<TABLE name="OSP$COUNTRY_CODE" />
				<TABLE name="OSP$STATE_CODE" />
				<TABLE name="OSP$SPONSOR" />
			</FROM>
			<WHERE
				join="OSP$ROLODEX.STATE = OSP$STATE_CODE.STATE_CODE(+) AND
                         OSP$ROLODEX.COUNTRY_CODE = OSP$COUNTRY_CODE.COUNTRY_CODE(+) AND
                         OSP$ROLODEX.SPONSOR_CODE = OSP$SPONSOR.SPONSOR_CODE(+) AND
                         OSP$ROLODEX.ROLODEX_STATUS= 'A' " />
		</QUERY>
		<ORDERBY>OSP$ROLODEX.ROLODEX_ID asc</ORDERBY>

		<CRITERIA>
			<FIELD name="OSP$ROLODEX.ROLODEX_ID" datatype="number" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.SPONSOR_CODE" datatype="string" size="100"
				webSize="10" />
			<!--<FIELD name="OSP$SPONSOR.SPONSOR_NAME" table="OSP$SPONSOR" join="OSP$ROLODEX.SPONSOR_CODE=OSP$SPONSOR.SPONSOR_CODE" 
				datatype="string" size="100"/> -->
			<FIELD name="OSP$SPONSOR.SPONSOR_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.LAST_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.FIRST_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.MIDDLE_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.SUFFIX" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.PREFIX" datatype="string" size="150"
				webSize="18" />
			<FIELD name="OSP$ROLODEX.TITLE" datatype="string" size="140"
				webSize="16" />
			<FIELD name="OSP$ROLODEX.ORGANIZATION" datatype="string" size="150"
				webSize="18" />
			<FIELD name="OSP$ROLODEX.ADDRESS_LINE_1" datatype="string"
				size="120" webSize="13" />
			<FIELD name="OSP$ROLODEX.ADDRESS_LINE_2" datatype="string"
				size="120" webSize="13" />
			<FIELD name="OSP$ROLODEX.ADDRESS_LINE_3" datatype="string"
				size="100" webSize="10" />
			<FIELD name="OSP$ROLODEX.FAX_NUMBER" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.EMAIL_ADDRESS" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.CITY" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.COUNTY" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.STATE" datatype="string" size="120"
				webSize="0" />
			<FIELD name="OSP$ROLODEX.POSTAL_CODE" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.COMMENTS" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.PHONE_NUMBER" datatype="string" size="120"
				webSize="13" />
			<FIELD name="OSP$ROLODEX.COUNTRY_CODE" datatype="string" size="120"
				webSize="10" />
		</CRITERIA>
		<PROCEDURE name="dw_get_rolodex_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="ROLODEX_ID" datatype="number">Rolodex Id</FIELD>
			<FIELD name="SPONSOR_CODE">Sponsor Code</FIELD>
			<FIELD name="LAST_NAME">Last Name</FIELD>
			<FIELD name="FIRST_NAME">First Name</FIELD>
			<FIELD name="MIDDLE_NAME">Middle Name</FIELD>
			<FIELD name="SUFFIX">Suffix</FIELD>
			<FIELD name="PREFIX">Prefix</FIELD>
			<FIELD name="TITLE">Title</FIELD>
			<FIELD name="ORGANIZATION">Organization</FIELD>
			<FIELD name="ADDRESS_LINE_1">Address Line 1</FIELD>
			<FIELD name="ADDRESS_LINE_2">Address Line 2</FIELD>
			<FIELD name="ADDRESS_LINE_3">Address Line 3</FIELD>
			<FIELD name="FAX_NUMBER">Fax Number</FIELD>
			<FIELD name="EMAIL_ADDRESS">Email Address</FIELD>
			<FIELD name="COUNTY">County</FIELD>
			<FIELD name="CITY">City</FIELD>
			<FIELD name="STATE">State/ Province Name</FIELD>
			<FIELD name="POSTAL_CODE">Postal Code</FIELD>
			<FIELD name="COMMENTS">Comments</FIELD>
			<FIELD name="PHONE_NUMBER">Phone Number</FIELD>
			<FIELD name="COUNTRY_NAME">Country</FIELD>
			<FIELD name="OWNED_BY_UNIT" visible="false">Owned by unit
			</FIELD>
			<FIELD name="SPONSOR_ADDRESS_FLAG" visible="false">Sponsor address flag</FIELD>
			<FIELD name="DELETE_FLAG" visible="false">Delete flag</FIELD>
			<FIELD name="CREATE_USER" visible="false">Create user</FIELD>
			<FIELD name="UPDATE_TIMESTAMP" visible="false" datatype="date">Update
				timestamp</FIELD>
			<FIELD name="UPDATE_USER" visible="false">Update user</FIELD>
		</DISPLAY>
		<DEFAULTSELECT>
			<ID>
				ROLODEX_ID
			</ID>
			<NAME>
				LAST_NAME
			</NAME>
		</DEFAULTSELECT>

	</w_rolodex_select>

	<ORGANIZATIONSEARCH display="Organization Search"
		retrievelimit="ORGANIZATION_RETRIEVE_LIMIT" primarykeycolumn="ORG.ORGANIZATION_ID">
		<QUERY>
			<SELECTQUERY>SELECT
				ORG.ORGANIZATION_ID,ORG.ORGANIZATION_NAME,ORG.CONTACT_ADDRESS_ID,
				ORG.ADDRESS,ORG.CABLE_ADDRESS,ORG.TELEX_NUMBER,
				ORG.COUNTY,ORG.CONGRESSIONAL_DISTRICT,ORG.INCORPORATED_IN,ORG.INCORPORATED_DATE,
				ORG.NUMBER_OF_EMPLOYEES,ORG.IRS_TAX_EXCEMPTION,ORG.FEDRAL_EMPLOYER_ID,
				ORG.MASS_TAX_EXCEMPT_NUM,ORG.AGENCY_SYMBOL,ORG.VENDOR_CODE,ORG.COM_GOV_ENTITY_CODE,
				ORG.MASS_EMPLOYEE_CLAIM,ORG.DUNS_NUMBER,ORG.DUNS_PLUS_FOUR_NUMBER,ORG.DODAC_NUMBER,
				ORG.CAGE_NUMBER,ORG.HUMAN_SUB_ASSURANCE,ORG.ANIMAL_WELFARE_ASSURANCE,
				ORG.SCIENCE_MISCONDUCT_COMPL_DATE,ORG.PHS_ACOUNT,ORG.NSF_INSTITUTIONAL_CODE,
				ORG.INDIRECT_COST_RATE_AGREEMENT,ORG.COGNIZANT_AUDITOR,
				ORG.ONR_RESIDENT_REP,ORG.UPDATE_TIMESTAMP,
				ORG.UPDATE_USER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$ORGANIZATION ORG" />
			</FROM>
		</QUERY>
		<!--<ORDERBY>ORGANIZATION_NAME asc</ORDERBY> -->
		<CRITERIA>
			<FIELD name="ORG.ORGANIZATION_ID" datatype="string" size="100" />
			<!-- JM 5-24-2011 added per 4.4.2 -->
			<FIELD name="OSP$SPONSOR.DUN_AND_BRADSTREET_NUMBER" alias="ORG.DUNS_NUMBER"
				datatype="string" size="150" />
			<!-- JM END -->
			<FIELD name="ORG.ORGANIZATION_NAME" datatype="string" size="100" />
			<FIELD name="ORG.ADDRESS" datatype="string" size="100" />
			<FIELD name="ORG.CONGRESSIONAL_DISTRICT" datatype="string"
				size="100" />
			<FIELD name="ORG.FEDRAL_EMPLOYER_ID" datatype="string" size="100" />
			<!-- JM 5-25-2011 removed per 4.4.2 <FIELD name="ORG.VENDOR_CODE" datatype="string" 
				size="100"/> <FIELD name="OSP$SPONSOR.DUN_AND_BRADSTREET_NUMBER" alias="ORG.DUNS_NUMBER" 
				datatype="string" size="150"/> -->
			<FIELD name="OSP$SPONSOR.DUNS_PLUS_FOUR_NUMBER" alias="ORG.DUNS_PLUS_FOUR_NUMBER"
				datatype="string" size="150" />
			<!-- JM 5-25-2011 removed per 4.4.2 <FIELD name="OSP$SPONSOR.DODAC_NUMBER" 
				alias="ORG.DODAC_NUMBER" datatype="string" size="150"/> <FIELD name="OSP$SPONSOR.CAGE_NUMBER" 
				alias="ORG.CAGE_NUMBER" datatype="string" size="140"/> -->
			<!-- JM 5-27-2011 added per 4.4.2 -->
			<FIELD name="ORG.DODAC_NUMBER" datatype="string" size="150" />
			<FIELD name="ORG.CAGE_NUMBER" datatype="string" size="140" />
			<!-- JM END -->
		</CRITERIA>
		<PROCEDURE name="DW_GET_ORG_LIST_FROM_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="ORGANIZATION_ID">Id</FIELD>
			<!-- JM 5-27-2011 added per 4.4.2 -->
			<FIELD name="DUNS_NUMBER">Duns Number</FIELD>
			<!-- JM END -->
			<FIELD name="ORGANIZATION_NAME">Name</FIELD>
			<FIELD name="ADDRESS">Address</FIELD>
			<FIELD name="CONGRESSIONAL_DISTRICT">Congr District</FIELD>
			<FIELD name="FEDRAL_EMPLOYER_ID">Fed Employee Id</FIELD>
			<!-- JM 5-25-2011 removed per 4.4.2 <FIELD name="VENDOR_CODE">Vendor Code</FIELD> 
				<FIELD name="DUNS_NUMBER">Dun And Bradstreet</FIELD> -->
			<FIELD name="DUNS_PLUS_FOUR_NUMBER">Duns Plus Four</FIELD>
			<!-- JM 5-25-2011 updated field names -->
			<FIELD name="DODAC_NUMBER">GL Fund</FIELD>
			<FIELD name="CAGE_NUMBER">GL Agency</FIELD>
			<!-- JM END -->
		</DISPLAY>
		<REMCLAUSE>
			ORDER BY ORG.ORGANIZATION_NAME
		</REMCLAUSE>
	</ORGANIZATIONSEARCH>

	<!--4580: Add organization and sponsor search in custom elements - Start -->
	<w_organization_select display="Organization Search"
		retrievelimit="ORGANIZATION_RETRIEVE_LIMIT" primarykeycolumn="ORG.ORGANIZATION_ID">
		<QUERY>
			<SELECTQUERY>SELECT
				ORG.ORGANIZATION_ID,ORG.ORGANIZATION_NAME,ORG.CONTACT_ADDRESS_ID,
				ORG.ADDRESS,ORG.CABLE_ADDRESS,ORG.TELEX_NUMBER,
				ORG.COUNTY,ORG.CONGRESSIONAL_DISTRICT,ORG.INCORPORATED_IN,ORG.INCORPORATED_DATE,
				ORG.NUMBER_OF_EMPLOYEES,ORG.IRS_TAX_EXCEMPTION,ORG.FEDRAL_EMPLOYER_ID,
				ORG.MASS_TAX_EXCEMPT_NUM,ORG.AGENCY_SYMBOL,ORG.VENDOR_CODE,ORG.COM_GOV_ENTITY_CODE,
				ORG.MASS_EMPLOYEE_CLAIM,ORG.DUNS_NUMBER,ORG.DUNS_PLUS_FOUR_NUMBER,ORG.DODAC_NUMBER,
				ORG.CAGE_NUMBER,ORG.HUMAN_SUB_ASSURANCE,ORG.ANIMAL_WELFARE_ASSURANCE,
				ORG.SCIENCE_MISCONDUCT_COMPL_DATE,ORG.PHS_ACOUNT,ORG.NSF_INSTITUTIONAL_CODE,
				ORG.INDIRECT_COST_RATE_AGREEMENT,ORG.COGNIZANT_AUDITOR,
				ORG.ONR_RESIDENT_REP,ORG.UPDATE_TIMESTAMP,
				ORG.UPDATE_USER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$ORGANIZATION ORG" />
			</FROM>
		</QUERY>
		<!-- <ORDERBY>ORGANIZATION_NAME asc</ORDERBY> -->
		<CRITERIA>
			<FIELD name="ORG.ORGANIZATION_ID" datatype="string" size="100" />
			<!-- JM 5-27-2011 added per 4.4.2 -->
			<FIELD name="OSP$SPONSOR.DUN_AND_BRADSTREET_NUMBER" alias="ORG.DUNS_NUMBER"
				datatype="string" size="150" />
			<!-- JM END -->
			<FIELD name="ORG.ORGANIZATION_NAME" datatype="string" size="100" />
			<FIELD name="ORG.ADDRESS" datatype="string" size="100" />
			<FIELD name="ORG.CONGRESSIONAL_DISTRICT" datatype="string"
				size="100" />
			<FIELD name="ORG.FEDRAL_EMPLOYER_ID" datatype="string" size="100" />
			<!-- JM 5-25-2011 removed per 4.4.2 <FIELD name="ORG.VENDOR_CODE" datatype="string" 
				size="100"/> <FIELD name="OSP$SPONSOR.DUN_AND_BRADSTREET_NUMBER" alias="ORG.DUNS_NUMBER" 
				datatype="string" size="150"/> -->
			<FIELD name="OSP$SPONSOR.DUNS_PLUS_FOUR_NUMBER" alias="ORG.DUNS_PLUS_FOUR_NUMBER"
				datatype="string" size="150" />
			<!-- JM 5-27-2011 removed per 4.4.2 <FIELD name="OSP$SPONSOR.DODAC_NUMBER" 
				alias="ORG.DODAC_NUMBER" datatype="string" size="150"/> <FIELD name="OSP$SPONSOR.CAGE_NUMBER" 
				alias="ORG.CAGE_NUMBER" datatype="string" size="140"/> -->
			<!-- JM 5-27-2011 added per 4.4.2 -->
			<FIELD name="ORG.DODAC_NUMBER" datatype="string" size="150" />
			<FIELD name="ORG.CAGE_NUMBER" datatype="string" size="140" />
			<!-- JM END -->
		</CRITERIA>
		<PROCEDURE name="DW_GET_ORG_LIST_FROM_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="ORGANIZATION_ID">Id</FIELD>
			<!-- JM 5-27-2011 added per 4.4.2 -->
			<FIELD name="DUNS_NUMBER">Duns Number</FIELD>
			<!-- JM END -->
			<FIELD name="ORGANIZATION_NAME">Name</FIELD>
			<FIELD name="ADDRESS">Address</FIELD>
			<FIELD name="CONGRESSIONAL_DISTRICT">Congr District</FIELD>
			<FIELD name="FEDRAL_EMPLOYER_ID">Fed Employee Id</FIELD>
			<!-- JM 5-27-2011 removed per 4.4.2 <FIELD name="VENDOR_CODE">Vendor Code</FIELD> 
				<FIELD name="DUNS_NUMBER">Dun And Bradstreet</FIELD> -->
			<FIELD name="DUNS_PLUS_FOUR_NUMBER">Duns Plus Four</FIELD>
			<!-- JM 5-27-2011 update field names -->
			<FIELD name="DODAC_NUMBER">GL Fund</FIELD>
			<FIELD name="CAGE_NUMBER">GL Agency</FIELD>
			<!-- JM END -->
		</DISPLAY>
		<REMCLAUSE>
			ORDER BY ORG.ORGANIZATION_NAME
		</REMCLAUSE>
		<DEFAULTSELECT>
			<ID>
				ORGANIZATION_ID
			</ID>
			<NAME>
				ORGANIZATION_NAME
			</NAME>
		</DEFAULTSELECT>

	</w_organization_select>
	<!-- 4580: Add organization and sponsor search in custom elements - End -->

	<!--<AORSEARCH display="Area Of Research" retrievelimit="500"> -->
	<AORSEARCH display="Area Of Research" retrievelimit="RESEARCH_AREA_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$RESEARCH_AREAS.RESEARCH_AREA_CODE">
		<QUERY>
			<SELECTQUERY>SELECT OSP$RESEARCH_AREAS.RESEARCH_AREA_CODE,
				OSP$RESEARCH_AREAS.DESCRIPTION
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$RESEARCH_AREAS" />
			</FROM>
		</QUERY>
		<CRITERIA>
			<FIELD name="OSP$RESEARCH_AREAS.RESEARCH_AREA_CODE" datatype="string"
				size="125" />
			<FIELD name="OSP$RESEARCH_AREAS.DESCRIPTION" datatype="string"
				size="275" />
		</CRITERIA>
		<PROCEDURE name="GET_AOR_LIST_FOR_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="RESEARCH_AREA_CODE">Research Code</FIELD>
			<FIELD name="DESCRIPTION">Description</FIELD>

		</DISPLAY>
		<REMCLAUSE>
			ORDER BY OSP$RESEARCH_AREAS.RESEARCH_AREA_CODE
		</REMCLAUSE>
	</AORSEARCH>


	<!--<LEADUNITSEARCH display="Unit Search" retrievelimit="500"> -->
	<LEADUNITSEARCH display="Unit Search" retrievelimit="UNIT_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$UNIT.UNIT_NUMBER">
		<QUERY>
			<SELECTQUERY>SELECT OSP$UNIT.UNIT_NUMBER,
				OSP$UNIT.UNIT_NAME,OSP$UNIT.ADMINISTRATIVE_OFFICER,
				OSP$PERSON_A.FULL_NAME ADMINOFFICER ,OSP$UNIT.UNIT_HEAD,
				OSP$PERSON_B.FULL_NAME UNITHEAD, OSP$UNIT.DEAN_VP,
				OSP$PERSON_C.FULL_NAME DEANVP,
				OSP$UNIT.OTHER_INDIVIDUAL_TO_NOTIFY, OSP$PERSON_D.FULL_NAME NOTIFY,
				OSP$UNIT.OSP_ADMINISTRATOR, OSP$PERSON_E.FULL_NAME ADMINTR
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$UNIT" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_A" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_B" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_C" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_D" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_E" />

			</FROM>
			<WHERE
				join="OSP$UNIT.ADMINISTRATIVE_OFFICER = OSP$PERSON_A.PERSON_ID (+)
                        AND OSP$UNIT.UNIT_HEAD = OSP$PERSON_B.PERSON_ID (+)
                        AND OSP$UNIT.DEAN_VP = OSP$PERSON_C.PERSON_ID (+)
                        AND OSP$UNIT.OTHER_INDIVIDUAL_TO_NOTIFY= OSP$PERSON_D.PERSON_ID (+)
                        AND OSP$UNIT.OSP_ADMINISTRATOR= OSP$PERSON_E.PERSON_ID (+)" />
		</QUERY>
		<CRITERIA>
			<FIELD name="OSP$UNIT.UNIT_NUMBER" datatype="string" webSize="13"
				size="120" />
			<FIELD name="OSP$UNIT.UNIT_NAME" datatype="string" webSize="13"
				size="120" />
			<FIELD name="OSP$UNIT.ADMINISTRATIVE_OFFICER" alias="OSP$PERSON_A.FULL_NAME"
				datatype="string" webSize="13" size="120" />
			<FIELD name="OSP$UNIT.UNIT_HEAD" alias="OSP$PERSON_B.FULL_NAME"
				datatype="string" webSize="13" size="120" />
			<FIELD name="OSP$UNIT.DEAN_VP" alias="OSP$PERSON_C.FULL_NAME"
				datatype="string" webSize="13" size="120" />
			<FIELD name="OSP$UNIT.OTHER_INDIVIDUAL_TO_NOTIFY" alias="OSP$PERSON_D.FULL_NAME"
				datatype="string" webSize="13" size="120" />
			<FIELD name="OSP$UNIT.OSP_ADMINISTRATOR" alias="OSP$PERSON_E.FULL_NAME"
				datatype="string" webSize="15" size="120" />
		</CRITERIA>
		<PROCEDURE name="dw_get_unit_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="UNIT_NUMBER">Unit Number</FIELD>
			<FIELD name="UNIT_NAME">Unit Name</FIELD>
			<FIELD name="ADMINOFFICER">Administrative Officer</FIELD>
			<FIELD name="UNITHEAD">Unit Head</FIELD>
			<FIELD name="DEANVP">Dean VP</FIELD>
			<FIELD name="NOTIFY">Other Ind To Notify</FIELD>
			<FIELD name="ADMINTR">Admin</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			/* JM 7-23-2015 added status filter based on permissions */
			AND (
			(OSP$UNIT.STATUS = 'A'
			AND
			FN_USER_HAS_ROLE('COEUS',1) = 0)
			OR
			(FN_USER_HAS_ROLE('COEUS',1) > 0)
			)
			/* END */

			ORDER BY OSP$UNIT.UNIT_NUMBER
		</REMCLAUSE>
		<DEFAULTSELECT>
			<ID>
				UNIT_NUMBER
			</ID>
			<NAME>
				UNIT_NAME
			</NAME>
		</DEFAULTSELECT>

	</LEADUNITSEARCH>

	<w_unit_select display="Unit Search" retrievelimit="UNIT_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$UNIT.UNIT_NUMBER">
		<QUERY>
			<SELECTQUERY>SELECT OSP$UNIT.UNIT_NUMBER,
				OSP$UNIT.UNIT_NAME,OSP$UNIT.ADMINISTRATIVE_OFFICER,
				OSP$PERSON_A.FULL_NAME ADMINOFFICER ,OSP$UNIT.UNIT_HEAD,
				OSP$PERSON_B.FULL_NAME UNITHEAD, OSP$UNIT.DEAN_VP,
				OSP$PERSON_C.FULL_NAME DEANVP,
				OSP$UNIT.OTHER_INDIVIDUAL_TO_NOTIFY, OSP$PERSON_D.FULL_NAME NOTIFY,
				OSP$UNIT.OSP_ADMINISTRATOR, OSP$PERSON_E.FULL_NAME ADMINTR
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$UNIT" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_A" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_B" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_C" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_D" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_E" />

			</FROM>
			<WHERE
				join="OSP$UNIT.ADMINISTRATIVE_OFFICER = OSP$PERSON_A.PERSON_ID (+)
                        AND OSP$UNIT.UNIT_HEAD = OSP$PERSON_B.PERSON_ID (+)
                        AND OSP$UNIT.DEAN_VP = OSP$PERSON_C.PERSON_ID (+)
                        AND OSP$UNIT.OTHER_INDIVIDUAL_TO_NOTIFY= OSP$PERSON_D.PERSON_ID (+)
                        AND OSP$UNIT.OSP_ADMINISTRATOR= OSP$PERSON_E.PERSON_ID (+)" />
		</QUERY>
		<CRITERIA>
			<FIELD name="OSP$UNIT.UNIT_NUMBER" datatype="string" webSize="13"
				size="120" />
			<FIELD name="OSP$UNIT.UNIT_NAME" datatype="string" webSize="13"
				size="120" />
			<FIELD name="OSP$UNIT.ADMINISTRATIVE_OFFICER" alias="OSP$PERSON_A.FULL_NAME"
				datatype="string" webSize="13" size="120" />
			<FIELD name="OSP$UNIT.UNIT_HEAD" alias="OSP$PERSON_B.FULL_NAME"
				datatype="string" webSize="13" size="120" />
			<FIELD name="OSP$UNIT.DEAN_VP" alias="OSP$PERSON_C.FULL_NAME"
				datatype="string" webSize="13" size="120" />
			<FIELD name="OSP$UNIT.OTHER_INDIVIDUAL_TO_NOTIFY" alias="OSP$PERSON_D.FULL_NAME"
				datatype="string" webSize="13" size="120" />
			<FIELD name="OSP$UNIT.OSP_ADMINISTRATOR" alias="OSP$PERSON_E.FULL_NAME"
				datatype="string" webSize="15" size="120" />
		</CRITERIA>
		<PROCEDURE name="dw_get_unit_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="UNIT_NUMBER">Unit Number</FIELD>
			<FIELD name="UNIT_NAME">Unit Name</FIELD>
			<FIELD name="ADMINOFFICER">Administrative Officer</FIELD>
			<FIELD name="UNITHEAD">Unit Head</FIELD>
			<FIELD name="DEANVP">Dean VP</FIELD>
			<FIELD name="NOTIFY">Other Ind To Notify</FIELD>
			<FIELD name="ADMINTR">Admin</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			/* JM 7-23-2015 added status filter based on permissions */
			AND (
			(OSP$UNIT.STATUS = 'A'
			AND
			FN_USER_HAS_ROLE('COEUS',1) = 0)
			OR
			(FN_USER_HAS_ROLE('COEUS',1) > 0)
			)
			/* END */

			ORDER BY OSP$UNIT.UNIT_NUMBER
		</REMCLAUSE>
		<DEFAULTSELECT>
			<ID>
				UNIT_NUMBER
			</ID>
			<NAME>
				UNIT_NAME
			</NAME>
		</DEFAULTSELECT>

	</w_unit_select>

	<!--<AWARDSEARCH display="Award Search" retrievelimit="500"> -->
	<!-- This query is too long so trimmed all extra spaces from the query. 
		Do not add spaces or tabs back in this query for formatting -->
	<!-- JM 3-14-2012 change award field order per user enhancement request -->
	<AWARDSEARCH display="Award Search" retrievelimit="AWARD_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$AWARD.MIT_AWARD_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT
				OSP$AWARD.MIT_AWARD_NUMBER, OSP$AWARD.SPONSOR_AWARD_NUMBER,
				OSP$AWARD_INVESTIGATORS.PERSON_NAME, OSP$AWARD.STATUS_CODE,
				OSP$AWARD_STATUS.DESCRIPTION,
				OSP$AWARD_HEADER.TITLE, OSP$SPONSOR.SPONSOR_NAME, OSP$AWARD.SPONSOR_CODE,
				OSP$AWARD.ACCOUNT_NUMBER, OSP$UNIT.UNIT_NAME,
				OSP$AWARD_UNITS.UNIT_NUMBER,
				OSP$PERSON.FULL_NAME FULL_NAME,
				ANTICIPATED_TOTAL_AMOUNT, ANT_DISTRIBUTABLE_AMOUNT, to_char(FINAL_EXPIRATION_DATE,
				'USER_DEFINED_DATE_FORMAT') FINAL_EXPIRATION_DATE,
				to_char(AWARD_EFFECTIVE_DATE, 'USER_DEFINED_DATE_FORMAT')
				AWARD_EFFECTIVE_DATE,
				to_char(CURRENT_FUND_EFFECTIVE_DATE, 'USER_DEFINED_DATE_FORMAT') CURRENT_FUND_EFFECTIVE_DATE,
				to_char(OBLIGATION_EXPIRATION_DATE, 'USER_DEFINED_DATE_FORMAT')
				OBLIGATION_EXPIRATION_DATE,
				AMOUNT_OBLIGATED_TO_DATE, OBLI_DISTRIBUTABLE_AMOUNT
				FROM OSP$AWARD ,OSP$AWARD_HEADER, OSP$SPONSOR, OSP$AWARD_UNITS,OSP$UNIT,
				OSP$AWARD_INVESTIGATORS, OSP$PERSON, OSP$AWARD_STATUS,
				OSP$AWARD_AMOUNT_INFO
				WHERE ( OSP$AWARD.SPONSOR_CODE = OSP$SPONSOR.SPONSOR_CODE (+))
				AND (OSP$AWARD.STATUS_CODE = OSP$AWARD_STATUS.STATUS_CODE (+))
				AND ( OSP$AWARD.SEQUENCE_NUMBER IN (
				SELECT MAX(A.SEQUENCE_NUMBER)
				FROM OSP$AWARD A
				WHERE A.MIT_AWARD_NUMBER =OSP$AWARD. MIT_AWARD_NUMBER ))
				AND OSP$AWARD.MIT_AWARD_NUMBER = OSP$AWARD_AMOUNT_INFO.MIT_AWARD_NUMBER
				(+)
				AND OSP$AWARD.SEQUENCE_NUMBER = OSP$AWARD_AMOUNT_INFO.SEQUENCE_NUMBER
				(+)
				AND ((OSP$AWARD_AMOUNT_INFO.AMOUNT_SEQUENCE_NUMBER IN (
				SELECT MAX(AASEQ.AMOUNT_SEQUENCE_NUMBER)
				FROM OSP$AWARD_AMOUNT_INFO AASEQ
				WHERE AASEQ.MIT_AWARD_NUMBER = OSP$AWARD_AMOUNT_INFO.MIT_AWARD_NUMBER
				AND OSP$AWARD_AMOUNT_INFO.SEQUENCE_NUMBER = AASEQ.SEQUENCE_NUMBER)) OR
				(OSP$AWARD_AMOUNT_INFO.AMOUNT_SEQUENCE_NUMBER is NULL ))
				AND ( OSP$AWARD.MIT_AWARD_NUMBER = OSP$AWARD_HEADER.MIT_AWARD_NUMBER)
				AND ( OSP$AWARD.SEQUENCE_NUMBER = OSP$AWARD_HEADER.SEQUENCE_NUMBER)
				AND ( OSP$AWARD.MIT_AWARD_NUMBER = OSP$AWARD_UNITS.MIT_AWARD_NUMBER)
				AND ( OSP$AWARD_UNITS.LEAD_UNIT_FLAG = 'Y')
				AND ( OSP$AWARD_UNITS.SEQUENCE_NUMBER IN (
				SELECT MAX(B.SEQUENCE_NUMBER)
				FROM OSP$AWARD_UNITS B
				WHERE B.MIT_AWARD_NUMBER =OSP$AWARD_UNITS.MIT_AWARD_NUMBER ))
				AND ( OSP$AWARD_UNITS.UNIT_NUMBER = OSP$UNIT.UNIT_NUMBER )
				AND ( OSP$UNIT.OSP_ADMINISTRATOR = OSP$PERSON.PERSON_ID (+) )
				AND ( OSP$AWARD.MIT_AWARD_NUMBER =
				OSP$AWARD_INVESTIGATORS.MIT_AWARD_NUMBER)
				AND ( OSP$AWARD_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y')
				AND ( OSP$AWARD_INVESTIGATORS.SEQUENCE_NUMBER IN (
				SELECT MAX(C.SEQUENCE_NUMBER)
				FROM OSP$AWARD_INVESTIGATORS C
				WHERE C.MIT_AWARD_NUMBER =OSP$AWARD_INVESTIGATORS. MIT_AWARD_NUMBER))
				AND (OSP$AWARD.MIT_AWARD_NUMBER IN (SELECT DISTINCT
				AWARD.MIT_AWARD_NUMBER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$AWARD" alias="AWARD" />
			</FROM>
			<WHERE
				join="(AWARD.SEQUENCE_NUMBER = (SELECT MAX(A1.SEQUENCE_NUMBER)  FROM OSP$AWARD A1 WHERE AWARD.MIT_AWARD_NUMBER = A1.MIT_AWARD_NUMBER ))">
			</WHERE>
		</QUERY>
		<CRITERIA>
			<!-- JM 3-14-2012 reordered per user enhancement request -->
			<FIELD name="OSP$AWARD.MIT_AWARD_NUMBER" alias="AWARD.MIT_AWARD_NUMBER"
				datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$AWARD.SPONSOR_AWARD_NUMBER" alias="AWARD.SPONSOR_AWARD_NUMBER"
				datatype="string" webSize="10" size="120" />
			<FIELD name="OSP$AWARD_INVESTIGATORS.PERSON_NAME" alias="INV.PERSON_NAME"
				datatype="string" table="OSP$AWARD_INVESTIGATORS INV"
				join="( AWARD.MIT_AWARD_NUMBER = INV.MIT_AWARD_NUMBER) AND ( INV.SEQUENCE_NUMBER IN ( SELECT MAX(INV1.SEQUENCE_NUMBER) 
FROM OSP$AWARD_INVESTIGATORS INV1 WHERE INV1.MIT_AWARD_NUMBER =INV.MIT_AWARD_NUMBER))"
				webSize="20" size="100" />
			<FIELD name="OSP$AWARD.STATUS_CODE" alias="AWARD.STATUS_CODE"
				datatype="number" webSize="10" size="100" />
			<FIELD name="OSP$AWARD_HEADER.TITLE" alias="HEADER.TITLE"
				datatype="string" table="OSP$AWARD_HEADER HEADER"
				join="(AWARD.MIT_AWARD_NUMBER = HEADER.MIT_AWARD_NUMBER) AND ( HEADER.SEQUENCE_NUMBER IN ( SELECT MAX(HEADER1.SEQUENCE_NUMBER)
FROM OSP$AWARD_HEADER HEADER1 WHERE HEADER1.MIT_AWARD_NUMBER = HEADER.MIT_AWARD_NUMBER)) "
				webSize="20" size="100" />
			<FIELD name="SPONSOR.SPONSOR_NAME" datatype="string"
				table="OSP$SPONSOR SPONSOR" join="AWARD.SPONSOR_CODE = SPONSOR.SPONSOR_CODE"
				webSize="15" size="100" />
			<FIELD name="OSP$SPONSOR.SPONSOR_CODE" alias="AWARD.SPONSOR_CODE"
				datatype="string" table="OSP$SPONSOR SPONSORCODE"
				join="AWARD.SPONSOR_CODE = SPONSORCODE.SPONSOR_CODE" webSize="10"
				size="100" />
			<FIELD name="OSP$AWARD.ACCOUNT_NUMBER" alias="AWARD.ACCOUNT_NUMBER"
				datatype="string" webSize="10" size="100" />

			<!-- Modified for COEUSDEV-225 : institutional proposal searching is wicked 
				slow Checked for award leadunit flag is 'Y' in OSP$AWARD_UNITS <FIELD name="OSP$AWARD_UNITS.UNIT_NUMBER" 
				alias="AWU.UNIT_NUMBER" datatype="string" table="OSP$AWARD_UNITS AWU" join="(AWARD.MIT_AWARD_NUMBER 
				= AWU.MIT_AWARD_NUMBER) AND ( AWU.SEQUENCE_NUMBER IN ( SELECT MAX(AWU1.SEQUENCE_NUMBER) 
				FROM OSP$AWARD_UNITS AWU1 WHERE AWU1.MIT_AWARD_NUMBER =AWU.MIT_AWARD_NUMBER 
				))" webSize="10" size="100"/> <FIELD name="OSP$UNIT.UNIT_NAME" alias="UNIT.UNIT_NAME" 
				datatype="string" table="OSP$UNIT UNIT" join="OSP$AWARD_UNITS.UNIT_NUMBER 
				= UNIT.UNIT_NUMBER" webSize="15" size="100" /> <FIELD name="OSP$AWARD.OSP_ADMINISTRATOR" 
				alias="OSP$PERSON.FULL_NAME" datatype="string" table="OSP$PERSON PERSON" 
				join="OSP$UNIT.OSP_ADMINISTRATOR = PERSON.PERSON_ID" webSize="15" size="100"/> -->
			<FIELD name="OSP$UNIT.UNIT_NAME" alias="UNIT.UNIT_NAME"
				datatype="string" table="OSP$UNIT UNIT"
				join="OSP$AWARD_UNITS.UNIT_NUMBER = UNIT.UNIT_NUMBER AND OSP$AWARD_UNITS.LEAD_UNIT_FLAG = 'Y'"
				webSize="15" size="100" />
			<FIELD name="OSP$AWARD_UNITS.UNIT_NUMBER" alias="AWU.UNIT_NUMBER"
				datatype="string" table="OSP$AWARD_UNITS AWU"
				join="(AWARD.MIT_AWARD_NUMBER = AWU.MIT_AWARD_NUMBER)  AND ( AWU.SEQUENCE_NUMBER IN ( SELECT MAX(AWU1.SEQUENCE_NUMBER)
				FROM OSP$AWARD_UNITS AWU1 WHERE AWU1.MIT_AWARD_NUMBER =AWU.MIT_AWARD_NUMBER AND AWU.LEAD_UNIT_FLAG = 'Y'))"
				webSize="10" size="100" />
			<FIELD name="OSP$AWARD.OSP_ADMINISTRATOR" alias="OSP$PERSON.FULL_NAME"
				datatype="string" table="OSP$PERSON PERSON"
				join="OSP$UNIT.OSP_ADMINISTRATOR = PERSON.PERSON_ID" webSize="15"
				size="100" />
			<!-- JM END -->
		</CRITERIA>
		<PROCEDURE name="dw_get_award_list_forquery">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<!-- Note that for current CoeusWeb version, MIT_AWARD_NUMBER must be 
				first display field -->
			<!-- JM 3-14-2012 changed order per user enhancement request; updated 
				some field names -->
			<FIELD name="MIT_AWARD_NUMBER">Award Number</FIELD>
			<FIELD name="SPONSOR_AWARD_NUMBER">Sponsor Award Number</FIELD>
			<FIELD name="PERSON_NAME">Investigator Name</FIELD>
			<FIELD name="DESCRIPTION">Award Status</FIELD>
			<FIELD name="TITLE">Title</FIELD>
			<FIELD name="SPONSOR_NAME">Sponsor Name</FIELD>
			<FIELD name="SPONSOR_CODE">Sponsor Code</FIELD>
			<FIELD name="ACCOUNT_NUMBER">Center Number</FIELD>
			<FIELD name="UNIT_NAME">Lead Unit Name</FIELD>
			<FIELD name="UNIT_NUMBER">Lead Unit Number</FIELD>
			<FIELD name="FULL_NAME" size="150">OSP Administrator</FIELD>
			<FIELD name="AMOUNT_OBLIGATED_TO_DATE" size="150" datatype="number">Obligated
				Amount</FIELD>
			<FIELD name="ANTICIPATED_TOTAL_AMOUNT" size="150" datatype="number">Anticipated
				Total Amount</FIELD>
			<FIELD name="OBLI_DISTRIBUTABLE_AMOUNT" size="150" datatype="number">Obligated
				Dist. Amount</FIELD>
			<FIELD name="ANT_DISTRIBUTABLE_AMOUNT" size="150" datatype="number">Anticipated
				Dist. Amount</FIELD>
			<FIELD name="AWARD_EFFECTIVE_DATE" size="150" datatype="date">Award
				Effective Date</FIELD>
			<FIELD name="OBLIGATION_EXPIRATION_DATE" size="200" datatype="date">Obligation
				Expiration Date</FIELD>
			<FIELD name="FINAL_EXPIRATION_DATE" size="200" datatype="date">Final
				Expiration Date</FIELD>
			<!-- JM END -->
		</DISPLAY>
		<!-- The section where we can specify any query string to be appended after 
			the formation of the where clause. -->
		<REMCLAUSE>))
			AND (FN_USER_HAS_RIGHT_IN_MODULE('COEUS',OSP$UNIT.UNIT_NUMBER,1) > 0)
			order by OSP$AWARD.MIT_AWARD_NUMBER
		</REMCLAUSE>
	</AWARDSEARCH>
	<!--<PROPOSALSEARCH display="Proposal Search" retrievelimit="500"> -->
	<!-- 3-14-2012 change award field order per user enhancement request -->
	<PROPOSALSEARCH display="Select Proposal" retrievelimit="PROPOSAL_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$PROPOSAL.PROPOSAL_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT OSP$PROPOSAL.PROPOSAL_NUMBER,
				/* JM 5-27-2011 added OSP$PROPOSAL.SPONSOR_PROPOSAL_NUMBER per 4.4.2
				*/
				OSP$PROPOSAL.SPONSOR_PROPOSAL_NUMBER,
				OSP$PROPOSAL_INVESTIGATORS.PERSON_NAME,
				OSP$PROPOSAL.STATUS_CODE, OSP$PROPOSAL_STATUS.DESCRIPTION as PROPOSAL_STATUS_DESC,
				OSP$PROPOSAL.TITLE,
				OSP$PROPOSAL.PROPOSAL_TYPE_CODE, OSP$PROPOSAL_TYPE.DESCRIPTION as PROPOSAL_TYPE_DESC,
				OSP$PROPOSAL_TYPE.DESCRIPTION as PROPOSAL_TYPE_DESC,
				OSP$SPONSOR.SPONSOR_NAME, OSP$PROPOSAL.SPONSOR_CODE,
				OSP$PROPOSAL.CURRENT_ACCOUNT_NUMBER,
				OSP$UNIT.UNIT_NAME, OSP$PROPOSAL_UNITS.UNIT_NUMBER,
				/* JM 11-25-2013 added OSP Administrator */
				OSP$PERSON.FULL_NAME,
				/* JM END */
				OSP$PROPOSAL.PRIME_SPONSOR_CODE,
				OSP$ACTIVITY_TYPE.DESCRIPTION AS PROPOSAL_ACTIVITY_DESC,
				OSP$PROPOSAL.SEQUENCE_NUMBER,
				to_char(OSP$PROPOSAL.REQUESTED_START_DATE_INITIAL, 'yyyy/MM/dd') REQUESTED_START_DATE_INITIAL,
				to_char(OSP$PROPOSAL.REQUESTED_START_DATE_TOTAL, 'yyyy/MM/dd')
				REQUESTED_START_DATE_TOTAL,
				to_char(OSP$PROPOSAL.REQUESTED_END_DATE_INITIAL, 'yyyy/MM/dd')
				REQUESTED_END_DATE_INITIAL,
				to_char(OSP$PROPOSAL.REQUESTED_END_DATE_TOTAL, 'yyyy/MM/dd')
				REQUESTED_END_DATE_TOTAL,
				OSP$PROPOSAL.TOTAL_DIRECT_COST_INITIAL,
				OSP$PROPOSAL.TOTAL_DIRECT_COST_TOTAL,
				OSP$PROPOSAL.TOTAL_INDIRECT_COST_INITIAL,
				OSP$PROPOSAL.TOTAL_INDIRECT_COST_TOTAL
				/* JM 11-25-2013 added OSP$PERSON for OSP Administrator */
				FROM
				OSP$PROPOSAL, OSP$SPONSOR, OSP$PROPOSAL_INVESTIGATORS,
				OSP$PROPOSAL_UNITS, OSP$UNIT, OSP$PROPOSAL_STATUS,
				OSP$PROPOSAL_TYPE, OSP$ACTIVITY_TYPE, OSP$PERSON
				/* JM END */
				WHERE (OSP$PROPOSAL.SPONSOR_CODE = OSP$SPONSOR.SPONSOR_CODE (+)) AND
				(OSP$PROPOSAL.STATUS_CODE =
				OSP$PROPOSAL_STATUS.PROPOSAL_STATUS_CODE) AND
				(OSP$PROPOSAL.PROPOSAL_TYPE_CODE =
				OSP$PROPOSAL_TYPE.PROPOSAL_TYPE_CODE) AND
				(OSP$PROPOSAL.ACTIVITY_TYPE_CODE =
				OSP$ACTIVITY_TYPE.ACTIVITY_TYPE_CODE) AND
				OSP$PROPOSAL.SEQUENCE_NUMBER IN (SELECT MAX(A.SEQUENCE_NUMBER) FROM
				OSP$PROPOSAL A
				WHERE (A.PROPOSAL_NUMBER = OSP$PROPOSAL.PROPOSAL_NUMBER ))
				AND (OSP$PROPOSAL.PROPOSAL_NUMBER = OSP$PROPOSAL_UNITS.PROPOSAL_NUMBER)
				AND (OSP$PROPOSAL_UNITS.LEAD_UNIT_FLAG = 'Y')
				AND (OSP$PROPOSAL_UNITS.SEQUENCE_NUMBER IN ( SELECT
				MAX(B.SEQUENCE_NUMBER) FROM OSP$PROPOSAL_UNITS B WHERE
				B.PROPOSAL_NUMBER =OSP$PROPOSAL_UNITS.PROPOSAL_NUMBER ))
				AND (OSP$PROPOSAL_UNITS.UNIT_NUMBER = OSP$UNIT.UNIT_NUMBER )
				/* JM 11-25-2013 added OSP$PERSON for OSP Administrator */
				AND (OSP$UNIT.OSP_ADMINISTRATOR = OSP$PERSON.PERSON_ID(+))
				/* JM END */
				AND (OSP$PROPOSAL.PROPOSAL_NUMBER =
				OSP$PROPOSAL_INVESTIGATORS.PROPOSAL_NUMBER)
				AND (OSP$PROPOSAL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y')
				AND (OSP$PROPOSAL_INVESTIGATORS.SEQUENCE_NUMBER IN (
				SELECT MAX(C.SEQUENCE_NUMBER) FROM OSP$PROPOSAL_INVESTIGATORS C
				WHERE C.PROPOSAL_NUMBER = OSP$PROPOSAL_INVESTIGATORS.PROPOSAL_NUMBER))
				AND (OSP$PROPOSAL.PROPOSAL_NUMBER IN (SELECT DISTINCT
				PROPOSAL.PROPOSAL_NUMBER



			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$PROPOSAL" alias="PROPOSAL" />
			</FROM>
			<WHERE
				join="(PROPOSAL.SEQUENCE_NUMBER = ( SELECT MAX(P1.SEQUENCE_NUMBER)FROM OSP$PROPOSAL P1 WHERE PROPOSAL.PROPOSAL_NUMBER = P1.PROPOSAL_NUMBER ))">
			</WHERE>
		</QUERY>
		<CRITERIA>
			<!-- JM 3-14-2012 reordered and added fields per user enhancement request -->
			<FIELD name="OSP$PROPOSAL.PROPOSAL_NUMBER" alias="PROPOSAL.PROPOSAL_NUMBER"
				datatype="string" webSize="10" size="110" />
			<!-- JM 5-27-2011 added OSP$PROPOSAL.SPONSOR_PROPOSAL_NUMBER per 4.4.2 -->
			<FIELD name="OSP$PROPOSAL.SPONSOR_PROPOSAL_NUMBER" alias="PROPOSAL.SPONSOR_PROPOSAL_NUMBER"
				datatype="string" webSize="10" size="110" />
			<FIELD name="OSP$PROPOSAL_INVESTIGATORS.PERSON_NAME" alias="PI.PERSON_NAME"
				datatype="string" table="OSP$PROPOSAL_INVESTIGATORS PI"
				join="(PROPOSAL.PROPOSAL_NUMBER = PI.PROPOSAL_NUMBER) AND (PI.SEQUENCE_NUMBER IN (SELECT MAX(PI1.SEQUENCE_NUMBER)
FROM OSP$PROPOSAL_INVESTIGATORS PI1 WHERE PI1.PROPOSAL_NUMBER = PI.PROPOSAL_NUMBER ))"
				webSize="15" size="100" />
			<FIELD name="OSP$PROPOSAL.STATUS_CODE" datatype="number"
				alias="PROPOSAL.STATUS_CODE" webSize="10" size="100" />
			<FIELD name="OSP$PROPOSAL.TITLE" alias="PROPOSAL.TITLE"
				datatype="string" webSize="20" size="200" />
			<FIELD name="OSP$PROPOSAL.PROPOSAL_TYPE_CODE" alias="PROPOSAL.PROPOSAL_TYPE_CODE"
				datatype="number" webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.SPONSOR_NAME" alias="SPONSOR.SPONSOR_NAME"
				datatype="string" table="OSP$SPONSOR SPONSOR"
				join="PROPOSAL.SPONSOR_CODE = SPONSOR.SPONSOR_CODE" webSize="15"
				size="100" />
			<FIELD name="OSP$PROPOSAL.SPONSOR_CODE" alias="PROPOSAL.SPONSOR_CODE"
				datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$PROPOSAL.CURRENT_ACCOUNT_NUMBER" alias="PROPOSAL.CURRENT_ACCOUNT_NUMBER"
				datatype="string" webSize="10" size="100" />
			<!-- Modified for COEUSDEV-225 : institutional proposal searching is wicked 
				slow Checked for proposal leadunit flag is 'Y' in OSP$PROPOSAL_UNITS <FIELD 
				name="OSP$PROPOSAL_UNITS.UNIT_NUMBER" alias="PU.UNIT_NUMBER" datatype="string" 
				table="OSP$PROPOSAL_UNITS PU" join="(PROPOSAL.PROPOSAL_NUMBER = PU.PROPOSAL_NUMBER) 
				AND ( PU.SEQUENCE_NUMBER IN ( SELECT MAX(PU1.SEQUENCE_NUMBER) FROM OSP$PROPOSAL_UNITS 
				PU1 WHERE PU1.PROPOSAL_NUMBER =PU.PROPOSAL_NUMBER ))" webSize="10" size="100"/> 
				<FIELD name="OSP$UNIT.UNIT_NAME" alias="UNIT.UNIT_NAME" datatype="string" 
				table="OSP$PROPOSAL_UNITS PU3,OSP$UNIT UNIT" join="(PU3.UNIT_NUMBER = UNIT.UNIT_NUMBER) 
				AND (PROPOSAL.PROPOSAL_NUMBER = PU3.PROPOSAL_NUMBER) AND ( PU3.SEQUENCE_NUMBER 
				IN ( SELECT MAX(PU3.SEQUENCE_NUMBER) FROM OSP$PROPOSAL_UNITS PU4 WHERE PU3.PROPOSAL_NUMBER 
				=PU4.PROPOSAL_NUMBER ))" webSize="15" size="100"/> -->
			<FIELD name="OSP$UNIT.UNIT_NAME" alias="UNIT.UNIT_NAME"
				datatype="string" table="OSP$PROPOSAL_UNITS PU3,OSP$UNIT UNIT"
				join="(PU3.UNIT_NUMBER = UNIT.UNIT_NUMBER) AND (PROPOSAL.PROPOSAL_NUMBER = PU3.PROPOSAL_NUMBER)
AND ( PU3.SEQUENCE_NUMBER IN  ( SELECT MAX(PU4.SEQUENCE_NUMBER) FROM OSP$PROPOSAL_UNITS PU4  WHERE PU3.PROPOSAL_NUMBER =PU4.PROPOSAL_NUMBER AND PU3.LEAD_UNIT_FLAG = 'Y'))"
				webSize="15" size="100" />
			<FIELD name="OSP$PROPOSAL_UNITS.UNIT_NUMBER" alias="PU.UNIT_NUMBER"
				datatype="string" table="OSP$PROPOSAL_UNITS PU"
				join="(PROPOSAL.PROPOSAL_NUMBER = PU.PROPOSAL_NUMBER) AND ( PU.SEQUENCE_NUMBER IN  ( SELECT MAX(PU1.SEQUENCE_NUMBER)
FROM OSP$PROPOSAL_UNITS PU1 WHERE PU1.PROPOSAL_NUMBER =PU.PROPOSAL_NUMBER AND PU.LEAD_UNIT_FLAG = 'Y'))"
				webSize="10" size="100" />

			<!-- JM 11-25-2013 added OSP Administrator -->
			<FIELD name="OSP$PERSON.FULL_NAME" alias="PERSON.FULL_NAME"
				datatype="string" table="OSP$PERSON PERSON"
				join="OSP$UNIT.OSP_ADMINISTRATOR = PERSON.PERSON_ID" webSize="15"
				size="100" />
			<!-- <FIELD name="OSP$PROPOSAL.OSP_ADMINISTRATOR" alias="OSP$PERSON.FULL_NAME" 
				datatype="string" table="OSP$PERSON PERSON" join="OSP$UNIT.OSP_ADMINISTRATOR 
				= PERSON.PERSON_ID" webSize="15" size="100"/> -->
			<!-- JM END -->

			<FIELD name="OSP$PROPOSAL.REQUESTED_START_DATE_INITIAL" alias="PROPOSAL.REQUESTED_START_DATE_INITIAL"
				datatype="date" webSize="10" size="100" />
			<FIELD name="OSP$PROPOSAL.REQUESTED_START_DATE_TOTAL" alias="PROPOSAL.REQUESTED_START_DATE_TOTAL"
				datatype="date" webSize="10" size="100" />
			<FIELD name="OSP$PROPOSAL.REQUESTED_END_DATE_INITIAL" alias="PROPOSAL.REQUESTED_END_DATE_INITIAL"
				datatype="date" webSize="10" size="100" />
			<FIELD name="OSP$PROPOSAL.REQUESTED_END_DATE_TOTAL" alias="PROPOSAL.REQUESTED_END_DATE_TOTAL"
				datatype="date" webSize="10" size="100" />
		</CRITERIA>
		<PROCEDURE name="dw_get_inst_props_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- JM 5-27-2011 added SPONSOR_PROPOSAL_NUMBER per 4.4.2; changed account 
			to center per 4.4.2 -->
		<DISPLAY>
			<!-- JM 3-14-2012 changed order per user enhancement request; updated 
				some field names -->
			<FIELD name="PROPOSAL_NUMBER" size="100">Proposal Number</FIELD>
			<FIELD name="SPONSOR_PROPOSAL_NUMBER" size="100">Sponsor Proposal
				Number</FIELD>
			<FIELD name="PERSON_NAME" size="150">Investigator Name</FIELD>
			<FIELD name="PROPOSAL_STATUS_DESC" size="100">Proposal Status</FIELD>
			<FIELD name="TITLE" size="250">Title</FIELD>
			<FIELD name="PROPOSAL_TYPE_DESC" size="100">Proposal Type</FIELD>
			<FIELD name="SPONSOR_NAME" size="150">Sponsor Name</FIELD>
			<FIELD name="SPONSOR_CODE" size="100">Sponsor Code</FIELD>
			<FIELD name="CURRENT_ACCOUNT_NUMBER" size="100">Center Number</FIELD>
			<FIELD name="UNIT_NAME" size="150">Lead Unit Name</FIELD>
			<FIELD name="UNIT_NUMBER" size="100">Lead Unit Number</FIELD>
			<!-- JM 11-25-2013 added OSP Administrator name -->
			<FIELD name="FULL_NAME" size="150">OSP Administrator</FIELD>
			<!-- JM END -->
			<FIELD name="PRIME_SPONSOR_CODE" size="100">Prime Sponsor</FIELD>
			<FIELD name="PROPOSAL_ACTIVITY_DESC" SIZE="100">Activity</FIELD>
			<FIELD name="REQUESTED_START_DATE_INITIAL" datatype="date">Request
				Start Date Initial</FIELD>
			<FIELD name="REQUESTED_START_DATE_TOTAL" datatype="date">Request Start
				Date Total</FIELD>
			<FIELD name="REQUESTED_END_DATE_INITIAL" datatype="date">Request End
				Date Initial</FIELD>
			<FIELD name="REQUESTED_END_DATE_TOTAL" datatype="date">Request End
				Date Total</FIELD>
			-->
			<FIELD name="TOTAL_DIRECT_COST_INITIAL" datatype="number">Total Direct
				Cost Initial</FIELD>
			<FIELD name="TOTAL_DIRECT_COST_TOTAL" datatype="number">Total Direct
				Cost Total</FIELD>
			<FIELD name="TOTAL_INDIRECT_COST_INITIAL" datatype="number">Total
				Indirect Cost Initial</FIELD>
			<FIELD name="TOTAL_INDIRECT_COST_TOTAL" datatype="number">Total Indirect
				Cost Total</FIELD>
			<!-- JM 6-6-2012 removed this field - will always be latest sequence <FIELD 
				name="SEQUENCE_NUMBER" datatype="number" visible="false">Sequence Number</FIELD> -->
		</DISPLAY>
		<!-- The section where we can specify any query string to be appended after 
			the formation of the where clause. -->
		<REMCLAUSE>))
			AND (FN_USER_HAS_RIGHT_IN_MODULE('COEUS',OSP$UNIT.UNIT_NUMBER,2) > 0)
			ORDER BY OSP$PROPOSAL.PROPOSAL_NUMBER desc
		</REMCLAUSE>
	</PROPOSALSEARCH>

	<!--Added for COEUSQA-2428_CLONE -LIte - Prop Dev - Application does not 
		return any rows while searching for Original proposal- Start -->
	<!-- 3-15-2012 change award field order per user enhancement request -->
	<INSTITUTEPROPOSALSEARCH display="Select Proposal"
		retrievelimit="PROPOSAL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROPOSAL.PROPOSAL_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT OSP$PROPOSAL.PROPOSAL_NUMBER,
				OSP$PROPOSAL_INVESTIGATORS.PERSON_NAME,
				OSP$PROPOSAL.STATUS_CODE, OSP$PROPOSAL_STATUS.DESCRIPTION as PROPOSAL_STATUS_DESC,
				OSP$PROPOSAL.TITLE,
				OSP$PROPOSAL.PROPOSAL_TYPE_CODE, OSP$PROPOSAL_TYPE.DESCRIPTION as PROPOSAL_TYPE_DESC,
				OSP$SPONSOR.SPONSOR_NAME, OSP$PROPOSAL.SPONSOR_CODE,
				OSP$PROPOSAL.PRIME_SPONSOR_CODE,
				OSP$PROPOSAL.CURRENT_ACCOUNT_NUMBER,
				OSP$UNIT.UNIT_NAME, OSP$PROPOSAL_UNITS.UNIT_NUMBER,
				/* JM 11-25-2013 added OSP Administrator */
				OSP$PERSON.FULL_NAME,
				/* JM END */
				OSP$ACTIVITY_TYPE.DESCRIPTION AS PROPOSAL_ACTIVITY_DESC,
				OSP$PROPOSAL.SEQUENCE_NUMBER,
				to_char(OSP$PROPOSAL.REQUESTED_START_DATE_INITIAL, 'yyyy/MM/dd') REQUESTED_START_DATE_INITIAL,
				to_char(OSP$PROPOSAL.REQUESTED_START_DATE_TOTAL, 'yyyy/MM/dd')
				REQUESTED_START_DATE_TOTAL,
				to_char(OSP$PROPOSAL.REQUESTED_END_DATE_INITIAL, 'yyyy/MM/dd')
				REQUESTED_END_DATE_INITIAL,
				to_char(OSP$PROPOSAL.REQUESTED_END_DATE_TOTAL, 'yyyy/MM/dd')
				REQUESTED_END_DATE_TOTAL,
				OSP$PROPOSAL.TOTAL_DIRECT_COST_INITIAL,
				OSP$PROPOSAL.TOTAL_DIRECT_COST_TOTAL,
				OSP$PROPOSAL.TOTAL_INDIRECT_COST_INITIAL, OSP$PROPOSAL.TOTAL_INDIRECT_COST_TOTAL
				/* JM 11-25-2013 added OSP$PERSON for OSP Administrator */
				FROM OSP$PROPOSAL, OSP$SPONSOR, OSP$PROPOSAL_INVESTIGATORS,
				OSP$PROPOSAL_UNITS, OSP$UNIT, OSP$PROPOSAL_STATUS,
				OSP$PROPOSAL_TYPE, OSP$ACTIVITY_TYPE, OSP$PERSON
				/* JM END */
				WHERE (OSP$PROPOSAL.SPONSOR_CODE = OSP$SPONSOR.SPONSOR_CODE (+))
				AND (OSP$PROPOSAL.STATUS_CODE =
				OSP$PROPOSAL_STATUS.PROPOSAL_STATUS_CODE)
				AND (OSP$PROPOSAL.PROPOSAL_TYPE_CODE =
				OSP$PROPOSAL_TYPE.PROPOSAL_TYPE_CODE)
				AND (OSP$PROPOSAL.ACTIVITY_TYPE_CODE =
				OSP$ACTIVITY_TYPE.ACTIVITY_TYPE_CODE)
				AND OSP$PROPOSAL.SEQUENCE_NUMBER IN
				( SELECT MAX(A.SEQUENCE_NUMBER)
				FROM OSP$PROPOSAL A
				WHERE (A.PROPOSAL_NUMBER =OSP$PROPOSAL.PROPOSAL_NUMBER ))
				AND (OSP$PROPOSAL.PROPOSAL_NUMBER = OSP$PROPOSAL_UNITS.PROPOSAL_NUMBER)
				AND (OSP$PROPOSAL_UNITS.LEAD_UNIT_FLAG = 'Y')
				AND (OSP$PROPOSAL_UNITS.SEQUENCE_NUMBER IN ( SELECT
				MAX(B.SEQUENCE_NUMBER) FROM OSP$PROPOSAL_UNITS B WHERE
				B.PROPOSAL_NUMBER =OSP$PROPOSAL_UNITS.PROPOSAL_NUMBER ))
				AND (OSP$PROPOSAL_UNITS.UNIT_NUMBER = OSP$UNIT.UNIT_NUMBER )
				/* JM 11-25-2013 added OSP$PERSON for OSP Administrator */
				AND (OSP$UNIT.OSP_ADMINISTRATOR = OSP$PERSON.PERSON_ID(+))
				/* JM END */
				AND (OSP$PROPOSAL.PROPOSAL_NUMBER =
				OSP$PROPOSAL_INVESTIGATORS.PROPOSAL_NUMBER)
				AND (OSP$PROPOSAL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y')
				AND (OSP$PROPOSAL_INVESTIGATORS.SEQUENCE_NUMBER IN (SELECT
				MAX(C.SEQUENCE_NUMBER)
				FROM OSP$PROPOSAL_INVESTIGATORS C
				WHERE C.PROPOSAL_NUMBER =OSP$PROPOSAL_INVESTIGATORS.PROPOSAL_NUMBER))
				AND (OSP$PROPOSAL.PROPOSAL_NUMBER IN (SELECT DISTINCT
				PROPOSAL.PROPOSAL_NUMBER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$PROPOSAL" alias="PROPOSAL" />
			</FROM>
			<WHERE
				join="(PROPOSAL.SEQUENCE_NUMBER = ( SELECT MAX(P1.SEQUENCE_NUMBER)FROM OSP$PROPOSAL P1 WHERE PROPOSAL.PROPOSAL_NUMBER = P1.PROPOSAL_NUMBER ))">
			</WHERE>
		</QUERY>
		<CRITERIA>
			<!-- JM 3-15-2012 reordered per user enhancement request -->
			<FIELD name="OSP$PROPOSAL.PROPOSAL_NUMBER" alias="PROPOSAL.PROPOSAL_NUMBER"
				datatype="string" webSize="10" size="110" />
			<FIELD name="OSP$PROPOSAL_INVESTIGATORS.PERSON_NAME" alias="PI.PERSON_NAME"
				datatype="string" table="OSP$PROPOSAL_INVESTIGATORS  PI"
				join="(PROPOSAL.PROPOSAL_NUMBER = PI.PROPOSAL_NUMBER) AND (PI.SEQUENCE_NUMBER IN (SELECT MAX(PI1.SEQUENCE_NUMBER)
                                        FROM  OSP$PROPOSAL_INVESTIGATORS PI1 WHERE PI1.PROPOSAL_NUMBER = PI.PROPOSAL_NUMBER ))"
				webSize="15" size="100" />
			<FIELD name="OSP$PROPOSAL.STATUS_CODE" alias="PROPOSAL.STATUS_CODE"
				datatype="number" webSize="10" size="100" />
			<FIELD name="OSP$PROPOSAL.TITLE" alias="PROPOSAL.TITLE"
				datatype="string" webSize="20" size="200" />
			<FIELD name="OSP$PROPOSAL.PROPOSAL_TYPE_CODE" alias="PROPOSAL.PROPOSAL_TYPE_CODE"
				datatype="number" webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.SPONSOR_NAME" alias="SPONSOR.SPONSOR_NAME"
				datatype="string" table="OSP$SPONSOR SPONSOR"
				join="PROPOSAL.SPONSOR_CODE = SPONSOR.SPONSOR_CODE" webSize="15"
				size="100" />
			<FIELD name="OSP$PROPOSAL.SPONSOR_CODE" alias="PROPOSAL.SPONSOR_CODE"
				datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$PROPOSAL.CURRENT_ACCOUNT_NUMBER" alias="PROPOSAL.CURRENT_ACCOUNT_NUMBER"
				datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$UNIT.UNIT_NAME" alias="UNIT.UNIT_NAME"
				datatype="string" table="OSP$PROPOSAL_UNITS PU3,OSP$UNIT UNIT"
				join="(PU3.UNIT_NUMBER = UNIT.UNIT_NUMBER) AND (PROPOSAL.PROPOSAL_NUMBER = PU3.PROPOSAL_NUMBER)
                                        AND ( PU3.SEQUENCE_NUMBER IN  ( SELECT MAX(PU4.SEQUENCE_NUMBER) FROM OSP$PROPOSAL_UNITS PU4  WHERE PU3.PROPOSAL_NUMBER =PU4.PROPOSAL_NUMBER AND PU3.LEAD_UNIT_FLAG = 'Y'))"
				webSize="15" size="100" />
			<FIELD name="OSP$PROPOSAL_UNITS.UNIT_NUMBER" alias="PU.UNIT_NUMBER"
				datatype="string" table="OSP$PROPOSAL_UNITS PU"
				join="(PROPOSAL.PROPOSAL_NUMBER = PU.PROPOSAL_NUMBER) AND ( PU.SEQUENCE_NUMBER IN  ( SELECT MAX(PU1.SEQUENCE_NUMBER)
                                        FROM OSP$PROPOSAL_UNITS PU1 WHERE PU1.PROPOSAL_NUMBER =PU.PROPOSAL_NUMBER AND PU.LEAD_UNIT_FLAG = 'Y'))"
				webSize="10" size="100" />

			<!-- JM 11-25-2013 added OSP Administrator -->
			<FIELD name="OSP$PERSON.FULL_NAME" alias="PERSON.FULL_NAME"
				datatype="string" table="OSP$PERSON PERSON"
				join="OSP$UNIT.OSP_ADMINISTRATOR = PERSON.PERSON_ID" webSize="15"
				size="100" />
			<!-- JM END -->

		</CRITERIA>
		<PROCEDURE name="dw_get_inst_props_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<!-- JM 3-15-2012 changed order per user enhancement request; updated 
				some field names -->
			<FIELD name="PROPOSAL_NUMBER" size="100">Proposal Number</FIELD>
			<FIELD name="PERSON_NAME" size="150">Investigator Name</FIELD>
			<FIELD name="PROPOSAL_STATUS_DESC" size="100">Proposal Status</FIELD>
			<FIELD name="TITLE" size="250">Title</FIELD>
			<FIELD name="PROPOSAL_TYPE_DESC" size="100">Proposal Type</FIELD>
			<FIELD name="SPONSOR_NAME" size="150">Sponsor Name</FIELD>
			<FIELD name="SPONSOR_CODE" size="100">Sponsor Code</FIELD>
			<FIELD name="CURRENT_ACCOUNT_NUMBER" size="100">Center Number</FIELD>
			<FIELD name="UNIT_NAME" size="150">Lead Unit Name</FIELD>
			<FIELD name="UNIT_NUMBER" size="100">Lead Unit Number</FIELD>
			<!-- JM 11-25-2013 added OSP Administrator name -->
			<FIELD name="FULL_NAME" size="150">OSP Administrator</FIELD>
			<!-- JM END -->
			<FIELD name="PRIME_SPONSOR_CODE" size="100">Prime Sponsor</FIELD>
			<FIELD name="PROPOSAL_ACTIVITY_DESC" SIZE="100">Activity</FIELD>
			<FIELD name="REQUESTED_START_DATE_INITIAL" datatype="date">Request
				Start Date Initial</FIELD>
			<FIELD name="REQUESTED_START_DATE_TOTAL" datatype="date">Request Start
				Date Total</FIELD>
			<FIELD name="REQUESTED_END_DATE_INITIAL" datatype="date">Request End
				Date Initial</FIELD>
			<FIELD name="REQUESTED_END_DATE_TOTAL" datatype="date">Request End
				Date Total</FIELD>
			<FIELD name="TOTAL_DIRECT_COST_INITIAL" datatype="number">Total Direct
				Cost Initial</FIELD>
			<FIELD name="TOTAL_DIRECT_COST_TOTAL" datatype="number">Total Direct
				Cost Total</FIELD>
			<FIELD name="TOTAL_INDIRECT_COST_INITIAL" datatype="number">Total
				Indirect Cost Initial</FIELD>
			<FIELD name="TOTAL_INDIRECT_COST_TOTAL" datatype="number">Total Indirect
				Cost Total</FIELD>
		</DISPLAY>
		<REMCLAUSE>))
			ORDER BY OSP$PROPOSAL.PROPOSAL_NUMBER desc
		</REMCLAUSE>
	</INSTITUTEPROPOSALSEARCH>

	<!--Added for COEUSQA-2428_CLONE -LIte - Prop Dev - Application does not 
		return any rows while searching for Original proposal- End -->

	<!--<PROPOSALDEVSEARCH display="Proposal Search" retrievelimit="500"> -->
	<PROPOSALDEVSEARCH display="Select Development Proposal"
		retrievelimit="PROPOSAL_DEV_RETRIEVE_LIMIT" primarykeycolumn="P.PROPOSAL_NUMBER">
		<QUERY>
			<!--P.CREATION_STATUS_CODE, --><!--AS STATUS -->
			<SELECTQUERY>
				SELECT
				DISTINCT P.PROPOSAL_NUMBER,
				DECODE( ( SELECT COUNT(*) FROM OSP$EPS_PROPOSAL_HIERARCHY
				WHERE PARENT_PROPOSAL_NUMBER = P.PROPOSAL_NUMBER
				OR CHILD_PROPOSAL_NUMBER = P.PROPOSAL_NUMBER ) , 0,'N','Y') AS
				IS_PROP_IN_HIERARCHY,
				P.PROPOSAL_TYPE_CODE,
				PT.DESCRIPTION TYPE,
				P.CREATION_STATUS_CODE AS CREATION_CODE,
				to_char(P.DEADLINE_DATE,'USER_DEFINED_DATE_FORMAT') "DEADLINE_DATE",
				PI.PERSON_NAME,
				U.UNIT_NUMBER,
				U.UNIT_NAME,
				/* JM 11-25-2013 added OSP Administrator */
				R.FULL_NAME,
				/* JM END */
				DECODE(P.CREATION_STATUS_CODE, 1, 'In Progress' , 2,'Approval In Progress',
				3, 'Rejected', 4,'Approved', 5,'Submitted', 6, 'Post-Submission
				Approval',
				7, 'Post-Submission Rejection', 8, 'Recalled') "CREATION_STATUS_CODE"
				,
				P.TITLE,
				P.SPONSOR_CODE,
				S.SPONSOR_NAME,
				P.CURRENT_ACCOUNT_NUMBER,
				/* JM 5-27-2011 added program announcement number and title per 4.4.2
				*/
				P.PROGRAM_ANNOUNCEMENT_NUMBER,
				P.PROGRAM_ANNOUNCEMENT_TITLE,
				/* JM END */
				P.TEMPLATE_FLAG,
				P.STATUS_CODE
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$EPS_PROPOSAL" alias="P" />
				<TABLE name="OSP$PROPOSAL_TYPE" alias="PT" />
				<TABLE name="OSP$EPS_PROP_INVESTIGATORS" alias="PI" />
				<TABLE name="OSP$EPS_PROP_INVESTIGATORS" alias="I" />
				<TABLE name="OSP$UNIT" alias="U" />
				<TABLE name="OSP$SPONSOR" alias="S" />
				<!-- JM 11-25-2013 added person table for OSP Administrator -->
				<TABLE name="OSP$PERSON" alias="R" />
				<!-- JM END -->
			</FROM>
			<!-- JM 5-27-2011 added condition to exclude DELETES per 4.4.2; 11-26-2013 
				added OSP Administrator; 7-21-2015 removed DELETE filter and moved to REMCLAUSE -->
			<WHERE
				join="P.SPONSOR_CODE = S.SPONSOR_CODE(+)
                            AND P.PROPOSAL_TYPE_CODE = PT.PROPOSAL_TYPE_CODE
                            AND P.PROPOSAL_NUMBER = PI.PROPOSAL_NUMBER(+)
                            AND P.PROPOSAL_NUMBER = I.PROPOSAL_NUMBER(+)
                            AND P.OWNED_BY_UNIT = U.UNIT_NUMBER (+)
            				AND U.OSP_ADMINISTRATOR = R.PERSON_ID(+)
                            AND ( PI.PRINCIPAL_INVESTIGATOR_FLAG (+) = 'Y' )
                         ">

			</WHERE>
		</QUERY>
		<CRITERIA>
			<FIELD name="P.PROPOSAL_NUMBER" datatype="string" size="110" />

			<FIELD name="P.PROPOSAL_TYPE_CODE" datatype="string" size="140" />

			<FIELD name="P.CREATION_STATUS_CODE" datatype="number" size="110" />

			<FIELD name="P.DEADLINE_DATE" datatype="date" size="100" />
			<!-- Fix for selecting records with CO-PIs bug id #2304 -->
			<!-- <FIELD name="PI.PERSON_NAME" size="100" join="(P.PROPOSAL_NUMBER 
				= PI.PROPOSAL_NUMBER)"/> -->
			<FIELD name="I.PERSON_NAME" size="100"
				join="(P.PROPOSAL_NUMBER = I.PROPOSAL_NUMBER)" />


			<FIELD name="U.UNIT_NUMBER" datatype="string" size="100" />

			<!-- Commented for COEUSDEV-225 : institutional proposal searching is 
				wicked slow <FIELD name="UNIT.UNIT_NAME" datatype="string" size="100" table="OSP$UNIT 
				UNIT, OSP$EPS_PROP_UNITS PU" join="(P.OWNED_BY_UNIT = UNIT.UNIT_NUMBER) AND 
				(P.PROPOSAL_NUMBER = PU.PROPOSAL_NUMBER)"/> -->
			<FIELD name="U.UNIT_NAME" datatype="string" size="100" />

			<!-- JM 11-25-2013 added OSP Administrator -->
			<FIELD name="OSP$PERSON.FULL_NAME" alias="PERSON.FULL_NAME"
				datatype="string" table="OSP$PERSON PERSON" join="U.OSP_ADMINISTRATOR = PERSON.PERSON_ID"
				webSize="15" size="100" />
			<!-- JM END -->

			<FIELD name="P.TITLE" datatype="string" size="100" />

			<FIELD name="P.SPONSOR_CODE" datatype="string" size="100" />

			<FIELD name="SPONSOR.SPONSOR_NAME" datatype="string" size="100"
				table="OSP$SPONSOR SPONSOR" join="P.SPONSOR_CODE = SPONSOR.SPONSOR_CODE" />

			<FIELD name="P.CURRENT_ACCOUNT_NUMBER" datatype="string" size="100" />

			<!-- JM 5-27-2011 added program announcement number and title per 4.4.2 -->
			<FIELD name="P.PROGRAM_ANNOUNCEMENT_NUMBER" datatype="string"
				size="100" />
			<FIELD name="P.PROGRAM_ANNOUNCEMENT_TITLE" datatype="string"
				size="140" />
			<!-- JM END -->
			<!-- <FIELD name="P.TEMPLATE_FLAG" datatype="string" size="0"/> -->

		</CRITERIA>
		<PROCEDURE name="dw_get_inst_props_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="PROPOSAL_NUMBER" size="110">Proposal Number</FIELD>
			<FIELD name="TYPE" size="100">Type</FIELD>
			<FIELD name="CREATION_STATUS_CODE" size="100">Status</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="UNIT_NUMBER" size="100">Lead Unit</FIELD>
			<FIELD name="UNIT_NAME" size="100">Lead Unit Name</FIELD>
			<!-- JM 11-25-2013 added OSP Administrator name -->
			<FIELD name="FULL_NAME" size="150">OSP Administrator</FIELD>
			<!-- JM END -->
			<FIELD name="PERSON_NAME" size="100">PI</FIELD>
			<FIELD name="DEADLINE_DATE" size="100" datatype="date">Deadline Date</FIELD>
			<FIELD name="SPONSOR_CODE" size="100">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_NAME" size="100">Sponsor Name</FIELD>
			<!-- JM 5-27-2011 added program announcement number and title per 4.4.2 -->
			<FIELD name="PROGRAM_ANNOUNCEMENT_NUMBER" size="100">Opp ID</FIELD>
			<FIELD name="PROGRAM_ANNOUNCEMENT_TITLE" size="100">Program Title</FIELD>
			<!-- JM END -->
			<FIELD name="PROPOSAL_NUMBER" visible="false">proposal_number</FIELD>
			<FIELD name="PROPOSAL_TYPE_CODE" visible="false">proposal_type_code</FIELD>
			<FIELD name="STATUS_CODE" visible="false">status_code</FIELD>
			<FIELD name="CREATION_CODE" visible="false">creation_status_code</FIELD>
			<FIELD name="TITLE" visible="false">title</FIELD>
			<FIELD name="UNIT_NUMBER" visible="false">owned_by_unit</FIELD>
			<FIELD name="UNIT_NAME" visible="false">unit_name</FIELD>
			<FIELD name="PERSON_NAME" visible="false">person_name</FIELD>
			<FIELD name="DEADLINE_DATE" visible="false" datatype="date">deadline_date</FIELD>
			<FIELD name="SPONSOR_CODE" visible="false">sponsor_code</FIELD>
			<FIELD name="SPONSOR_NAME" visible="false">sponsor_name</FIELD>
			<FIELD name="TEMPLATE_FLAG" visible="false">template_flag</FIELD>
			<FIELD name="IS_PROP_IN_HIERARCHY" visible="false">inHierarchy_flag</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			AND P.PROPOSAL_NUMBER IN (
			SELECT DISTINCT PROP.PROPOSAL_NUMBER
			FROM OSP$EPS_PROPOSAL PROP
			WHERE ( PROP.PROPOSAL_NUMBER IN (
			SELECT DISTINCT OSP$EPS_PROP_USER_ROLES.PROPOSAL_NUMBER
			FROM OSP$EPS_PROP_USER_ROLES
			WHERE UPPER(OSP$EPS_PROP_USER_ROLES.USER_ID) = 'COEUS'
			AND OSP$EPS_PROP_USER_ROLES.ROLE_ID IN ()
			union
			select distinct osp$eps_prop_investigators.proposal_number
			from osp$eps_prop_investigators, osp$person
			where osp$eps_prop_investigators.person_id = osp$person.person_id
			and upper(osp$person.user_name) = upper('COEUS'))
			OR (FN_USER_HAS_ANY_OSP_RIGHT('COEUS') = 1 AND
			PROP.CREATION_STATUS_CODE IN (2, 4, 5))
			OR (FN_USER_HAS_RIGHT('COEUS', PROP.OWNED_BY_UNIT, 'VIEW_ANY_PROPOSAL')
			= 1)
			OR (FN_USER_HAS_RIGHT('COEUS', PROP.OWNED_BY_UNIT,
			'MODIFY_ANY_PROPOSAL') = 1) )
			)

			/* JM 7-21-2015 added DELETE filter based on permissions */
			AND (
			((upper(P.TITLE) != 'DELETE'
			AND P.TITLE IS NOT NULL
			AND NOT REGEXP_LIKE(upper(P.TITLE),'\s*DELETE\s+')
			AND upper(P.TITLE) NOT LIKE '%DELETE')
			)
			OR (
			FN_USER_HAS_ROLE('COEUS',1) > 0
			)
			)
			/* END */
			ORDER BY P.PROPOSAL_NUMBER DESC

		</REMCLAUSE>
	</PROPOSALDEVSEARCH>

	<!--<PROPOSALDEVSEARCHNOROLES display="Development Proposal Search" retrievelimit="500"> -->
	<PROPOSALDEVSEARCHNOROLES display="Development Proposal Search"
		retrievelimit="PROPOSAL_DEV_RETRIEVE_LIMIT" primarykeycolumn="P.PROPOSAL_NUMBER">

		<QUERY>
			<!--P.CREATION_STATUS_CODE, --><!--AS STATUS -->
			<SELECTQUERY>
				SELECT
				DISTINCT P.PROPOSAL_NUMBER,
				P.PROPOSAL_TYPE_CODE,
				PT.DESCRIPTION TYPE,
				P.CREATION_STATUS_CODE AS CREATION_CODE,
				to_char(P.DEADLINE_DATE,'USER_DEFINED_DATE_FORMAT') "DEADLINE_DATE",
				PI.PERSON_NAME,
				U.UNIT_NUMBER,
				U.UNIT_NAME,
				/* JM 11-25-2013 added OSP Administrator; removed 4-30-2014
				R.FULL_NAME,
				*/
				DECODE(P.CREATION_STATUS_CODE, 1, 'In Progress' , 2,'Approval In Progress',
				3, 'Rejected', 4,'Approved', 5,'Submitted', 6, 'Post-Submission
				Approval',
				7, 'Post-Submission Rejection', 8, 'Recalled') "CREATION_STATUS_CODE"
				,
				P.TITLE,
				P.SPONSOR_CODE,
				S.SPONSOR_NAME,
				P.CURRENT_ACCOUNT_NUMBER,
				/* JM 5-27-2011 added program announcement number and title per 4.4.2
				*/
				P.PROGRAM_ANNOUNCEMENT_NUMBER,
				P.PROGRAM_ANNOUNCEMENT_TITLE,
				P.TEMPLATE_FLAG,
				P.STATUS_CODE
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$EPS_PROPOSAL" alias="P" />
				<TABLE name="OSP$PROPOSAL_TYPE" alias="PT" />
				<TABLE name="OSP$EPS_PROP_INVESTIGATORS" alias="PI" />
				<TABLE name="OSP$EPS_PROP_INVESTIGATORS" alias="I" />
				<TABLE name="OSP$UNIT" alias="U" />
				<TABLE name="OSP$SPONSOR" alias="S" />
				<!-- JM 11-25-2013 added person table for OSP Administrator; removed 
					4-30-2014 <TABLE name="OSP$PERSON" alias="R"/> -->
			</FROM>
			<!-- JM 5-27-2011 added condition to exclude DELETES per 4.4.2; 11-26-2013 
				added OSP Administrator; 4-30-2014 removed; 7-21-2015 removed DELETE filter 
				and moved to REMCLAUSE -->
			<WHERE
				join="P.SPONSOR_CODE = S.SPONSOR_CODE(+)
                            AND P.PROPOSAL_TYPE_CODE = PT.PROPOSAL_TYPE_CODE
                            AND P.PROPOSAL_NUMBER = PI.PROPOSAL_NUMBER(+)
                            AND P.PROPOSAL_NUMBER = I.PROPOSAL_NUMBER(+)
                            AND P.OWNED_BY_UNIT = U.UNIT_NUMBER (+)
                            /* AND U.OSP_ADMINISTRATOR = R.PERSON_ID(+) */
                            AND ( PI.PRINCIPAL_INVESTIGATOR_FLAG = 'Y'
                                    OR PI.PRINCIPAL_INVESTIGATOR_FLAG IS NULL )
                         ">

			</WHERE>
		</QUERY>
		<CRITERIA>
			<FIELD name="P.PROPOSAL_NUMBER" datatype="string" webSize="10"
				size="100" />

			<FIELD name="P.PROPOSAL_TYPE_CODE" datatype="string" webSize="10"
				size="140" />

			<FIELD name="P.CREATION_STATUS_CODE" datatype="number" webSize="10"
				size="110" />

			<FIELD name="P.DEADLINE_DATE" datatype="date" webSize="10"
				size="100" />

			<!-- <FIELD name="PI.PERSON_NAME" webSize="20" size="100" join="(P.PROPOSAL_NUMBER 
				= PI.PROPOSAL_NUMBER)"/> -->
			<FIELD name="I.PERSON_NAME" webSize="20" size="100"
				join="(P.PROPOSAL_NUMBER = I.PROPOSAL_NUMBER)" />

			<FIELD name="U.UNIT_NUMBER" datatype="string" webSize="10"
				size="100" />

			<FIELD name="OSP$UNIT.UNIT_NAME" datatype="string" webSize="15"
				size="100" table="OSP$UNIT UNIT, OSP$EPS_PROP_UNITS PU"
				join="(P.OWNED_BY_UNIT = UNIT.UNIT_NUMBER) AND
                    (P.PROPOSAL_NUMBER = PU.PROPOSAL_NUMBER)" />

			<!-- JM 11-25-2013 added OSP Administrator; removed 4-30-2014 <FIELD name="R.FULL_NAME" 
				datatype="string" webSize="15" size="100" join="U.OSP_ADMINISTRATOR = R.PERSON_ID"/> -->

			<FIELD name="P.TITLE" datatype="string" webSize="10" size="100" />

			<FIELD name="P.SPONSOR_CODE" datatype="string" webSize="10"
				size="100" />

			<FIELD name="SPONSOR.SPONSOR_NAME" datatype="string" webSize="15"
				size="100" table="OSP$SPONSOR SPONSOR" join="P.SPONSOR_CODE = SPONSOR.SPONSOR_CODE" />

			<FIELD name="P.CURRENT_ACCOUNT_NUMBER" datatype="string"
				webSize="10" size="100" />

			<!-- JM 5-27-2011 added program announcement number and title per 4.4.2 -->
			<FIELD name="P.PROGRAM_ANNOUNCEMENT_NUMBER" datatype="string"
				websize="10" size="100" />
			<FIELD name="P.PROGRAM_ANNOUNCEMENT_TITLE" datatype="string"
				websize="15" size="140" />
			<!-- JM END -->
			<!-- <FIELD name="P.TEMPLATE_FLAG" datatype="string" webSize="10" size="0"/> -->

		</CRITERIA>
		<PROCEDURE name="dw_get_inst_props_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="PROPOSAL_NUMBER" size="100">Proposal Number</FIELD>
			<FIELD name="TYPE" size="100">Type</FIELD>
			<FIELD name="CREATION_STATUS_CODE" size="100">Status</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="UNIT_NUMBER" size="100">Lead Unit</FIELD>
			<FIELD name="UNIT_NAME" size="100">Lead Unit Name</FIELD>
			<!-- JM 11-25-2013 added OSP Administrator name; removed 4-30-2014 <FIELD 
				name="FULL_NAME" size="150">OSP Administrator</FIELD> -->
			<FIELD name="PERSON_NAME" size="100">PI</FIELD>
			<FIELD name="DEADLINE_DATE" size="100" datatype="date">Deadline Date</FIELD>
			<FIELD name="SPONSOR_CODE" size="100">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_NAME" size="100">Sponsor Name</FIELD>
			<!-- JM 5-27-2011 added program announcement number and title per 4.4.2 -->
			<FIELD name="PROGRAM_ANNOUNCEMENT_NUMBER" size="100">Opp ID</FIELD>
			<FIELD name="PROGRAM_ANNOUNCEMENT_TITLE" size="100">Program Title</FIELD>
			<!-- JM END -->
			<FIELD name="PROPOSAL_NUMBER" visible="false">proposal_number</FIELD>
			<FIELD name="PROPOSAL_TYPE_CODE" visible="false">proposal_type_code</FIELD>
			<FIELD name="STATUS_CODE" visible="false">status_code</FIELD>
			<FIELD name="CREATION_CODE" visible="false">creation_status_code</FIELD>
			<FIELD name="TITLE" visible="false">title</FIELD>
			<FIELD name="UNIT_NUMBER" visible="false">owned_by_unit</FIELD>
			<FIELD name="UNIT_NAME" visible="false">unit_name</FIELD>
			<FIELD name="PERSON_NAME" visible="false">person_name</FIELD>
			<FIELD name="DEADLINE_DATE" visible="false">deadline_date</FIELD>
			<FIELD name="SPONSOR_CODE" visible="false">sponsor_code</FIELD>
			<FIELD name="SPONSOR_NAME" visible="false">sponsor_name</FIELD>
			<FIELD name="TEMPLATE_FLAG" visible="false">template_flag</FIELD>
		</DISPLAY>
		<!--<REMCLAUSE> AND P.PROPOSAL_NUMBER IN ( SELECT DISTINCT PROP.PROPOSAL_NUMBER 
			FROM OSP$EPS_PROPOSAL PROP WHERE ( PROP.PROPOSAL_NUMBER IN ( SELECT DISTINCT 
			OSP$EPS_PROP_USER_ROLES.PROPOSAL_NUMBER FROM OSP$EPS_PROP_USER_ROLES WHERE 
			UPPER(OSP$EPS_PROP_USER_ROLES.USER_ID) = 'COEUS' AND OSP$EPS_PROP_USER_ROLES.ROLE_ID 
			IN () ) OR ( FN_USER_HAS_ANY_OSP_RIGHT('COEUS') = 1 AND PROP.CREATION_STATUS_CODE 
			IN (2, 4, 5) ) ) ) </REMCLAUSE> -->
		<REMCLAUSE>
			/* JM 7-21-2015 added DELETE filter based on permissions */
			AND (
			((upper(P.TITLE) != 'DELETE'
			AND P.TITLE IS NOT NULL
			AND NOT REGEXP_LIKE(upper(P.TITLE),'\s*DELETE\s+')
			AND upper(P.TITLE) NOT LIKE '%DELETE')
			)
			OR (
			FN_USER_HAS_ROLE('COEUS',1) > 0
			)
			)
			/* END */
			ORDER BY P.PROPOSAL_NUMBER DESC

		</REMCLAUSE>
	</PROPOSALDEVSEARCHNOROLES>

	<!--<SUBMISSIONSEARCH display="Protocol Submission Search" retrievelimit="500"> -->
	<!--COEUSQA-2580_Change menu item name from "Protocol" to "IRB Protocol" 
		on Maintain menu in Premium_Start -->
	<SUBMISSIONSEARCH display="IRB Protocol Submission Search"
		retrievelimit="PROTOCOL_SUBMISSION_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">
		<!--COEUSQA-2580_Change menu item name from "Protocol" to "IRB Protocol" 
			on Maintain menu in Premium_End -->
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT
				OSP$PROTOCOL.PROTOCOL_NUMBER,
				OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE,
				OSP$SUBMISSION_STATUS.DESCRIPTION as SUBMISSION_STATUS_DESCRIPTION,
				to_char(OSP$PROTOCOL_SUBMISSION.SUBMISSION_DATE,'USER_DEFINED_DATE_FORMAT')
				"SUBMISSION_DATE",
				OSP$PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE,
				OSP$SUBMISSION_TYPE.DESCRIPTION as SUBMISSION_TYPE_DESCRIPTION,
				OSP$PROTOCOL_SUBMISSION.SUBMISSION_TYPE_QUAL_CODE,
				OSP$SUBMISSION_TYPE_QUALIFIER.DESCRIPTION as QUALIFIER_DESCRIPTION,
				OSP$PROTOCOL_SUBMISSION.PROTOCOL_REVIEW_TYPE_CODE,
				OSP$PROTOCOL_REVIEW_TYPE.DESCRIPTION as REVIEW_DESCRIPTION,
				OSP$PROTOCOL_SUBMISSION.COMMITTEE_ID,
				OSP$PROTOCOL_SUBMISSION.SCHEDULE_ID,
				to_char(OSP$COMM_SCHEDULE.SCHEDULED_DATE,'USER_DEFINED_DATE_FORMAT')
				"SCHEDULED_DATE",
				OSP$PROTOCOL.TITLE,
				OSP$PROTOCOL_INVESTIGATORS.PERSON_NAME,
				OSP$PROTOCOL_SUBMISSION.SUBMISSION_NUMBER,
				OSP$PROTOCOL_SUBMISSION.SEQUENCE_NUMBER
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$PROTOCOL_SUBMISSION" />
				<TABLE name="OSP$SUBMISSION_STATUS" />
				<TABLE name="OSP$SUBMISSION_TYPE" />
				<TABLE name="OSP$SUBMISSION_TYPE_QUALIFIER" />
				<TABLE name="OSP$PROTOCOL_REVIEW_TYPE" />
				<TABLE name="OSP$COMM_SCHEDULE" />
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_INVESTIGATORS" />
			</FROM>
			<!-- The default joins should be specified in this section. -->

			<WHERE
				join="OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE = OSP$SUBMISSION_STATUS.SUBMISSION_STATUS_CODE
		AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE = OSP$SUBMISSION_TYPE.SUBMISSION_TYPE_CODE
		AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_TYPE_QUAL_CODE = OSP$SUBMISSION_TYPE_QUALIFIER.SUBMISSION_TYPE_QUAL_CODE(+)
		AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_REVIEW_TYPE_CODE = OSP$PROTOCOL_REVIEW_TYPE.PROTOCOL_REVIEW_TYPE_CODE
		AND OSP$PROTOCOL_SUBMISSION.SCHEDULE_ID = OSP$COMM_SCHEDULE.SCHEDULE_ID(+)
		AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER
		AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER
		AND  OSP$PROTOCOL.SEQUENCE_NUMBER IN
		(SELECT MAX(P.SEQUENCE_NUMBER)
		  FROM OSP$PROTOCOL P
		  WHERE P.PROTOCOL_NUMBER = OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER )
 	    AND OSP$PROTOCOL_INVESTIGATORS.SEQUENCE_NUMBER IN
		( SELECT MAX(PI.SEQUENCE_NUMBER)
		  FROM OSP$PROTOCOL_INVESTIGATORS PI
		  WHERE PI.PROTOCOL_NUMBER = OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER)
		AND OSP$PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y'" />

			<!-- The value of the join attribute should be appended in the where clause 
				while forming a query. -->
		</QUERY>
		<ORDERBY>OSP$PROTOCOL.PROTOCOL_NUMBER desc,
			OSP$PROTOCOL_SUBMISSION.SUBMISSION_NUMBER desc</ORDERBY>
		<!-- All the elements for the search criteria should be specified in this 
			section. There should be a corresponding entry for COLUMN element for each 
			FIELD element in this section. All the fields specified here will be displayed 
			as search criterias in the CoeusSearch.java file. Mainly two types of data 
			types can come here. 1) string 2) number If we want to use any specific alias 
			and joins, it should be specified as attributes of each FIELD element. -->
		<CRITERIA>
			<FIELD name="OSP$PROTOCOL.PROTOCOL_NUMBER" datatype="string"
				size="100" />
			<FIELD name="OSP$PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE"
				datatype="number" size="150" />
			<FIELD name="OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE"
				datatype="number" size="150" />
			<FIELD name="OSP$PROTOCOL_SUBMISSION.SUBMISSION_TYPE_QUAL_CODE"
				datatype="number" size="170" />
			<FIELD name="SUBMISSION_DATE" datatype="date" size="150" />
			<FIELD name="OSP$PROTOCOL.TITLE" datatype="string" size="100" />
			<FIELD name="OSP$PROTOCOL_SUBMISSION.PROTOCOL_REVIEW_TYPE_CODE"
				datatype="number" size="100" />
			<FIELD name="SCHEDULED_DATE" datatype="date" size="100" />
			<FIELD name="OSP$PROTOCOL_SUBMISSION.COMMITTEE_ID" datatype="string"
				size="100" />
			<!--<FIELD name="OSP$PROTOCOL_SUBMISSION.SCHEDULE_ID" datatype="string" 
				size="100"/> -->
			<!--<FIELD name="OSP$PROTOCOL_INVESTIGATORS.PERSON_NAME" datatype="string" 
				size="100"/> -->
		</CRITERIA>
		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="GET_SUBMISSION_LIST_FOR_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol No</FIELD>
			<FIELD name="SUBMISSION_STATUS_DESCRIPTION" size="125">Submission
				Status</FIELD>
			<FIELD name="SUBMISSION_DATE" size="125" datatype="date">Submission
				Date</FIELD>
			<FIELD name="SUBMISSION_TYPE_DESCRIPTION" size="125">Submission Type</FIELD>
			<FIELD name="QUALIFIER_DESCRIPTION" size="175">Submission Type
				Qualifier</FIELD>
			<FIELD name="REVIEW_DESCRIPTION" size="100">Review Type</FIELD>
			<FIELD name="COMMITTEE_ID" size="100">Committee Id</FIELD>
			<FIELD name="SCHEDULE_ID" size="100" datatype="number">Schedule Id</FIELD>
			<FIELD name="SCHEDULED_DATE" size="100" datatype="date">Schedule Date</FIELD>
			<FIELD name="TITLE" size="100">Protocol Title</FIELD>
			<FIELD name="PERSON_NAME" size="100">PI</FIELD>
			<FIELD name="SUBMISSION_NUMBER">Submission Number</FIELD>
			<FIELD name="SEQUENCE_NUMBER" datatype="number">SEQUENCE_NUMBER</FIELD>
		</DISPLAY>
		<CUSTOMSEARCH displaylimit="0">
			<CUSTOMQUERY display="Query1"
				queryString="OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER LIKE '%235%'" />
			<CUSTOMQUERY display="Query2"
				queryString="OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE LIKE '%20%' AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER LIKE '%23%'" />
			<CUSTOMQUERY display="Query3"
				queryString="OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER LIKE '%24%'" />
			<CUSTOMQUERY display="Query4"
				queryString="OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE = 100 AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER LIKE '%24%'" />
			<CUSTOMQUERY display="Query5"
				queryString="OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER LIKE '%25%'" />
			<CUSTOMQUERY display="Query6"
				queryString="OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE LIKE '%2%' AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER LIKE '%25%'" />
			<CUSTOMQUERY display="Query7"
				queryString="OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER LIKE '%26%'" />
			<CUSTOMQUERY display="Query8"
				queryString="OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE LIKE '%2%' AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER LIKE '%26%'" />
			<CUSTOMQUERY display="Query9"
				queryString="OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER LIKE '%27%'" />
			<CUSTOMQUERY display="Query10"
				queryString="OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER LIKE'%64%' AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE LIKE '%2%' " />
			<CUSTOMQUERY display="Query11"
				queryString="OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER LIKE '%28%'" />
			<CUSTOMQUERY display="Query12"
				queryString="OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE LIKE '%2%' AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER LIKE '%28%'" />
		</CUSTOMSEARCH>

	</SUBMISSIONSEARCH>

	<!-- AND P.PROPOSAL_NUMBER IN ( SELECT DISTINCT OSP$EPS_PROP_USER_ROLES.PROPOSAL_NUMBER 
		FROM OSP$EPS_PROP_USER_ROLES WHERE ( UPPER(OSP$EPS_PROP_USER_ROLES.USER_ID) 
		= 'COEUS' AND OSP$EPS_PROP_USER_ROLES.ROLE_ID IN () ) OR ( FN_USER_HAS_ANY_OSP_RIGHT('COEUS') 
		= 1 AND P.CREATION_STATUS_CODE IN (2, 4, 5) ) ) -->

	<!--<SCIENCECODESEARCH display="Select Science Code" retrievelimit="500"> -->
	<SCIENCECODESEARCH display="Select Science Code"
		retrievelimit="SCIENCE_CODE_RETRIEVE_LIMIT" primarykeycolumn="SCIENCE_CODE">
		<QUERY>
			<SELECTQUERY>
				SELECT
				SCIENCE_CODE,
				DESCRIPTION
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$SCIENCE_CODE" />
			</FROM>
		</QUERY>
		<CRITERIA>
			<FIELD name="SCIENCE_CODE" datatype="string" size="150" />

			<FIELD name="DESCRIPTION" datatype="string" size="430" />
		</CRITERIA>

		<PROCEDURE name="GET_PROP_SCIENCECODE_FOR_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="SCIENCE_CODE" size="150">Code</FIELD>
			<FIELD name="DESCRIPTION" size="430">Description</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			ORDER BY OSP$SCIENCE_CODE.SCIENCE_CODE
		</REMCLAUSE>
	</SCIENCECODESEARCH>





	<!--<SCHEDULESEARCH display="Schedule Search" retrievelimit="500"> -->
	<SCHEDULESEARCH display="Schedule Search" retrievelimit="SCHEDULE_RETRIEVE_LIMIT"
		primarykeycolumn="S.SCHEDULE_ID">
		<QUERY>
			<SELECTQUERY>
				SELECT DISTINCT
				S.SCHEDULE_ID,
				to_char(S.SCHEDULED_DATE,'USER_DEFINED_DATE_FORMAT') "SCHEDULED_DATE",
				S.PLACE,
				S.SCHEDULE_STATUS_CODE,
				SS.DESCRIPTION STATUS,
				to_char(S.PROTOCOL_SUB_DEADLINE,'USER_DEFINED_DATE_FORMAT') "PROTOCOL_SUB_DEADLINE",
				C.COMMITTEE_ID,
				C.COMMITTEE_NAME,
				C.COMMITTEE_TYPE_CODE,
				CT.DESCRIPTION TYPE
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$COMM_SCHEDULE" alias="S" />
				<TABLE name="OSP$COMMITTEE" alias="C" />
				<TABLE name="OSP$COMMITTEE_TYPE" alias="CT" />
				<TABLE name="OSP$SCHEDULE_STATUS" alias="SS" />
			</FROM>

			<WHERE
				join="(  S.COMMITTEE_ID = C.COMMITTEE_ID
                        AND C.COMMITTEE_TYPE_CODE = CT.COMMITTEE_TYPE_CODE
                        AND SS.SCHEDULE_STATUS_CODE = S.SCHEDULE_STATUS_CODE )">
			</WHERE>
		</QUERY>
		<CRITERIA>
			<FIELD name="S.SCHEDULED_DATE" datatype="date" size="100" />

			<FIELD name="S.PLACE" datatype="string" size="100" />

			<FIELD name="S.SCHEDULE_STATUS_CODE" datatype="number" size="100" />

			<FIELD name="SUBMISSION.PROTOCOL_NUMBER" datatype="string"
				size="100" table="OSP$PROTOCOL_SUBMISSION SUBMISSION" join="(S.SCHEDULE_ID = SUBMISSION.SCHEDULE_ID)" />

			<FIELD name="S.PROTOCOL_SUB_DEADLINE" datatype="date" size="100" />

			<FIELD name="C.COMMITTEE_ID" datatype="string" size="100" />

			<FIELD name="C.COMMITTEE_NAME" datatype="string" size="100" />

			<FIELD name="C.COMMITTEE_TYPE_CODE" datatype="string" size="100" />

			<FIELD name="S.SCHEDULE_ID" datatype="string" size="100" />
		</CRITERIA>
		<PROCEDURE name="get_schedule_list_for_query">
			<!-- <PROCEDURE name="dw_get_schedule_list_for_query"> -->
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="SCHEDULE_ID" size="100" datatype="number">Schedule Id</FIELD>
			<FIELD name="SCHEDULED_DATE" size="100" datatype="date">Scheduled Date</FIELD>
			<FIELD name="PLACE" size="180">Place</FIELD>
			<FIELD name="STATUS" size="100">Schedule Status</FIELD>
			<FIELD name="PROTOCOL_SUB_DEADLINE" size="138" datatype="date">Submission
				Deadline</FIELD>
			<FIELD name="COMMITTEE_ID" size="150">Committee Id</FIELD>
			<FIELD name="COMMITTEE_NAME" size="240">Committee Name</FIELD>
			<!--<FIELD name="TYPE" size="100">Committee Type</FIELD> -->
			<FIELD name="COMMITTEE_TYPE_CODE" visible="false" size="240" />
		</DISPLAY>
		<CUSTOMSEARCH displaylimit="0">
			<CUSTOMQUERY display="Query1" queryString="S.SCHEDULE_ID LIKE '%23%'" />
			<CUSTOMQUERY display="Query2" queryString="S.SCHEDULE_ID LIKE '35'" />
			<CUSTOMQUERY display="Query3" queryString="S.SCHEDULE_ID LIKE '%25%'" />
			<CUSTOMQUERY display="Query4"
				queryString="S.SCHEDULE_STATUS_CODE = 1 AND S.SCHEDULE_ID LIKE '%24%'" />
			<CUSTOMQUERY display="Query5" queryString="S.SCHEDULE_ID LIKE '%28%'" />
			<CUSTOMQUERY display="Query6"
				queryString="S.SCHEDULE_ID = 100 AND S.MAX_PROTOCOLS LIKE '%10%'" />
			<CUSTOMQUERY display="Query7" queryString="S.MAX_PROTOCOLS = 20" />
			<CUSTOMQUERY display="Query8"
				queryString="S.SCHEDULE_STATUS_CODE = 1 AND S.SCHEDULE_ID LIKE '%30%'" />
			<CUSTOMQUERY display="Query9" queryString="S.SCHEDULE_ID LIKE '%27%'" />
			<CUSTOMQUERY display="Query10"
				queryString="S.SCHEDULE_STATUS_CODE = 2 AND S.SCHEDULE_ID LIKE '%36%'" />
			<CUSTOMQUERY display="Query11" queryString="S.SCHEDULE_ID LIKE '%28%'" />
			<CUSTOMQUERY display="Query12"
				queryString="S.SCHEDULE_STATUS_CODE = 2 AND S.SCHEDULE_ID LIKE '%28%'" />
		</CUSTOMSEARCH>
		<REMCLAUSE>
			ORDER BY to_number(S.SCHEDULE_ID)
		</REMCLAUSE>
	</SCHEDULESEARCH>

	<PROPOSALLOGSEARCH display="Proposal Log"
		retrievelimit="PROPOSAL_LOG_RETRIEVE_LIMIT" primarykeycolumn="PROPOSAL_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT
				P.PROPOSAL_NUMBER,
				P.TITLE,
				P.PROPOSAL_TYPE_CODE,
				PT.DESCRIPTION,
				P.PI_NAME,
				P.LEAD_UNIT,
				PU.UNIT_NAME,
				P.SPONSOR_CODE,
				P.SPONSOR_NAME,
				P.LOG_STATUS as LOG_STATUS_CODE,
				DECODE(P.LOG_STATUS, 'S', 'Submitted' , 'M','Merged',
				'P', 'Pending', 'T','Temporary', 'V','Void') "LOG_STATUS",
				P.COMMENTS,
				to_char(P.DEADLINE_DATE, 'USER_DEFINED_DATE_FORMAT') "DEADLINE_DATE",
				to_char(P.CREATE_TIMESTAMP, 'USER_DEFINED_DATE_FORMAT')
				"CREATE_TIMESTAMP",
				to_char(P.UPDATE_TIMESTAMP, 'USER_DEFINED_TIMESTAMP_FORMAT') as UPDATE_TIMESTAMP,
				P.CREATE_USER,
				P.UPDATE_USER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$PROPOSAL_LOG" alias="P" />
				<TABLE name="OSP$PROPOSAL_TYPE" alias="PT" />
				<TABLE name="OSP$UNIT" alias="PU" />
				<TABLE name="OSP$TEMP_PROPOSAL_MERGE_LOG" alias="TMPL" />
			</FROM>
			<WHERE
				join="P.PROPOSAL_TYPE_CODE = PT.PROPOSAL_TYPE_CODE and P.LEAD_UNIT = PU.UNIT_NUMBER (+) and
                        P.PROPOSAL_NUMBER = TMPL.TEMP_PROPOSAL_NUMBER(+)">
			</WHERE>
		</QUERY>
		<CRITERIA>
			<FIELD name="P.PROPOSAL_NUMBER" datatype="string" size="110" />

			<FIELD name="P.TITLE" datatype="string" size="100" />

			<FIELD name="P.LOG_STATUS" datatype="string" size="100" />

			<FIELD name="P.PROPOSAL_TYPE_CODE" datatype="string" size="140" />

			<FIELD name="P.PI_NAME" datatype="string" size="140" />

			<FIELD name="P.LEAD_UNIT" datatype="string" size="100" />

			<FIELD name="PU.UNIT_NAME" datatype="string" size="100" />

			<FIELD name="P.SPONSOR_CODE" datatype="string" size="100" />

			<FIELD name="P.SPONSOR_NAME" datatype="string" size="100" />

			<FIELD name="P.DEADLINE_DATE" datatype="string" size="120" />

			<FIELD name="P.CREATE_TIMESTAMP" datatype="string" size="120" />

			<FIELD name="P.UPDATE_TIMESTAMP" datatype="string" size="120" />

			<FIELD name="P.CREATE_USER" datatype="string" size="100" />

			<FIELD name="P.UPDATE_USER" datatype="string" size="100" />

			<FIELD name="TMPL.PROPOSAL_NUMBER" datatype="string" webSize="15"
				size="100" />
		</CRITERIA>

		<PROCEDURE name="GET_PROP_LOG_LIST_FOR_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="PROPOSAL_NUMBER" size="100">Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="DESCRIPTION" size="130">Proposal Type Code</FIELD>
			<FIELD name="PI_NAME" size="110">PI Name</FIELD>
			<FIELD name="LEAD_UNIT" size="100">Unit</FIELD>
			<FIELD name="UNIT_NAME" size="100">Unit Name</FIELD>
			<FIELD name="SPONSOR_CODE" size="110">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_NAME" size="100">Sponsor Name</FIELD>
			<FIELD name="LOG_STATUS" size="100">Status</FIELD>
			<FIELD name="COMMENTS" size="100">Comments</FIELD>
			<FIELD name="DEADLINE_DATE" size="120" datatype="date">Deadline Date</FIELD>
			<FIELD name="CREATE_TIMESTAMP" size="120" datatype="date">Create Date</FIELD>
			<FIELD name="UPDATE_TIMESTAMP" size="120" datatype="date"
				format="m/d/yy h:mm">Update Timestamp</FIELD>
			<FIELD name="CREATE_USER" size="100">Create User</FIELD>
			<FIELD name="UPDATE_USER" size="100">Update User</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			ORDER BY P.PROPOSAL_NUMBER DESC
		</REMCLAUSE>
	</PROPOSALLOGSEARCH>

	<!-- JIRA COEUSDEV-545 - START -->
	<PROPREVIEWLOGSEARCH display="Proposal Log"
		retrievelimit="PROPOSAL_LOG_RETRIEVE_LIMIT" primarykeycolumn="PROPOSAL_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT
				P.PROPOSAL_NUMBER,
				P.TITLE,
				P.PROPOSAL_TYPE_CODE,
				PT.DESCRIPTION,
				P.PI_NAME,
				P.LEAD_UNIT,
				PU.UNIT_NAME,
				P.SPONSOR_CODE,
				P.SPONSOR_NAME,
				P.LOG_STATUS as LOG_STATUS_CODE,
				DECODE(P.LOG_STATUS, 'S', 'Submitted' , 'M','Merged',
				'P', 'Pending', 'T','Temporary', 'V','Void') "LOG_STATUS",
				P.COMMENTS,
				to_char(P.DEADLINE_DATE, 'USER_DEFINED_DATE_FORMAT') "DEADLINE_DATE",
				to_char(P.CREATE_TIMESTAMP, 'USER_DEFINED_DATE_FORMAT')
				"CREATE_TIMESTAMP",
				to_char(P.UPDATE_TIMESTAMP, 'USER_DEFINED_TIMESTAMP_FORMAT') as UPDATE_TIMESTAMP,
				P.CREATE_USER,
				P.UPDATE_USER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$PROPOSAL_LOG" alias="P" />
				<TABLE name="OSP$PROPOSAL_TYPE" alias="PT" />
				<TABLE name="OSP$UNIT" alias="PU" />
			</FROM>
			<WHERE
				join="P.PROPOSAL_NUMBER NOT LIKE 'D%' and P.PROPOSAL_NUMBER NOT LIKE 'T%' and P.PROPOSAL_TYPE_CODE = PT.PROPOSAL_TYPE_CODE and P.LEAD_UNIT = PU.UNIT_NUMBER (+) ">
			</WHERE>
		</QUERY>
		<CRITERIA>
			<FIELD name="P.PROPOSAL_NUMBER" datatype="string" size="110" />

			<FIELD name="P.TITLE" datatype="string" size="100" />

			<FIELD name="P.LOG_STATUS" datatype="string" size="100" />

			<FIELD name="P.PROPOSAL_TYPE_CODE" datatype="string" size="140" />

			<FIELD name="P.PI_NAME" datatype="string" size="140" />

			<FIELD name="P.LEAD_UNIT" datatype="string" size="100" />

			<FIELD name="PU.UNIT_NAME" datatype="string" size="100" />

			<FIELD name="P.SPONSOR_CODE" datatype="string" size="100" />

			<FIELD name="P.SPONSOR_NAME" datatype="string" size="100" />

			<FIELD name="P.DEADLINE_DATE" datatype="string" size="120" />

			<FIELD name="P.CREATE_TIMESTAMP" datatype="string" size="120" />

			<FIELD name="P.UPDATE_TIMESTAMP" datatype="string" size="120" />

			<FIELD name="P.CREATE_USER" datatype="string" size="100" />

			<FIELD name="P.UPDATE_USER" datatype="string" size="100" />
		</CRITERIA>

		<PROCEDURE name="GET_PROP_LOG_LIST_FOR_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="PROPOSAL_NUMBER" size="100">Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="DESCRIPTION" size="130">Proposal Type Code</FIELD>
			<FIELD name="PI_NAME" size="110">PI Name</FIELD>
			<FIELD name="LEAD_UNIT" size="100">Unit</FIELD>
			<FIELD name="UNIT_NAME" size="100">Unit Name</FIELD>
			<FIELD name="SPONSOR_CODE" size="110">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_NAME" size="100">Sponsor Name</FIELD>
			<FIELD name="LOG_STATUS" size="100">Status</FIELD>
			<FIELD name="COMMENTS" size="100">Comments</FIELD>
			<FIELD name="DEADLINE_DATE" size="120" datatype="date">Deadline Date</FIELD>
			<FIELD name="CREATE_TIMESTAMP" size="120" datatype="date">Create Date</FIELD>
			<FIELD name="UPDATE_TIMESTAMP" size="120" datatype="date"
				format="m/d/yy h:mm">Update Timestamp</FIELD>
			<FIELD name="CREATE_USER" size="100">Create User</FIELD>
			<FIELD name="UPDATE_USER" size="100">Update User</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			ORDER BY P.PROPOSAL_NUMBER DESC
		</REMCLAUSE>
	</PROPREVIEWLOGSEARCH>
	<!-- JIRA COEUSDEV-545 - END -->

	<!--<NEGOTIATION_LITE_SEARCH display="Negotiation Search" retrievelimit="500"> -->
	<NEGOTIATION_LITE_SEARCH display="Negotiation Search"
		retrievelimit="NEGOTIATION_RETRIEVE_LIMIT" primarykeycolumn="N.NEGOTIATION_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT * FROM(
				SELECT DISTINCT
				N.NEGOTIATION_NUMBER,
				N.NEGOTIATOR_ID,
				OP.FULL_NAME AS NEGOTIATOR,
				to_char(N.START_DATE,'USER_DEFINED_DATE_FORMAT') "START_DATE",
				N.NEGOTIATION_STATUS_CODE,
				NS.DESCRIPTION AS STATUS_DESCRIPTION,
				PN.PROPOSAL_TYPE_CODE,
				PT.DESCRIPTION AS PROPOSAL_DESCRIPTION,
				PN.TITLE,
				PN.PI_ID,
				PN.PI_NAME,
				PN.UNIT_NUMBER,
				PN.SPONSOR_CODE ,
				OU.UNIT_NAME,
				OS.SPONSOR_NAME

			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$NEGOTIATIONS" alias="N" />
				<TABLE name="OSP$PROP_NEGOT_VIEW" alias="PN" />
				<TABLE name="OSP$UNIT" alias="OU" />
				<TABLE name="OSP$SPONSOR" alias="OS" />
				<TABLE name="OSP$PERSON" alias="OP" />
				<TABLE name="OSP$NEGOTIATION_STATUS" alias="NS" />
				<TABLE name="OSP$PROPOSAL_TYPE" alias="PT" />

			</FROM>

			<WHERE
				join="N.NEGOTIATION_NUMBER = PN.PROPOSAL_NUMBER
                AND PN.SPONSOR_CODE = OS.SPONSOR_CODE (+)
	        AND PN.UNIT_NUMBER = OU.UNIT_NUMBER
                AND N.NEGOTIATION_STATUS_CODE = NS.NEGOTIATION_STATUS_CODE
                AND PN.PROPOSAL_TYPE_CODE = PT.PROPOSAL_TYPE_CODE
                AND N.NEGOTIATOR_ID = OP.PERSON_ID">
			</WHERE>
		</QUERY>
		<CRITERIA>
			<FIELD name="N.NEGOTIATION_NUMBER" datatype="string" size="110" />

			<FIELD name="OP.FULL_NAME" datatype="string" size="110" />

			<FIELD name="PN.PI_NAME" datatype="string" size="140" />

			<FIELD name="N.NEGOTIATION_STATUS_CODE" datatype="string" size="100" />

			<FIELD name="PN.SPONSOR_CODE" datatype="string" size="100" />

			<FIELD name="PN.PROPOSAL_TYPE_CODE" datatype="string" size="120" />

			<FIELD name="OS.SPONSOR_NAME" datatype="string" size="100" />

			<FIELD name="PN.UNIT_NUMBER" datatype="string" size="100" />

			<FIELD name="PN.TITLE" datatype="string" size="100" />

			<FIELD name="OU.UNIT_NAME" datatype="string" size="100" />

		</CRITERIA>

		<PROCEDURE name="GET_NEGOTIATION_LIST_FORQUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>

			<FIELD name="NEGOTIATION_NUMBER" size="120">Proposal Number</FIELD>

			<FIELD name="PI_NAME" size="110">Pi Name</FIELD>

			<FIELD name="SPONSOR_CODE" size="110">Sponsor Code</FIELD>

			<FIELD name="SPONSOR_NAME" size="100">Sponsor Name</FIELD>

			<FIELD name="TITLE" size="100">Title</FIELD>

			<FIELD name="NEGOTIATOR" size="130">Negotiator</FIELD>

			<FIELD name="START_DATE" size="250" datatype="date">Negotiation Start
				Date</FIELD>

			<FIELD name="NEGOTIATION_STATUS" size="250">Negotiation Status</FIELD>

			<FIELD name="PROPOSAL_TYPE" size="200">Proposal Type</FIELD>

			<FIELD name="LEAD_UNIT_NUMBER" size="180">Lead Unit Number</FIELD>

			<FIELD name="LEAD_UNIT_NAME" size="200">Lead Unit Name</FIELD>
		</DISPLAY>
		<!--Added for COEUSQA-3276 : New Lite My Negotiations Search query does 
			not return results for Investigators - start -->
		<REMCLAUSE>
			ORDER BY N.NEGOTIATION_NUMBER DESC)
			WHERE ((FN_USER_HAS_RIGHT_IN_MODULE('COEUS', UNIT_NUMBER, 5) > 0)
			OR NEGOTIATOR_ID IN (select PERSON_ID from OSP$PERSON where
			UPPER(USER_NAME)= 'COEUS')
			OR PI_ID IN (select PERSON_ID from OSP$PERSON where UPPER(USER_NAME) =
			'COEUS'))
		</REMCLAUSE>
		<!--Added for COEUSQA-3276 : New Lite My Negotiations Search query does 
			not return results for Investigators - end -->
	</NEGOTIATION_LITE_SEARCH>



	<NEGOTIATION_LIST_SEARCH display="Pending Protocols"
		retrievelimit="NEGOTIATION_RETRIEVE_LIMIT" primarykeycolumn="OSP$NEGOTIATIONS.NEGOTIATION_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT DISTINCT N.NEGOTIATION_NUMBER,
				NS.DESCRIPTION,
				decode(length(trim(pn.sponsor_code)), 6, CONCAT(PN.SPONSOR_CODE,CONCAT(':',OS.SPONSOR_NAME)),'') AS
				SPONSOR,
				N.NEGOTIATOR_ID,
				OP.FULL_NAME,
				PN.TITLE,
				PN.PI_ID,
				PN.PI_NAME,
				PN.UNIT_NUMBER AS LEAD_UNIT_NUMBER,
				to_char(N.START_DATE,'USER_DEFINED_DATE_FORMAT') "START_DATE",
				to_char(N.CLOSED_DATE,'USER_DEFINED_DATE_FORMAT') "CLOSED_DATE"
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$NEGOTIATIONS" alias="N" />
				<TABLE name="OSP$PROP_NEGOT_VIEW" alias="PN" />
				<TABLE name="OSP$UNIT" alias="OU" />
				<TABLE name="OSP$SPONSOR" alias="OS" />
				<TABLE name="OSP$PERSON" alias="OP" />
				<TABLE name="OSP$NEGOTIATION_STATUS" alias="NS" />
				<TABLE name="OSP$PROPOSAL_TYPE" alias="PT" />
			</FROM>

			<WHERE
				join="N.NEGOTIATION_NUMBER = PN.PROPOSAL_NUMBER
                AND PN.SPONSOR_CODE = OS.SPONSOR_CODE (+)
	        AND PN.UNIT_NUMBER = OU.UNIT_NUMBER
                AND N.NEGOTIATION_STATUS_CODE = NS.NEGOTIATION_STATUS_CODE
                AND PN.PROPOSAL_TYPE_CODE = PT.PROPOSAL_TYPE_CODE
                AND N.NEGOTIATOR_ID = OP.PERSON_ID">
			</WHERE>
		</QUERY>

		<PROCEDURE name="GET_NEGOTIATION_LIST_FORQUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="NEGOTIATION_NUMBER" size="100">Number</FIELD>

			<FIELD name="DESCRIPTION" size="15">Status</FIELD>

			<FIELD name="SPONSOR" size="100">Sponsor</FIELD>

			<FIELD name="FULL_NAME" size="20">Negotiator</FIELD>

			<FIELD name="TITLE" size="100">Title</FIELD>

			<FIELD name="PI_NAME" size="100">Investigator Name</FIELD>

			<FIELD name="LEAD_UNIT_NUMBER" size="10">Lead Unit</FIELD>

			<FIELD name="START_DATE" size="15">Start Date</FIELD>

			<FIELD name="CLOSED_DATE" size="10">Closed Date</FIELD>

		</DISPLAY>
		<REMCLAUSE>
			AND (N.NEGOTIATOR_ID = 'COEUS_PERSON' OR PN.PI_ID = 'COEUS_PERSON')
			ORDER BY N.NEGOTIATION_NUMBER DESC
		</REMCLAUSE>

	</NEGOTIATION_LIST_SEARCH>


	<!-- COEUSQA-119 : View negotiations in lite - NEGOTIATION_ACTIVE_SEARCH 
		- Start -->

	<NEGOTIATION_ACTIVE_SEARCH display="Active Negotiations"
		retrievelimit="NEGOTIATION_RETRIEVE_LIMIT" primarykeycolumn="OSP$NEGOTIATIONS.NEGOTIATION_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT DISTINCT N.NEGOTIATION_NUMBER,
				NS.DESCRIPTION,
				decode(length(trim(pn.sponsor_code)), 6, CONCAT(PN.SPONSOR_CODE,CONCAT(':',OS.SPONSOR_NAME)),'') AS
				SPONSOR,
				N.NEGOTIATOR_ID,
				OP.FULL_NAME,
				PN.TITLE,
				PN.PI_ID,
				PN.PI_NAME,
				PN.UNIT_NUMBER AS LEAD_UNIT_NUMBER,
				to_char(N.START_DATE,'USER_DEFINED_DATE_FORMAT') "START_DATE",
				to_char(N.CLOSED_DATE,'USER_DEFINED_DATE_FORMAT') "CLOSED_DATE"
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$NEGOTIATIONS" alias="N" />
				<TABLE name="OSP$PROP_NEGOT_VIEW" alias="PN" />
				<TABLE name="OSP$UNIT" alias="OU" />
				<TABLE name="OSP$SPONSOR" alias="OS" />
				<TABLE name="OSP$PERSON" alias="OP" />
				<TABLE name="OSP$NEGOTIATION_STATUS" alias="NS" />
				<TABLE name="OSP$PROPOSAL_TYPE" alias="PT" />
			</FROM>

			<WHERE
				join="N.NEGOTIATION_NUMBER = PN.PROPOSAL_NUMBER
                AND PN.SPONSOR_CODE = OS.SPONSOR_CODE (+)
	        AND PN.UNIT_NUMBER = OU.UNIT_NUMBER
                AND N.NEGOTIATION_STATUS_CODE = NS.NEGOTIATION_STATUS_CODE
                AND PN.PROPOSAL_TYPE_CODE = PT.PROPOSAL_TYPE_CODE
                AND N.NEGOTIATOR_ID = OP.PERSON_ID">
			</WHERE>
		</QUERY>

		<PROCEDURE name="GET_NEGOTIATION_LIST_FORQUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="NEGOTIATION_NUMBER" size="100">Number</FIELD>

			<FIELD name="DESCRIPTION" size="15">Status</FIELD>

			<FIELD name="SPONSOR" size="100">Sponsor</FIELD>

			<FIELD name="FULL_NAME" size="20">Negotiator</FIELD>

			<FIELD name="TITLE" size="100">Title</FIELD>

			<FIELD name="PI_NAME" size="100">Investigator Name</FIELD>

			<FIELD name="LEAD_UNIT_NUMBER" size="10">Lead Unit</FIELD>

			<FIELD name="START_DATE" size="15">Start Date</FIELD>

			<FIELD name="CLOSED_DATE" size="10">Closed Date</FIELD>

		</DISPLAY>
		<REMCLAUSE>
			AND (N.NEGOTIATOR_ID = 'COEUS_PERSON' OR PN.PI_ID = 'COEUS_PERSON')
			AND (NS.NEGOTIATION_STATUS_CODE in(NEGOTIATION_SEARCH_ACTIVE_STATUS))
			ORDER BY N.NEGOTIATION_NUMBER DESC
		</REMCLAUSE>

	</NEGOTIATION_ACTIVE_SEARCH>

	<!--COEUSQA-119 - NEGOTIATION_ACTIVE_SEARCH - End -->

	<!--<NEGOTIATIONSEARCH display="Negotiation Search" retrievelimit="500"> -->
	<NEGOTIATIONSEARCH display="Negotiation Search"
		retrievelimit="NEGOTIATION_RETRIEVE_LIMIT" primarykeycolumn="N.NEGOTIATION_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT DISTINCT
				N.NEGOTIATION_NUMBER,
				N.NEGOTIATOR_ID,
				OP.FULL_NAME,
				to_char(N.START_DATE,'USER_DEFINED_DATE_FORMAT') "START_DATE",
				N.NEGOTIATION_STATUS_CODE,
				NS.DESCRIPTION AS STATUS_DESCRIPTION,
				PN.PROPOSAL_TYPE_CODE,
				PT.DESCRIPTION AS PROPOSAL_DESCRIPTION,
				PN.TITLE,
				PN.PI_ID,
				PN.PI_NAME,
				PN.UNIT_NUMBER,
				PN.SPONSOR_CODE ,
				OU.UNIT_NAME,
				OS.SPONSOR_NAME
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$NEGOTIATIONS" alias="N" />
				<TABLE name="OSP$PROP_NEGOT_VIEW" alias="PN" />
				<TABLE name="OSP$UNIT" alias="OU" />
				<TABLE name="OSP$SPONSOR" alias="OS" />
				<TABLE name="OSP$PERSON" alias="OP" />
				<TABLE name="OSP$NEGOTIATION_STATUS" alias="NS" />
				<TABLE name="OSP$PROPOSAL_TYPE" alias="PT" />

			</FROM>

			<WHERE
				join="N.NEGOTIATION_NUMBER = PN.PROPOSAL_NUMBER
                AND PN.SPONSOR_CODE = OS.SPONSOR_CODE (+)
	        AND PN.UNIT_NUMBER = OU.UNIT_NUMBER
                AND N.NEGOTIATION_STATUS_CODE = NS.NEGOTIATION_STATUS_CODE
                AND PN.PROPOSAL_TYPE_CODE = PT.PROPOSAL_TYPE_CODE
                AND N.NEGOTIATOR_ID = OP.PERSON_ID">
			</WHERE>
		</QUERY>
		<CRITERIA>
			<FIELD name="N.NEGOTIATION_NUMBER" datatype="string" size="110" />

			<FIELD name="PN.PI_NAME" datatype="string" size="140" />

			<FIELD name="PN.SPONSOR_CODE" datatype="string" size="100" />

			<FIELD name="OS.SPONSOR_NAME" datatype="string" size="100" />

			<FIELD name="PN.TITLE" datatype="string" size="100" />

			<FIELD name="OSP$NEGOTIATION_ACTIVITIES.FOLLOWUP_DATE"
				datatype="date" size="100" table="OSP$NEGOTIATION_ACTIVITIES"
				join="(N.NEGOTIATION_NUMBER = OSP$NEGOTIATION_ACTIVITIES.NEGOTIATION_NUMBER) " />

			<FIELD name="OP.FULL_NAME" datatype="string" size="140" />

			<FIELD name="N.START_DATE" datatype="date" size="100" />

			<FIELD name="N.NEGOTIATION_STATUS_CODE" datatype="string" size="100" />

			<FIELD name="PN.PROPOSAL_TYPE_CODE" datatype="string" size="120" />

			<FIELD name="PN.UNIT_NUMBER" datatype="string" size="100" />

			<FIELD name="OU.UNIT_NAME" datatype="string" size="100" />
		</CRITERIA>

		<PROCEDURE name="GET_NEGOTIATION_LIST_FORQUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>

			<FIELD name="NEGOTIATION_NUMBER" size="120">Proposal Number</FIELD>

			<FIELD name="PI_NAME" size="110">PI Name</FIELD>

			<FIELD name="SPONSOR_CODE" size="110">Sponsor Code</FIELD>

			<FIELD name="SPONSOR_NAME" size="100">Sponsor Name</FIELD>

			<FIELD name="TITLE" size="100">Title</FIELD>

			<FIELD name="FULL_NAME" size="130">Negotiator</FIELD>

			<FIELD name="START_DATE" size="250" datatype="date">Negotiation Start
				Date</FIELD>

			<FIELD name="STATUS_DESCRIPTION" size="250">Negotiation Status</FIELD>

			<FIELD name="PROPOSAL_DESCRIPTION" size="200">Proposal Type</FIELD>

			<FIELD name="UNIT_NUMBER" size="180">Lead Unit Number</FIELD>

			<FIELD name="UNIT_NAME" size="200">Lead Unit Name</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			AND (FN_USER_HAS_RIGHT_IN_MODULE('COEUS', OU.UNIT_NUMBER, 5) > 0)
			ORDER BY N.NEGOTIATION_NUMBER DESC
		</REMCLAUSE>
	</NEGOTIATIONSEARCH>


	<!-- Added for the Bug Fix:1729 to show the search from OSP$PROP_NEGOT_VIEW 
		table start -->
	<NEWNEGOTIATIONSEARCH display="Proposal Search"
		retrievelimit="NEGOTIATION_RETRIEVE_LIMIT" primarykeycolumn="PN.PROPOSAL_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT DISTINCT
				PN.PROPOSAL_NUMBER,
				PN.PI_NAME AS PI_NAME,
				PN.SPONSOR_CODE,
				OS.SPONSOR_NAME,
				PN.TITLE,
				PN.PROPOSAL_TYPE_CODE,
				PT.DESCRIPTION AS PROPOSAL_TYPE_DESC,
				PN.UNIT_NUMBER AS LEAD_UNIT,
				OU.UNIT_NAME AS LEAD_UNIT_NAME,
				PN.PRIME_SPONSOR_CODE,
				SP.SPONSOR_NAME PRIME_SPONSOR_NAME

			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$PROP_NEGOT_VIEW" alias="PN" />
				<TABLE name="OSP$UNIT" alias="OU" />
				<TABLE name="OSP$SPONSOR" alias="OS" />
				<TABLE name="OSP$SPONSOR" alias="SP" />
				<TABLE name="OSP$PROPOSAL_TYPE" alias="PT" />

			</FROM>

			<WHERE
				join="PN.SPONSOR_CODE = OS.SPONSOR_CODE (+)
            	AND PN.PRIME_SPONSOR_CODE = SP.SPONSOR_CODE (+)
	        AND PN.UNIT_NUMBER = OU.UNIT_NUMBER
                AND PN.PROPOSAL_TYPE_CODE = PT.PROPOSAL_TYPE_CODE">

			</WHERE>
		</QUERY>
		<CRITERIA>
			<FIELD name="PN.PROPOSAL_NUMBER" datatype="string" size="110" />

			<FIELD name="PN.PI_NAME" datatype="string" size="140" />

			<FIELD name="PN.SPONSOR_CODE" datatype="string" size="100" />

			<FIELD name="OS.SPONSOR_NAME" datatype="string" size="100" />

			<FIELD name="PN.TITLE" datatype="string" size="100" />

			<FIELD name="PN.PROPOSAL_TYPE_CODE" datatype="string" size="120" />

			<FIELD name="PN.UNIT_NUMBER" datatype="string" size="100" />

			<FIELD name="OU.UNIT_NAME" datatype="string" size="100" />

		</CRITERIA>

		<PROCEDURE name="GET_NEGOTIATION_LIST_FORQUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>

			<FIELD name="PROPOSAL_NUMBER" size="120">Proposal Number</FIELD>

			<FIELD name="PI_NAME" size="110">PI Name</FIELD>

			<FIELD name="SPONSOR_CODE" size="110">Sponsor Code</FIELD>

			<FIELD name="SPONSOR_NAME" size="100">Sponsor Name</FIELD>

			<FIELD name="TITLE" size="100">Title</FIELD>

			<FIELD name="PROPOSAL_TYPE_DESC" size="200">Proposal Type</FIELD>

			<FIELD name="UNIT_NUMBER" size="180">Lead Unit Number</FIELD>

			<FIELD name="UNIT_NAME" size="200">Lead Unit Name</FIELD>

			<FIELD name="PRIME_SPONSOR_CODE" visible="false" size="150">Prime
				Sponsor Code</FIELD>

			<FIELD name="PRIME_SPONSOR_NAME" visible="false" size="200">Prime
				Sponsor Name</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			AND (FN_USER_HAS_RIGHT_IN_MODULE('COEUS', OU.UNIT_NUMBER, 5) > 0)
			ORDER BY PN.PROPOSAL_NUMBER DESC
		</REMCLAUSE>
	</NEWNEGOTIATIONSEARCH>
	<!--End Bug Fix:1729 -->

	<!--< Reporting Requirements display="Reporting Query" retrievelimit="1000"> -->
	<REPORTINGQUERYSEARCH display="Reporting Query"
		retrievelimit="REPORTING_RETRIEVE_LIMIT" primarykeycolumn="AR.MIT_AWARD_NUMBER">
		<QUERY>
			<!-- JM 4-30-2014 cleaned up query to optimize -->
			<SELECTQUERY>
				SELECT /*+ RULE */
				AR.MIT_AWARD_NUMBER,
				AI.PERSON_NAME,
				AR.REPORT_NUMBER,
				RC.REPORT_CLASS_CODE,
				RC.DESCRIPTION AS REPORT_CLASS_DESCRIPTION,
				AR.REPORT_CODE,
				R.DESCRIPTION AS REPORT_DESCRIPTION,
				AR.FREQUENCY_CODE,
				F.DESCRIPTION AS FREQUENCY_DESCRIPTION,
				AR.FREQUENCY_BASE_CODE,
				FB.DESCRIPTION AS FREQ_BASE_DESCRIPTION,
				AR.OSP_DISTRIBUTION_CODE,
				D.DESCRIPTION,
				to_char(AR.FREQUENCY_BASE,'DD-MON-YYYY') as FREQUENCY_BASE,
				to_char(AR.DUE_DATE,'DD-MON-YYYY') as DUE_DATE,
				AR.OVERDUE_COUNTER,
				AR.REPORT_STATUS_CODE,
				RS.DESCRIPTION AS REPORT_STATUS_DESCRIPTION,
				to_char(AR.ACTIVITY_DATE,'DD-MON-YYYY') as ACTIVITY_DATE,
				AR.COMMENTS,
				AR.PERSON_ID,
				P.FULL_NAME,
				to_char(AR.UPDATE_TIMESTAMP,'DD-MON-YYYY HH:MI:SS PM') as UPDATE_TIMESTAMP,
				AR.UPDATE_USER,
				S.SPONSOR_CODE,
				S.SPONSOR_NAME,
				A.SPONSOR_AWARD_NUMBER,
				AH.TITLE,
				U.UNIT_NUMBER,
				U.UNIT_NAME
			</SELECTQUERY>
			<!-- JM END -->
			<FROM>
				<TABLE name="OSP$REPORT_CLASS" alias="RC" />
				<TABLE name="OSP$REPORT" alias="R" />
				<TABLE name="OSP$FREQUENCY" alias="F" />
				<TABLE name="OSP$FREQUENCY_BASE" alias="FB" />
				<TABLE name="OSP$DISTRIBUTION" alias="D" />
				<TABLE name="OSP$AWARD_REPORTING" alias="AR" />
				<TABLE name="OSP$AWARD_INVESTIGATORS" alias="AI" />
				<TABLE name="OSP$AWARD_UNITS" alias="AU" />
				<TABLE name="OSP$UNIT" alias="U" />
				<TABLE name="OSP$AWARD" alias="A" />
				<TABLE name="OSP$AWARD_HEADER" alias="AH" />
				<TABLE name="OSP$REPORT_STATUS" alias="RS" />
				<TABLE name="OSP$PERSON" alias="P" />
				<TABLE name="OSP$SPONSOR" alias="S" />

			</FROM>
			<!-- JM 4-30-2014 cleaned up query to optimize -->
			<WHERE
				join="AR.MIT_AWARD_NUMBER = AI.MIT_AWARD_NUMBER
                AND AI.SEQUENCE_NUMBER = (SELECT MAX(INV2.SEQUENCE_NUMBER) FROM
                OSP$AWARD_INVESTIGATORS INV2 WHERE AI.MIT_AWARD_NUMBER = INV2.MIT_AWARD_NUMBER)
                AND AI.PRINCIPAL_INVESTIGATOR_FLAG = 'Y'
                AND AR.REPORT_CLASS_CODE = RC.REPORT_CLASS_CODE
                AND AR.REPORT_CODE = R.REPORT_CODE
	        AND AR.FREQUENCY_CODE = F.FREQUENCY_CODE
                AND AR.FREQUENCY_BASE_CODE = FB.FREQUENCY_BASE_CODE
                AND AR.OSP_DISTRIBUTION_CODE = D.OSP_DISTRIBUTION_CODE
                AND AR.REPORT_STATUS_CODE = RS.REPORT_STATUS_CODE
                AND AR.PERSON_ID  = P.PERSON_ID (+)
                AND AR.MIT_AWARD_NUMBER = A.MIT_AWARD_NUMBER
                AND A.SEQUENCE_NUMBER = (SELECT MAX(AWARD2.SEQUENCE_NUMBER) FROM
                 OSP$AWARD AWARD2 WHERE A.MIT_AWARD_NUMBER = AWARD2.MIT_AWARD_NUMBER)
                AND A.MIT_AWARD_NUMBER = AH.MIT_AWARD_NUMBER
                AND A.SEQUENCE_NUMBER = AH.SEQUENCE_NUMBER
                AND A.SPONSOR_CODE = S.SPONSOR_CODE
                AND AR.MIT_AWARD_NUMBER = AU.MIT_AWARD_NUMBER
                AND AU.SEQUENCE_NUMBER = (SELECT MAX(AU2.SEQUENCE_NUMBER) FROM
                OSP$AWARD_UNITS AU2 WHERE AU.MIT_AWARD_NUMBER = AU2.MIT_AWARD_NUMBER)
                AND AU.LEAD_UNIT_FLAG = 'Y'
                AND AU.UNIT_NUMBER = U.UNIT_NUMBER">
			</WHERE>
			<!-- JM END -->

		</QUERY>

		<CRITERIA>
			<FIELD name="AR.MIT_AWARD_NUMBER" datatype="string" size="110" />

			<FIELD name="AI.PERSON_NAME" datatype="string" size="140" />

			<FIELD name="AR.DUE_DATE" datatype="date" size="100" />

			<FIELD name="RC.REPORT_CLASS_CODE" datatype="string" size="140" />

			<FIELD name="AR.REPORT_CODE" datatype="string" size="100" />

			<FIELD name="AR.REPORT_STATUS_CODE" datatype="string" size="130" />

			<FIELD name="U.UNIT_NUMBER" datatype="string" size="250" />

			<FIELD name="U.UNIT_NAME" datatype="string" size="250" />

			<FIELD name="AR.OVERDUE_COUNTER" datatype="string" size="200" />

			<FIELD name="AR.FREQUENCY_CODE" datatype="string" size="180" />

			<FIELD name="AR.FREQUENCY_BASE_CODE" datatype="string" size="180" />

			<FIELD name="AR.ACTIVITY_DATE" datatype="date" size="200" />

			<FIELD name="AR.COMMENTS" datatype="string" size="200" />

			<FIELD name="P.FULL_NAME" datatype="string" size="200" />

			<FIELD name="S.SPONSOR_CODE" datatype="string" size="200" />

			<FIELD name="S.SPONSOR_NAME" datatype="string" size="200" />

			<FIELD name="A.SPONSOR_AWARD_NUMBER" datatype="string" size="200" />
		</CRITERIA>

		<PROCEDURE name="get_rep_req_list_from_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>

			<FIELD name="MIT_AWARD_NUMBER" size="120">Award Number</FIELD>

			<FIELD name="PERSON_NAME" size="110">Investigator</FIELD>

			<FIELD name="DUE_DATE" size="110" datatype="date">Due Date</FIELD>

			<FIELD name="REPORT_CLASS_DESCRIPTION" size="100">Report Class</FIELD>

			<FIELD name="REPORT_DESCRIPTION" size="100">Report Type</FIELD>

			<FIELD name="REPORT_STATUS_DESCRIPTION" size="130">Status</FIELD>

			<FIELD name="UNIT_NUMBER" size="250">Unit No.</FIELD>

			<FIELD name="UNIT_NAME" size="250">Unit Name</FIELD>

			<FIELD name="OVERDUE_COUNTER" size="200" datatype="number">Over Due #</FIELD>

			<FIELD name="FREQUENCY_DESCRIPTION" size="180">Frequency</FIELD>

			<FIELD name="FREQ_BASE_DESCRIPTION" size="180">Frequency Base</FIELD>

			<FIELD name="ACTIVITY_DATE" size="200" datatype="date">Activity Date</FIELD>

			<FIELD name="COMMENTS" size="200">Comments</FIELD>

			<FIELD name="FULL_NAME" size="200">Person</FIELD>

			<FIELD name="SPONSOR_CODE" size="200">Sponsor Code</FIELD>

			<FIELD name="SPONSOR_NAME" size="200">Sponsor Name</FIELD>

			<FIELD name="SPONSOR_AWARD_NUMBER" size="200">Sponsor Award Number</FIELD>

			<FIELD name="FREQUENCY_BASE" size="200" datatype="date">Base Date</FIELD>

			<FIELD name="CONTACT_TYPE_DESCRIPTION" size="200">Contact</FIELD>

			<FIELD name="DESCRIPTION" size="200">Copy OSP</FIELD>
			<!-- Commented for case#2268 -->
			<!--<FIELD name="NUMBER_OF_COPIES" size="200">Copies</FIELD> -->

			<FIELD name="TITLE" size="200">Title</FIELD>
			<!-- Commented for case#2268 - start -->
			<!-- <FIELD name="L_NAME" size="200">L_NAME</FIELD> <FIELD name="ORGN" 
				size="200">ORGN</FIELD> <FIELD name="SUFIX" size="200">SUFIX</FIELD> <FIELD 
				name="PFIX" size="200">PFIX</FIELD> <FIELD name="FNAME" size="200">FNAME</FIELD> 
				<FIELD name="MNAME" size="200">MNAME</FIELD> <FIELD name="ROLODEX_ID" size="200">RolodexId</FIELD> -->
			<!-- Commented for case#2268 - end -->
		</DISPLAY>
	</REPORTINGQUERYSEARCH>

	<!--< Subcontract display="Subcontract Query" retrievelimit="500"> -->
	<SUBCONTRACTSEARCH display="Subcontract Search"
		retrievelimit="SUBCONTRACT_RETRIEVE_LIMIT" primarykeycolumn="SU.SUBCONTRACT_CODE">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				SU.SUBCONTRACT_CODE,
				SU.SEQUENCE_NUMBER,
				SU.SUBCONTRACTOR_ID,
				O.ORGANIZATION_NAME,
				to_char(SU.START_DATE,'USER_DEFINED_DATE_FORMAT') START_DATE,
				to_char(SU.END_DATE , 'USER_DEFINED_DATE_FORMAT') END_DATE,
				OSP$AWARD_TYPE.DESCRIPTION AWARD_DESCRIPTION,
				SU.PURCHASE_ORDER_NUM,
				SU.TITLE,
				OSP$SUBCONTRACT_STATUS.DESCRIPTION SUBCONTRACT_STATUS_DESCRIPTION,
				SU.ACCOUNT_NUMBER,
				SU.VENDOR_NUMBER,
				PS.FULL_NAME,
				SU.REQUISITIONER_UNIT,
				U.UNIT_NAME,
				SU.ARCHIVE_LOCATION,
				to_char(SU.CLOSEOUT_DATE,'USER_DEFINED_DATE_FORMAT') CLOSEOUT_DATE,
				DECODE(SA.ANTICIPATED_AMOUNT, NULL,'0.00',
				trim(TO_CHAR(SA.ANTICIPATED_AMOUNT,'999,999,999,999.00'))) as
				ANTICIPATED_AMOUNT,
				DECODE(SA.OBLIGATED_AMOUNT,NULL,'0.00', trim(TO_CHAR(SA.OBLIGATED_AMOUNT,'999,999,999,999.00')))as
				OBLIGATED_AMOUNT,
				DECODE(SAR.AMOUNT_RELEASED,NULL,'0.00', trim(TO_CHAR(SAR.AMOUNT_RELEASED,'999,999,999,999.00')))as
				AMOUNT_RELEASED,
				DECODE((NVL(SA.OBLIGATED_AMOUNT,0)-NVL(SAR.AMOUNT_RELEASED,0)),0,'0.00',
				trim(TO_CHAR((NVL(SA.OBLIGATED_AMOUNT,0)-NVL(SAR.AMOUNT_RELEASED,0)),'999,999,999,999.00')))
				as AVILABLE_AMT,
				DECODE((TRIM(R.LAST_NAME || ' , ' || R.FIRST_NAME || ' ' || R.MIDDLE_NAME)),',','
				',(TRIM(R.LAST_NAME || ' , ' || R.FIRST_NAME || ' ' ||
				R.MIDDLE_NAME))) AS SITE_INVESTIGATOR
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$SUBCONTRACT" alias="SU" />
				<TABLE name="OSP$PERSON" alias="PS" />
				<TABLE name="OSP$UNIT" alias="U" />
				<TABLE name="OSP$ROLODEX" alias="R" />
				<TABLE name="OSP$SUBCONTRACT_AMOUNT_INFO" alias="SA" />
				<!-- Commented for Case # 2430 -->
				<!--<TABLE name="OSP$SUBCONTRACT_AMT_RELEASED" alias="SAR"/> -->
				<!-- Added for Case # 2430 - Start -->
				<TABLE
					name="( SELECT SUBCONTRACT_CODE , SUM(AMOUNT_RELEASED) AS AMOUNT_RELEASED
                                   FROM OSP$SUBCONTRACT_AMT_RELEASED
                                   GROUP BY SUBCONTRACT_CODE )"
					alias="SAR" />
				<!-- Added for Case # 2430 - End -->
				<TABLE name="OSP$ORGANIZATION" alias="O" />

				<TABLE name="OSP$SUBCONTRACT_STATUS" />
				<TABLE name="OSP$AWARD_TYPE" />

			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="SU.SEQUENCE_NUMBER IN  (SELECT MAX(A.SEQUENCE_NUMBER)
                            FROM OSP$SUBCONTRACT A
			  WHERE A.SUBCONTRACT_CODE = SU.SUBCONTRACT_CODE )
                            AND ( SU.SUBCONTRACTOR_ID = O.ORGANIZATION_ID(+))
                            AND ( SU.REQUISITIONER_ID = PS.PERSON_ID(+))
                            AND ( SU.REQUISITIONER_UNIT = U.UNIT_NUMBER(+))
                            and SU.SUBCONTRACT_CODE = SA.SUBCONTRACT_CODE(+)
                            and ( SA.LINE_NUMBER  IN
                            ( SELECT MAX(B.LINE_NUMBER)
     			    FROM OSP$SUBCONTRACT_AMOUNT_INFO B
     			  WHERE B.SUBCONTRACT_CODE = SA.SUBCONTRACT_CODE)
                            OR  NOT EXISTS  ( SELECT LINE_NUMBER
     			        FROM OSP$SUBCONTRACT_AMOUNT_INFO C
     			        WHERE C.SUBCONTRACT_CODE = SA.SUBCONTRACT_CODE))
                            AND SU.SUBCONTRACT_CODE = SAR.SUBCONTRACT_CODE(+)
                            AND SU.STATUS_CODE = OSP$SUBCONTRACT_STATUS.SUBCONTRACT_STATUS_CODE
                            AND SU.SUBAWARD_TYPE_CODE = OSP$AWARD_TYPE.AWARD_TYPE_CODE">
				<!-- Commented for Case # 2430 - Start -->
				<!-- and ( SAR.LINE_NUMBER IN ( SELECT MAX(D.LINE_NUMBER) FROM OSP$SUBCONTRACT_AMT_RELEASED 
					D WHERE D.SUBCONTRACT_CODE = SAR.SUBCONTRACT_CODE) OR NOT EXISTS ( SELECT 
					LINE_NUMBER FROM OSP$SUBCONTRACT_AMT_RELEASED E WHERE E.SUBCONTRACT_CODE 
					= SAR.SUBCONTRACT_CODE) ) -->
				<!-- Commented for Case # 2430 - End -->

			</WHERE>

		</QUERY>
		<!-- JM 3-16-2015 changed field order -->
		<CRITERIA>
			<FIELD name="SU.SUBCONTRACT_CODE" datatype="string" size="100" />
			<FIELD name="SU.SUBCONTRACTOR_ID" datatype="string" size="100" />
			<FIELD name="O.ORGANIZATION_NAME" datatype="string" size="100" />

			<FIELD name="PS.FULL_NAME" datatype="string" size="100" />
			<FIELD name="SU.REQUISITIONER_UNIT" datatype="string" size="100" />
			<FIELD name="U.UNIT_NAME" datatype="string" size="100" />

			<FIELD name="SU.START_DATE" datatype="date" size="100" />
			<FIELD name="SU.END_DATE" datatype="date" size="100" />
			<FIELD name="SU.SUBAWARD_TYPE_CODE" datatype="string" size="100" />

			<FIELD name="SU.TITLE" datatype="string" size="100" />
			<FIELD name="SU.STATUS_CODE" datatype="string" size="100" />
			<FIELD name="SU.ACCOUNT_NUMBER" datatype="string" size="100" />

			<FIELD
				name="(TRIM(R.LAST_NAME || ' , ' || R.FIRST_NAME || ' ' || R.MIDDLE_NAME))"
				datatype="string" size="100" />


			<FIELD name="OSP$SUBCONTRACT_FUNDING_SOURCE.MIT_AWARD_NUMBER"
				datatype="string" size="100" table="OSP$SUBCONTRACT_FUNDING_SOURCE"
				join="( SU.SUBCONTRACT_CODE = OSP$SUBCONTRACT_FUNDING_SOURCE.SUBCONTRACT_CODE )
			AND (OSP$SUBCONTRACT_FUNDING_SOURCE.SEQUENCE_NUMBER IN (SELECT MAX(FS1.SEQUENCE_NUMBER)
			FROM OSP$SUBCONTRACT_FUNDING_SOURCE FS1
			WHERE OSP$SUBCONTRACT_FUNDING_SOURCE.SUBCONTRACT_CODE = FS1.SUBCONTRACT_CODE ))
			AND (SU.FUNDING_SOURCE_INDICATOR IN ('P0', 'P1') )" />

			<FIELD name="SU.VENDOR_NUMBER" datatype="string" size="100" />
			<FIELD name="SU.PURCHASE_ORDER_NUM" datatype="string" size="100" />

			<FIELD name="SU.ARCHIVE_LOCATION" datatype="string" size="100" />
			<FIELD name="SU.CLOSEOUT_DATE" datatype="date" size="100" />

		</CRITERIA>

		<PROCEDURE name="get_subcontract_list_forquery">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<!-- JM 3-16-2015 changed field order -->
			<!-- JM 6-6-2012 maintained old headers for clarity -->
			<FIELD name="SUBCONTRACT_CODE" size="120">Subcontract Code</FIELD>
			<FIELD name="SUBCONTRACTOR_ID" size="100">Subcontractor Id</FIELD>
			<FIELD name="ORGANIZATION_NAME" size="120">Subcontractor Name</FIELD>
			<!-- JM END -->

			<FIELD name="FULL_NAME" size="100">Principal Investigator</FIELD>
			<FIELD name="REQUISITIONER_UNIT" size="100">Unit Number</FIELD>
			<FIELD name="UNIT_NAME" size="100">Unit Name</FIELD>

			<FIELD name="START_DATE" size="100" datatype="date">Start Date</FIELD>
			<FIELD name="END_DATE" size="100" datatype="date">End Date</FIELD>
			<FIELD name="AWARD_DESCRIPTION" size="100">Subaward Type</FIELD>

			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="SUBCONTRACT_STATUS_DESCRIPTION" size="100">Status</FIELD>
			<!-- JM 5-27-2011 changed account to center per 4.4.2 -->
			<FIELD name="ACCOUNT_NUMBER" size="100">Center Number</FIELD>
			<!-- JM END -->

			<FIELD name="SITE_INVESTIGATOR" size="100" datatype="string">Sub
				Investigator</FIELD>

			<FIELD name="OBLIGATED_AMOUNT" size="105" datatype="number">Obligated
				Amount</FIELD>
			<FIELD name="ANTICIPATED_AMOUNT" size="100" datatype="number">Anticipated
				Amount</FIELD>
			<FIELD name="AMOUNT_RELEASED" size="100" datatype="number">Amount
				Released</FIELD>
			<FIELD name="AVILABLE_AMT" size="100" datatype="number">Available Amt</FIELD>


			<FIELD name="VENDOR_NUMBER" size="100">Vendor Number</FIELD>
			<FIELD name="PURCHASE_ORDER_NUM" size="120">Purchase Order Num</FIELD>

			<FIELD name="ARCHIVE_LOCATION" size="100">Archive Location</FIELD>
			<FIELD name="CLOSEOUT_DATE" size="100" datatype="date">Closeout Date</FIELD>

		</DISPLAY>
		<REMCLAUSE>
			AND SU.SITE_INVESTIGATOR = R.ROLODEX_ID(+)
			AND (FN_USER_HAS_RIGHT_IN_MODULE('COEUS', SU.REQUISITIONER_UNIT , 4) >
			0)
			ORDER BY SU.SUBCONTRACT_CODE
		</REMCLAUSE>
	</SUBCONTRACTSEARCH>

	<!-- Added by Geo -->
	<!-- S2S Search Defenition begin -->
	<S2SSUBMISSIONSEARCH display="S2S Submission Search"
		retrievelimit="S2S_SUB_RETRIEVE_LIMIT">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>SELECT SUB.PROPOSAL_NUMBER,
				SUB.SUBMISSION_NUMBER,
				OPP.OPPORTUNITY_ID,
				to_char(P.DEADLINE_DATE, 'USER_DEFINED_DATE_FORMAT') DEADLINE_DATE,
				OPP.CFDA_NUMBER,
				OPP.COMPETETION_ID,
				PI.PERSON_NAME,
				U.UNIT_NUMBER,
				U.UNIT_NAME,
				P.TITLE,
				P.PROGRAM_ANNOUNCEMENT_TITLE,
				P.SPONSOR_CODE,
				S.SPONSOR_NAME,
				/* JM 5-24-2011 removed per 4.4.2
				P.CURRENT_ACCOUNT_NUMBER,
				*/
				SUB.COMMENTS,
				SUB.STATUS,
				SUB.GG_TRACKING_ID,
				SUB.AGENCY_TRACKING_ID,
				to_char(SUB.RECEIVED_DATE, 'USER_DEFINED_TIMESTAMP_FORMAT') RECEIVED_DATE,
				to_char(SUB.LAST_MODIFIED_DATE, 'USER_DEFINED_TIMESTAMP_FORMAT')
				LAST_MODIFIED_DATE,
				to_char(SUB.UPDATE_TIMESTAMP, 'USER_DEFINED_TIMESTAMP_FORMAT') UPDATE_TIMESTAMP,
				SUB.UPDATE_USER
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$S2S_APP_SUBMISSION SUB" />
				<TABLE name="OSP$EPS_PROPOSAL" alias="P" />
				<TABLE name="OSP$EPS_PROP_INVESTIGATORS" alias="PI" />
				<TABLE name="OSP$UNIT" alias="U" />
				<TABLE name="OSP$SPONSOR" alias="S" />
				<TABLE name="OSP$S2S_OPPORTUNITY" alias="OPP" />
			</FROM>
			<WHERE
				join="(SUB.SUBMISSION_NUMBER = (SELECT MAX(SUBMISSION_NUMBER)
	  			  		  FROM OSP$S2S_APP_SUBMISSION SUB1
						  WHERE	  SUB.PROPOSAL_NUMBER = SUB1.PROPOSAL_NUMBER))
                            AND SUB.PROPOSAL_NUMBER = P.PROPOSAL_NUMBER
                            AND SUB.PROPOSAL_NUMBER = OPP.PROPOSAL_NUMBER
                            AND P.PROPOSAL_NUMBER = PI.PROPOSAL_NUMBER(+)
                            AND P.OWNED_BY_UNIT = U.UNIT_NUMBER (+)
                            AND P.SPONSOR_CODE = S.SPONSOR_CODE (+)
							AND PI.PRINCIPAL_INVESTIGATOR_FLAG (+) = 'Y' " />
		</QUERY>
		<ORDERBY>SUB.PROPOSAL_NUMBER</ORDERBY>
		<CRITERIA>
			<FIELD name="SUB.PROPOSAL_NUMBER" datatype="string" size="100" />
			<FIELD name="SUB.GG_TRACKING_ID" datatype="string" size="120" />
			<FIELD name="SUB.AGENCY_TRACKING_ID" datatype="string" size="120" />
			<!-- Case 2823 - START -->
			<FIELD name="P.DEADLINE_DATE" datatype="date" size="100" />
			<!-- Case 2823 - END -->
			<FIELD name="OPP.OPPORTUNITY_ID" datatype="string" size="100" />
			<FIELD name="OPP.CFDA_NUMBER" datatype="string" size="100" />
			<!-- <FIELD name="PI.PERSON_NAME" size="100" join="(P.PROPOSAL_NUMBER 
				= PI.PROPOSAL_NUMBER)"/> -->
			<!-- <FIELD name="I.PERSON_NAME" size="100" join="(P.PROPOSAL_NUMBER = 
				I.PROPOSAL_NUMBER)"/> -->
			<FIELD name="PI.PERSON_NAME" datatype="string" size="100" />
			<FIELD name="U.UNIT_NUMBER" datatype="string" size="100" />
			<FIELD name="U.UNIT_NAME" datatype="string" size="100"
				table="OSP$UNIT UNIT, OSP$EPS_PROP_UNITS PU"
				join="(P.OWNED_BY_UNIT = UNIT.UNIT_NUMBER) AND
                    (P.PROPOSAL_NUMBER = PU.PROPOSAL_NUMBER)" />
			<FIELD name="P.TITLE" datatype="string" size="100" />
			<FIELD name="P.SPONSOR_CODE" datatype="string" size="100" />
			<FIELD name="SPONSOR.SPONSOR_NAME" datatype="string" size="100"
				table="OSP$SPONSOR SPONSOR" join="P.SPONSOR_CODE = SPONSOR.SPONSOR_CODE" />
			<!-- JM 5-27-2011 removed per 4.4.2 <FIELD name="P.CURRENT_ACCOUNT_NUMBER" 
				datatype="string" size="100"/> -->
			<FIELD name="SUB.COMMENTS" datatype="string" size="100" />
			<FIELD name="SUB.STATUS" datatype="string" size="100" />
			<FIELD name="SUB.RECEIVED_DATE" datatype="date" size="100" />
			<FIELD name="SUB.LAST_MODIFIED_DATE" datatype="date" size="100" />
			<FIELD name="SUB.UPDATE_TIMESTAMP" datatype="date" size="100" />
			<FIELD name="SUB.UPDATE_USER" datatype="string" size="100" />
		</CRITERIA>
		<PROCEDURE name="get_s2s_subm_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="PROPOSAL_NUMBER" size="100">Proposal Number</FIELD>
			<FIELD name="GG_TRACKING_ID" size="200">Grants.Gov Tracking Id</FIELD>
			<FIELD name="STATUS" size="200">Status</FIELD>
			<!-- Case 2823 - START -->
			<FIELD name="DEADLINE_DATE" size="100" datatype="date">Deadline Date</FIELD>
			<!-- Case 2823 - END -->
			<FIELD name="AGENCY_TRACKING_ID" size="200">Agency Tracking Id</FIELD>
			<FIELD name="OPPORTUNITY_ID" size="150">Program Number</FIELD>
			<FIELD name="PROGRAM_ANNOUNCEMENT_TITLE" size="150">Program Title</FIELD>
			<FIELD name="CFDA_NUMBER" size="150">CFDA Number</FIELD>
			<FIELD name="COMPETETION_ID" size="150">Competition Id</FIELD>
			<FIELD name="TITLE" size="250">Title</FIELD>
			<FIELD name="UNIT_NUMBER" size="80">Lead Unit</FIELD>
			<FIELD name="UNIT_NAME" size="200">Lead Unit Name</FIELD>
			<FIELD name="PERSON_NAME" size="100">PI</FIELD>
			<FIELD name="SPONSOR_CODE" size="100">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_NAME" size="100">Sponsor Name</FIELD>
			<FIELD name="COMMENTS" size="250">Comments</FIELD>
			<FIELD name="RECEIVED_DATE" size="200" datatype="date">Received Date</FIELD>
			<FIELD name="LAST_MODIFIED_DATE" size="200" datatype="date">Last
				Modified Date</FIELD>
			<FIELD name="UPDATE_TIMESTAMP" size="200" datatype="date"
				format="m/d/yy h:mm">Update Timestamp</FIELD>
			<FIELD name="UPDATE_USER" size="100">Update User</FIELD>
		</DISPLAY>
	</S2SSUBMISSIONSEARCH>

	<!-- S2S Search Defenition End -->


	<!-- These elements are used for the Web CoeusSearch in the IRBWEB Module -->

	<WEBSPONSORSEARCH display="Sponsor Search"
		retrievelimit="SPONSOR_RETRIEVE_LIMIT" primarykeycolumn="OSP$SPONSOR.SPONSOR_CODE">
		<QUERY>
			<SELECTQUERY>SELECT
				OSP$SPONSOR.SPONSOR_CODE,OSP$SPONSOR.SPONSOR_NAME,
				OSP$SPONSOR.SPONSOR_TYPE_CODE,
				OSP$SPONSOR_TYPE.DESCRIPTION AS SPONSOR_TYPE_DESCRIPTION ,
				OSP$SPONSOR.ROLODEX_ID,
				OSP$ROLODEX.STATE,
				OSP$STATE_CODE.DESCRIPTION AS STATE_DESCRIPTION ,
				OSP$ROLODEX.POSTAL_CODE,OSP$ROLODEX.COUNTRY_CODE,
				OSP$COUNTRY_CODE.COUNTRY_NAME AS COUNTRY_NAME ,
				OSP$SPONSOR.DUN_AND_BRADSTREET_NUMBER,
				OSP$SPONSOR.AUDIT_REPORT_SENT_FOR_FY,OSP$SPONSOR.OWNED_BY_UNIT,
				OSP$SPONSOR.ACRONYM,OSP$SPONSOR.DUNS_PLUS_FOUR_NUMBER,
				OSP$SPONSOR.DODAC_NUMBER,OSP$SPONSOR.CAGE_NUMBER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$SPONSOR" />
				<TABLE name="OSP$ROLODEX" />
				<TABLE name="OSP$SPONSOR_TYPE" />
				<TABLE name="OSP$COUNTRY_CODE" />
				<TABLE name="OSP$STATE_CODE" />

			</FROM>

			<WHERE
				join="OSP$SPONSOR.ROLODEX_ID = OSP$ROLODEX.ROLODEX_ID AND
                         OSP$SPONSOR.SPONSOR_TYPE_CODE = OSP$SPONSOR_TYPE.SPONSOR_TYPE_CODE AND
                         OSP$ROLODEX.STATE = OSP$STATE_CODE.STATE_CODE(+) AND
                         OSP$ROLODEX.COUNTRY_CODE = OSP$COUNTRY_CODE.COUNTRY_CODE (+) AND
                          OSP$SPONSOR.STATUS= 'A' " />
		</QUERY>
		<ORDERBY>OSP$SPONSOR.SPONSOR_CODE asc</ORDERBY>
		<CRITERIA>
			<FIELD name="OSP$SPONSOR.SPONSOR_CODE" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.SPONSOR_NAME" datatype="string"
				webSize="10" size="100" />
		</CRITERIA>
		<PROCEDURE name="dw_get_sponsor_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="SPONSOR_CODE">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_NAME">Sponsor Name</FIELD>
			<FIELD name="ACRONYM">Acronym</FIELD>
			<FIELD name="SPONSOR_TYPE_DESCRIPTION">Sponsor Type</FIELD>
			<FIELD name="POSTAL_CODE">Postal Code</FIELD>
			<FIELD name="STATE">State/ Province</FIELD>
			<FIELD name="STATE_DESCRIPTION">State/ Province Name</FIELD>
			<FIELD name="COUNTRY_NAME">Country</FIELD>
			<FIELD name="AUDIT_REPORT_SENT_FOR_FY">Audit Report</FIELD>
			<!-- JM 5-27-2011 changed text per 4.4.2 -->
			<FIELD name="DUN_AND_BRADSTREET_NUMBER">Duns Number</FIELD>
			<!-- JM END -->
			<FIELD name="DUNS_PLUS_FOUR_NUMBER">Duns Plus Four</FIELD>
			<!-- JM 5-27-2011 changed text per 4.4.2 -->
			<FIELD name="DODAC_NUMBER">GL Fund</FIELD>
			<FIELD name="CAGE_NUMBER">GL Agency</FIELD>
			<!-- JM END -->
			<FIELD name="OWNED_BY_UNIT">Owned by Unit</FIELD>
			<FIELD name="ROLODEX_ID" visible="false" datatype="number">Rolodex Id</FIELD>
		</DISPLAY>
		<DEFAULTSELECT>
			<ID>
				SPONSOR_CODE
			</ID>
			<NAME>
				SPONSOR_NAME
			</NAME>
		</DEFAULTSELECT>

	</WEBSPONSORSEARCH>

	<!--<LEADUNITSEARCH display="Unit Search" retrievelimit="500"> -->
	<WEBLEADUNITSEARCH display="Unit Search"
		retrievelimit="UNIT_RETRIEVE_LIMIT" primarykeycolumn="OSP$UNIT.UNIT_NUMBER">
		<QUERY>
			<SELECTQUERY>SELECT OSP$UNIT.UNIT_NUMBER,
				OSP$UNIT.UNIT_NAME,OSP$UNIT.ADMINISTRATIVE_OFFICER,
				OSP$PERSON_A.FULL_NAME ADMINOFFICER ,OSP$UNIT.UNIT_HEAD,
				OSP$PERSON_B.FULL_NAME UNITHEAD, OSP$UNIT.DEAN_VP,
				OSP$PERSON_C.FULL_NAME DEANVP,
				OSP$UNIT.OTHER_INDIVIDUAL_TO_NOTIFY, OSP$PERSON_D.FULL_NAME NOTIFY,
				OSP$UNIT.OSP_ADMINISTRATOR, OSP$PERSON_E.FULL_NAME ADMINTR
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$UNIT" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_A" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_B" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_C" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_D" />
				<TABLE name="OSP$PERSON" alias="OSP$PERSON_E" />

			</FROM>
			<WHERE
				join="OSP$UNIT.ADMINISTRATIVE_OFFICER = OSP$PERSON_A.PERSON_ID (+)
                        AND OSP$UNIT.UNIT_HEAD = OSP$PERSON_B.PERSON_ID (+)
                        AND OSP$UNIT.DEAN_VP = OSP$PERSON_C.PERSON_ID (+)
                        AND OSP$UNIT.OTHER_INDIVIDUAL_TO_NOTIFY= OSP$PERSON_D.PERSON_ID (+)
                        AND OSP$UNIT.OSP_ADMINISTRATOR= OSP$PERSON_E.PERSON_ID (+)" />
		</QUERY>
		<CRITERIA>
			<FIELD name="OSP$UNIT.UNIT_NUMBER" datatype="string" webSize="13"
				size="120" />
			<FIELD name="OSP$UNIT.UNIT_NAME" datatype="string" webSize="13"
				size="120" />
		</CRITERIA>
		<PROCEDURE name="dw_get_unit_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="UNIT_NUMBER">Unit Number</FIELD>
			<FIELD name="UNIT_NAME">Unit Name</FIELD>
			<FIELD name="ADMINOFFICER">Administrative Officer</FIELD>
			<FIELD name="UNITHEAD">Unit Head</FIELD>
			<FIELD name="DEANVP">Dean VP</FIELD>
			<FIELD name="NOTIFY">Other Ind To Notify</FIELD>
			<FIELD name="ADMINTR">Admin</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			/* JM 7-23-2015 added status filter based on permissions */
			AND (
			(OSP$UNIT.STATUS = 'A'
			AND
			FN_USER_HAS_ROLE('COEUS',1) = 0)
			OR
			(FN_USER_HAS_ROLE('COEUS',1) > 0)
			)
			/* END */
			ORDER BY OSP$UNIT.UNIT_NUMBER
		</REMCLAUSE>
		<DEFAULTSELECT>
			<ID>
				UNIT_NUMBER
			</ID>
			<NAME>
				UNIT_NAME
			</NAME>
		</DEFAULTSELECT>

	</WEBLEADUNITSEARCH>


	<!-- Define elements for person search -->
	<!--<PERSONSEARCH display="Person Search" retrievelimit="500"> -->
	<WEBPERSONSEARCH display="Person Search" retrievelimit="PERSON_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$PERSON.PERSON_ID">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>SELECT
				OSP$PERSON.PERSON_ID,OSP$PERSON.FULL_NAME,OSP$PERSON.LAST_NAME,
				OSP$PERSON.FIRST_NAME,OSP$PERSON.PRIOR_NAME,OSP$PERSON.USER_NAME,OSP$PERSON.EMAIL_ADDRESS,
				OSP$PERSON.HOME_UNIT,OSP$UNIT.UNIT_NAME,OSP$PERSON.SCHOOL,OSP$PERSON.DIRECTORY_TITLE,
				OSP$PERSON.OFFICE_LOCATION,OSP$PERSON.OFFICE_PHONE,OSP$PERSON.IS_FACULTY,
				OSP$PERSON.SECONDRY_OFFICE_PHONE,OSP$PERSON.SECONDRY_OFFICE_LOCATION,
				OSP$PERSON.MOBILE_PHONE_NUMBER,OSP$PERSON.FAX_NUMBER,
				OSP$PERSON.ERA_COMMONS_USER_NAME
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$PERSON" />
				<TABLE name="OSP$UNIT" />
			</FROM>
			<!-- The default joins should be specified in this section. The value 
				of the join attribute should be appended in the where clause while forming 
				a query. -->
			<WHERE join="OSP$PERSON.HOME_UNIT = OSP$UNIT.UNIT_NUMBER(+)" />
		</QUERY>
		<!-- CASE #1201 Begin -->
		<!-- JM 5-23-2016 moved to REMCLAUSE -->
		<!--<ORDERBY>OSP$PERSON.FULL_NAME</ORDERBY>-->
		<!-- CASE #1201 End -->
		<!-- All the elements for the search criteria should be specified in this 
			section. There should be a corresponding entry for COLUMN element for each 
			FIELD element in this section. All the fields specified here will be displayed 
			as search criterias in the CoeusSearch.jsp file. Mainly two types of data 
			types can come here. 1) string 2) number If we want to use any specific alias 
			and joins, it should be specified as attributes of each FIELD element. -->
		<CRITERIA>
			<!-- <FIELD name="OSP$PERSON.PERSON_ID" datatype="string" webSize="10" 
				size="100"/> -->

			<FIELD name="OSP$PERSON.LAST_NAME" datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$PERSON.FIRST_NAME" datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$PERSON.FULL_NAME" datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$PERSON.USER_NAME" datatype="string" webSize="10" size="100" />
		</CRITERIA>
		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="dw_get_person_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<!-- Updated by Raghunath P.V. for implementing Department Person -->
			<!-- <FIELD name="PERSON_ID" size="100">Person Id</FIELD> -->
			<!-- Added for CoeusWeb -->
			<FIELD name="PERSON_ID" visible="false">Person Id</FIELD>
			<!-- End added for CoeusWeb -->
			<FIELD name="FULL_NAME" size="100">Full Name</FIELD>
			<FIELD name="PRIOR_NAME" size="100">Prior Name</FIELD>
			<FIELD name="USER_NAME" size="100">User Name</FIELD>
			<FIELD name="HOME_UNIT" size="100">Home Unit</FIELD>
			<FIELD name="SCHOOL" size="100">School</FIELD>
			<FIELD name="EMAIL_ADDRESS" size="100">Email Address</FIELD>
			<FIELD name="DIRECTORY_TITLE" size="100">Directory Title</FIELD>
			<FIELD name="OFFICE_LOCATION" size="100">Office Location</FIELD>
			<FIELD name="OFFICE_PHONE" size="100">Office Phone</FIELD>
			<FIELD name="IS_FACULTY">Faculty</FIELD>
			<FIELD name="SECONDRY_OFFICE_LOCATION" size="100">Sec. Office Location</FIELD>
			<FIELD name="SECONDRY_OFFICE_PHONE" size="100">Sec. Office Phone</FIELD>
			<FIELD name="MOBILE_PHONE_NUMBER" size="100">Mobile Phone Number</FIELD>
			<FIELD name="FAX_NUMBER" size="100">Fax Number</FIELD>
			<FIELD name="PERSON_ID" visible="false">Person Id</FIELD>
		</DISPLAY>
		<DEFAULTSELECT>
			<ID>
				PERSON_ID
			</ID>
			<NAME>
				FULL_NAME
			</NAME>
		</DEFAULTSELECT>
		<REMCLAUSE>
			/* JM 9-22-2011 added for user type filter based on permissions */
			AND OSP$PERSON.STATUS = 'A'
			ORDER
			BY OSP$PERSON.FULL_NAME
		</REMCLAUSE>
	</WEBPERSONSEARCH>
	
	<WEBORGANIZATIONSEARCH display="Organization Search"
		retrievelimit="ORGANIZATION_RETRIEVE_LIMIT" primarykeycolumn="ORG.ORGANIZATION_ID">
		<QUERY>
			<SELECTQUERY>SELECT
				ORG.ORGANIZATION_ID,ORG.ORGANIZATION_NAME,ORG.CONTACT_ADDRESS_ID,
				ORG.ADDRESS,ORG.CABLE_ADDRESS,ORG.TELEX_NUMBER,
				ORG.COUNTY,ORG.CONGRESSIONAL_DISTRICT,ORG.INCORPORATED_IN,ORG.INCORPORATED_DATE,
				ORG.NUMBER_OF_EMPLOYEES,ORG.IRS_TAX_EXCEMPTION,ORG.FEDRAL_EMPLOYER_ID,
				ORG.MASS_TAX_EXCEMPT_NUM,ORG.AGENCY_SYMBOL,ORG.VENDOR_CODE,ORG.COM_GOV_ENTITY_CODE,
				ORG.MASS_EMPLOYEE_CLAIM,ORG.DUNS_NUMBER,ORG.DUNS_PLUS_FOUR_NUMBER,ORG.DODAC_NUMBER,
				ORG.CAGE_NUMBER,ORG.HUMAN_SUB_ASSURANCE,ORG.ANIMAL_WELFARE_ASSURANCE,
				ORG.SCIENCE_MISCONDUCT_COMPL_DATE,ORG.PHS_ACOUNT,ORG.NSF_INSTITUTIONAL_CODE,
				ORG.INDIRECT_COST_RATE_AGREEMENT,ORG.COGNIZANT_AUDITOR,
				ORG.ONR_RESIDENT_REP,ORG.UPDATE_TIMESTAMP,
				ORG.UPDATE_USER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$ORGANIZATION ORG" />
			</FROM>
		</QUERY>
		<!-- <ORDERBY>ORGANIZATION_NAME asc</ORDERBY> -->
		<CRITERIA>
			<FIELD name="ORG.ORGANIZATION_ID" datatype="string" size="100" />
			<!-- JM 5-27-2011 added per 4.4.2 -->
			<FIELD name="ORG.DUNS_NUMBER" datatype="string" size="100" />
			<!-- JM END -->
			<FIELD name="ORG.ORGANIZATION_NAME" datatype="string" size="100" />
		</CRITERIA>
		<PROCEDURE name="DW_GET_ORG_LIST_FROM_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="ORGANIZATION_ID">Id</FIELD>
			<!-- JM 5-27-2011 added per 4.4.2 -->
			<FIELD name="DUNS_NUMBER">Duns Number</FIELD>
			<!-- JM END -->
			<FIELD name="ORGANIZATION_NAME">Name</FIELD>
			<FIELD name="ADDRESS">Address</FIELD>
			<FIELD name="CONGRESSIONAL_DISTRICT">Congr District</FIELD>
			<FIELD name="FEDRAL_EMPLOYER_ID">Fed Employee Id</FIELD>
			<FIELD name="VENDOR_CODE">Vendor Code</FIELD>
			<!-- JM 5-27-2011 removed per 4.4.2 <FIELD name="DUNS_NUMBER">Dun And 
				Bradstreet</FIELD> -->
			<FIELD name="DUNS_PLUS_FOUR_NUMBER">Duns Plus Four</FIELD>
			<!-- JM 5-24-2011 updated field names -->
			<FIELD name="DODAC_NUMBER">GL Fund</FIELD>
			<FIELD name="CAGE_NUMBER">GL Agency</FIELD>
			<!-- JM END -->
		</DISPLAY>
		<REMCLAUSE>
			ORDER BY ORG.ORGANIZATION_NAME
		</REMCLAUSE>
	</WEBORGANIZATIONSEARCH>

	<!--<WEBROLODEXSEARCH display="Rolodex Search" retrievelimit="500"> -->
	<WEBROLODEXSEARCH display="Rolodex Search"
		retrievelimit="ROLODEX_RETRIEVE_LIMIT" primarykeycolumn="OSP$ROLODEX.ROLODEX_ID">
		<QUERY>
			<SELECTQUERY>SELECT OSP$ROLODEX.ROLODEX_ID,OSP$ROLODEX.LAST_NAME,
				OSP$ROLODEX.FIRST_NAME,OSP$ROLODEX.MIDDLE_NAME,OSP$ROLODEX.SUFFIX,
				OSP$ROLODEX.PREFIX,OSP$ROLODEX.TITLE,OSP$ROLODEX.ORGANIZATION,
				OSP$ROLODEX.ADDRESS_LINE_1,OSP$ROLODEX.ADDRESS_LINE_2,
				OSP$ROLODEX.ADDRESS_LINE_3,OSP$ROLODEX.FAX_NUMBER,
				OSP$ROLODEX.EMAIL_ADDRESS,OSP$ROLODEX.CITY,OSP$ROLODEX.COUNTY,
				OSP$ROLODEX.STATE,
				OSP$STATE_CODE.DESCRIPTION AS STATE_DESCRIPTION ,
				OSP$ROLODEX.POSTAL_CODE,OSP$ROLODEX.COMMENTS,
				OSP$ROLODEX.PHONE_NUMBER,OSP$ROLODEX.COUNTRY_CODE,
				OSP$COUNTRY_CODE.COUNTRY_NAME AS COUNTRY_NAME ,
				OSP$ROLODEX.SPONSOR_CODE, OSP$SPONSOR.SPONSOR_NAME,
				OSP$ROLODEX.OWNED_BY_UNIT,
				OSP$ROLODEX.SPONSOR_ADDRESS_FLAG,OSP$ROLODEX.DELETE_FLAG,
				OSP$ROLODEX.CREATE_USER,OSP$ROLODEX.UPDATE_TIMESTAMP,
				OSP$ROLODEX.UPDATE_USER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$ROLODEX" />
				<TABLE name="OSP$COUNTRY_CODE" />
				<TABLE name="OSP$STATE_CODE" />
				<TABLE name="OSP$SPONSOR" />
			</FROM>
			<WHERE
				join="OSP$ROLODEX.STATE = OSP$STATE_CODE.STATE_CODE(+) AND
                         OSP$ROLODEX.COUNTRY_CODE = OSP$COUNTRY_CODE.COUNTRY_CODE(+) AND
                         OSP$ROLODEX.SPONSOR_CODE = OSP$SPONSOR.SPONSOR_CODE(+) AND
						 OSP$ROLODEX.ROLODEX_STATUS= 'A'" />

		</QUERY>
		<ORDERBY>OSP$ROLODEX.ROLODEX_ID asc</ORDERBY>

		<CRITERIA>
			<FIELD name="OSP$ROLODEX.ROLODEX_ID" datatype="number" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.SPONSOR_CODE" datatype="string" size="100"
				webSize="10" />
			<!--<FIELD name="OSP$SPONSOR.SPONSOR_NAME" table="OSP$SPONSOR" join="OSP$ROLODEX.SPONSOR_CODE=OSP$SPONSOR.SPONSOR_CODE" 
				datatype="string" size="100"/> -->
			<FIELD name="OSP$SPONSOR.SPONSOR_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.LAST_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.FIRST_NAME" datatype="string" size="100"
				webSize="10" />
			<FIELD name="OSP$ROLODEX.MIDDLE_NAME" datatype="string" size="100"
				webSize="10" />

		</CRITERIA>
		<PROCEDURE name="dw_get_rolodex_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="ROLODEX_ID" datatype="number">Rolodex Id</FIELD>
			<FIELD name="SPONSOR_CODE">Sponsor Code</FIELD>
			<FIELD name="LAST_NAME">Last Name</FIELD>
			<FIELD name="FIRST_NAME">First Name</FIELD>
			<FIELD name="MIDDLE_NAME">Middle Name</FIELD>
			<FIELD name="SUFFIX">Suffix</FIELD>
			<FIELD name="PREFIX">Prefix</FIELD>
			<FIELD name="TITLE">Title</FIELD>
			<FIELD name="ORGANIZATION">Organization</FIELD>
			<FIELD name="ADDRESS_LINE_1">Address Line 1</FIELD>
			<FIELD name="ADDRESS_LINE_2">Address Line 2</FIELD>
			<FIELD name="ADDRESS_LINE_3">Address Line 3</FIELD>
			<FIELD name="FAX_NUMBER">Fax Number</FIELD>
			<FIELD name="EMAIL_ADDRESS">Email Address</FIELD>
			<FIELD name="COUNTY">County</FIELD>
			<FIELD name="CITY">City</FIELD>
			<FIELD name="STATE">State/ Province</FIELD>
			<FIELD name="POSTAL_CODE">Postal Code</FIELD>
			<FIELD name="COMMENTS">Comments</FIELD>
			<FIELD name="PHONE_NUMBER">Phone Number</FIELD>
			<FIELD name="COUNTRY_NAME">Country</FIELD>
			<FIELD name="OWNED_BY_UNIT" visible="false">Owned by unit
			</FIELD>
			<FIELD name="SPONSOR_ADDRESS_FLAG" visible="false">Sponsor address flag</FIELD>
			<FIELD name="DELETE_FLAG" visible="false">Delete flag</FIELD>
			<FIELD name="CREATE_USER" visible="false">Create user</FIELD>
			<FIELD name="UPDATE_TIMESTAMP" visible="false" datatype="date">Update
				timestamp</FIELD>
			<FIELD name="UPDATE_USER" visible="false">Update user</FIELD>
		</DISPLAY>
		<DEFAULTSELECT>
			<ID>
				ROLODEX_ID
			</ID>
			<NAME>
				LAST_NAME
			</NAME>
		</DEFAULTSELECT>

	</WEBROLODEXSEARCH>


	<!-- Proposal new Serach for CoeusLite Start -->

	<ALL_PROPOSAL_SEARCH display="Select Proposal"
		retrievelimit="PROPOSAL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROPOSAL.PROPOSAL_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT OSP$PROPOSAL.PROPOSAL_NUMBER,OSP$PROPOSAL.PROPOSAL_TYPE_CODE,
				OSP$PROPOSAL.CURRENT_ACCOUNT_NUMBER,OSP$PROPOSAL.SPONSOR_CODE,
				OSP$PROPOSAL.PRIME_SPONSOR_CODE,
				OSP$SPONSOR.SPONSOR_NAME,OSP$PROPOSAL_INVESTIGATORS.PERSON_NAME,
				OSP$PROPOSAL.STATUS_CODE,OSP$PROPOSAL.TITLE,
				OSP$PROPOSAL.SEQUENCE_NUMBER,OSP$PROPOSAL_UNITS.UNIT_NUMBER,
				OSP$UNIT.UNIT_NAME,
				to_char(OSP$PROPOSAL.REQUESTED_START_DATE_INITIAL,
				'USER_DEFINED_DATE_FORMAT') REQUESTED_START_DATE_INITIAL,
				to_char(OSP$PROPOSAL.REQUESTED_START_DATE_TOTAL,
				'USER_DEFINED_DATE_FORMAT') REQUESTED_START_DATE_TOTAL,
				to_char(OSP$PROPOSAL.REQUESTED_END_DATE_INITIAL,
				'USER_DEFINED_DATE_FORMAT') REQUESTED_END_DATE_INITIAL,
				to_char(OSP$PROPOSAL.REQUESTED_END_DATE_TOTAL,
				'USER_DEFINED_DATE_FORMAT') REQUESTED_END_DATE_TOTAL,
				OSP$PROPOSAL.TOTAL_DIRECT_COST_INITIAL,
				OSP$PROPOSAL.TOTAL_DIRECT_COST_TOTAL,
				OSP$PROPOSAL.TOTAL_INDIRECT_COST_INITIAL,
				OSP$PROPOSAL.TOTAL_INDIRECT_COST_TOTAL,
				OSP$PROPOSAL_STATUS.DESCRIPTION as PROPOSAL_STATUS_DESC,
				OSP$PROPOSAL_TYPE.DESCRIPTION as PROPOSAL_TYPE_DESC,
				OSP$ACTIVITY_TYPE.DESCRIPTION AS PROPOSAL_ACTIVITY_DESC
				FROM OSP$PROPOSAL, OSP$SPONSOR, OSP$PROPOSAL_INVESTIGATORS,
				OSP$PROPOSAL_UNITS, OSP$UNIT, OSP$PROPOSAL_STATUS,
				OSP$PROPOSAL_TYPE, OSP$ACTIVITY_TYPE
				WHERE (OSP$PROPOSAL.SPONSOR_CODE = OSP$SPONSOR.SPONSOR_CODE (+)) AND
				(OSP$PROPOSAL.STATUS_CODE =
				OSP$PROPOSAL_STATUS.PROPOSAL_STATUS_CODE) AND
				(OSP$PROPOSAL.PROPOSAL_TYPE_CODE =
				OSP$PROPOSAL_TYPE.PROPOSAL_TYPE_CODE) AND
				(OSP$PROPOSAL.ACTIVITY_TYPE_CODE =
				OSP$ACTIVITY_TYPE.ACTIVITY_TYPE_CODE) AND
				OSP$PROPOSAL.SEQUENCE_NUMBER IN ( SELECT MAX(A.SEQUENCE_NUMBER) FROM
				OSP$PROPOSAL A WHERE (A.PROPOSAL_NUMBER
				=OSP$PROPOSAL.PROPOSAL_NUMBER ))
				AND (OSP$PROPOSAL.PROPOSAL_NUMBER = OSP$PROPOSAL_UNITS.PROPOSAL_NUMBER)
				AND (OSP$PROPOSAL_UNITS.LEAD_UNIT_FLAG = 'Y')
				AND (OSP$PROPOSAL_UNITS.SEQUENCE_NUMBER IN ( SELECT
				MAX(B.SEQUENCE_NUMBER) FROM OSP$PROPOSAL_UNITS B
				WHERE B.PROPOSAL_NUMBER =OSP$PROPOSAL_UNITS.PROPOSAL_NUMBER ))
				AND (OSP$PROPOSAL_UNITS.UNIT_NUMBER = OSP$UNIT.UNIT_NUMBER )
				AND (OSP$PROPOSAL.PROPOSAL_NUMBER =
				OSP$PROPOSAL_INVESTIGATORS.PROPOSAL_NUMBER)
				AND (OSP$PROPOSAL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y')
				AND (OSP$PROPOSAL_INVESTIGATORS.SEQUENCE_NUMBER IN (
				SELECT MAX(C.SEQUENCE_NUMBER) FROM OSP$PROPOSAL_INVESTIGATORS C
				WHERE C.PROPOSAL_NUMBER =OSP$PROPOSAL_INVESTIGATORS.PROPOSAL_NUMBER))
				AND (OSP$PROPOSAL.PROPOSAL_NUMBER IN (SELECT DISTINCT
				PROPOSAL.PROPOSAL_NUMBER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$PROPOSAL" alias="PROPOSAL" />
			</FROM>
			<WHERE
				join="(PROPOSAL.SEQUENCE_NUMBER = ( SELECT MAX(P1.SEQUENCE_NUMBER)FROM OSP$PROPOSAL P1 WHERE PROPOSAL.PROPOSAL_NUMBER = P1.PROPOSAL_NUMBER ))">
			</WHERE>
		</QUERY>
		<CRITERIA>
			<FIELD name="OSP$PROPOSAL.PROPOSAL_NUMBER" alias="PROPOSAL.PROPOSAL_NUMBER"
				datatype="string" webSize="10" size="110" />
			<FIELD name="OSP$PROPOSAL.PROPOSAL_TYPE_CODE" alias="PROPOSAL.PROPOSAL_TYPE_CODE"
				datatype="number" webSize="10" size="100" />
			<FIELD name="OSP$PROPOSAL.STATUS_CODE" datatype="number"
				alias="PROPOSAL.STATUS_CODE" webSize="10" size="100" />
			<FIELD name="OSP$PROPOSAL.CURRENT_ACCOUNT_NUMBER" alias="PROPOSAL.CURRENT_ACCOUNT_NUMBER"
				datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$PROPOSAL.TITLE" alias="PROPOSAL.TITLE"
				datatype="string" webSize="20" size="200" />
			<!-- Modified for COEUSDEV-225 : institutional proposal searching is wicked 
				slow Checked for proposal leadunit flag is 'Y' in OSP$PROPOSAL_UNITS <FIELD 
				name="OSP$PROPOSAL_UNITS.UNIT_NUMBER" alias="PU.UNIT_NUMBER" datatype="string" 
				table="OSP$PROPOSAL_UNITS PU" join="(PROPOSAL.PROPOSAL_NUMBER = PU.PROPOSAL_NUMBER) 
				AND ( PU.SEQUENCE_NUMBER IN ( SELECT MAX(PU1.SEQUENCE_NUMBER) FROM OSP$PROPOSAL_UNITS 
				PU1 WHERE PU1.PROPOSAL_NUMBER =PU.PROPOSAL_NUMBER ))" webSize="10" size="100"/> 
				<FIELD name="OSP$UNIT.UNIT_NAME" alias="UNIT.UNIT_NAME" datatype="string" 
				table="OSP$PROPOSAL_UNITS PU3,OSP$UNIT UNIT" join="(PU3.UNIT_NUMBER = UNIT.UNIT_NUMBER) 
				AND (PROPOSAL.PROPOSAL_NUMBER = PU3.PROPOSAL_NUMBER) AND ( PU3.SEQUENCE_NUMBER 
				IN ( SELECT MAX(PU3.SEQUENCE_NUMBER) FROM OSP$PROPOSAL_UNITS PU4 WHERE PU3.PROPOSAL_NUMBER 
				=PU4.PROPOSAL_NUMBER ))" webSize="15" size="100"/> -->
			<FIELD name="OSP$PROPOSAL_UNITS.UNIT_NUMBER" alias="PU.UNIT_NUMBER"
				datatype="string" table="OSP$PROPOSAL_UNITS PU"
				join="(PROPOSAL.PROPOSAL_NUMBER = PU.PROPOSAL_NUMBER) AND ( PU.SEQUENCE_NUMBER IN  ( SELECT MAX(PU1.SEQUENCE_NUMBER)
                    FROM OSP$PROPOSAL_UNITS PU1 WHERE PU1.PROPOSAL_NUMBER =PU.PROPOSAL_NUMBER AND PU1.LEAD_UNIT_FLAG = 'Y'))"
				webSize="10" size="100" />
			<FIELD name="OSP$UNIT.UNIT_NAME" alias="UNIT.UNIT_NAME"
				datatype="string" table="OSP$PROPOSAL_UNITS PU3,OSP$UNIT UNIT"
				join="(PU3.UNIT_NUMBER = UNIT.UNIT_NUMBER) AND (PROPOSAL.PROPOSAL_NUMBER = PU3.PROPOSAL_NUMBER)
                    AND ( PU3.SEQUENCE_NUMBER IN  ( SELECT MAX(PU3.SEQUENCE_NUMBER) FROM OSP$PROPOSAL_UNITS PU4  WHERE PU3.PROPOSAL_NUMBER =PU4.PROPOSAL_NUMBER AND PU3.LEAD_UNIT_FLAG = 'Y'))"
				webSize="15" size="100" />
			<FIELD name="OSP$PROPOSAL_INVESTIGATORS.PERSON_NAME" alias="PI.PERSON_NAME"
				datatype="string" table="OSP$PROPOSAL_INVESTIGATORS  PI"
				join="(PROPOSAL.PROPOSAL_NUMBER = PI.PROPOSAL_NUMBER) AND (PI.SEQUENCE_NUMBER IN (SELECT MAX(PI1.SEQUENCE_NUMBER)
                    FROM  OSP$PROPOSAL_INVESTIGATORS PI1 WHERE PI1.PROPOSAL_NUMBER = PI.PROPOSAL_NUMBER ))"
				webSize="15" size="100" />
			<FIELD name="OSP$PROPOSAL.SPONSOR_CODE" alias="PROPOSAL.SPONSOR_CODE"
				datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.SPONSOR_NAME" alias="SPONSOR.SPONSOR_NAME"
				datatype="string" table="OSP$SPONSOR SPONSOR"
				join="PROPOSAL.SPONSOR_CODE = SPONSOR.SPONSOR_CODE" webSize="15"
				size="100" />
		</CRITERIA>
		<PROCEDURE name="dw_get_inst_props_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="PROPOSAL_NUMBER" size="100">Proposal No.</FIELD>
			<FIELD name="PROPOSAL_TYPE_DESC" size="100">Type</FIELD>
			<FIELD name="PROPOSAL_ACTIVITY_DESC" SIZE="100">Activity</FIELD>
			<FIELD name="PROPOSAL_STATUS_DESC" size="100">Status</FIELD>
			<FIELD name="UNIT_NUMBER" size="100">Lead Unit</FIELD>
			<FIELD name="UNIT_NAME" size="150">Lead Unit Name</FIELD>
			<!-- JM 5-27-2011 changed account to center per 4.4.2 -->
			<FIELD name="CURRENT_ACCOUNT_NUMBER" size="100">Center Number</FIELD>
			<!-- JM END -->
			<FIELD name="TITLE" size="250">Title</FIELD>
			<FIELD name="SPONSOR_CODE" size="100">Sponsor</FIELD>
			<FIELD name="SPONSOR_NAME" size="150">Sponsor Name</FIELD>
			<FIELD name="PRIME_SPONSOR_CODE" size="100">Prime Sponsor</FIELD>
			<FIELD name="PERSON_NAME" size="150">PI</FIELD>

			<FIELD name="REQUESTED_START_DATE_INITIAL" datatype="date">Request
				Start Date Initial</FIELD>
			<FIELD name="REQUESTED_START_DATE_TOTAL" datatype="date">Request
				Start Date Total</FIELD>
			<FIELD name="REQUESTED_END_DATE_INITIAL" datatype="date">Request End
				Date Initial</FIELD>
			<FIELD name="REQUESTED_END_DATE_TOTAL" datatype="date">Request End
				Date Total</FIELD>

			<FIELD name="TOTAL_DIRECT_COST_INITIAL" datatype="number">Total Direct
				Cost Initial</FIELD>
			<FIELD name="TOTAL_DIRECT_COST_TOTAL" datatype="number">Total Direct
				Cost Total</FIELD>
			<FIELD name="TOTAL_INDIRECT_COST_INITIAL" datatype="number">Total
				Indirect Cost Initial</FIELD>
			<FIELD name="TOTAL_INDIRECT_COST_TOTAL" datatype="number">Total Indirect
				Cost Total</FIELD>

		</DISPLAY>
		<!-- The sesction where we can specify any query string to be appended 
			after the formation of the where clause. -->
		<REMCLAUSE>)) ORDER BY OSP$PROPOSAL.PROPOSAL_NUMBER DESC</REMCLAUSE>
	</ALL_PROPOSAL_SEARCH>

	<!-- Proposal new Serach for CoeusLite end -->

	<!-- Award new Serach for CoeusLite Start -->

	<ALL_AWARD_SEARCH display="Award Search"
		retrievelimit="AWARD_RETRIEVE_LIMIT" primarykeycolumn="OSP$AWARD.MIT_AWARD_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT
				OSP$AWARD.MIT_AWARD_NUMBER, OSP$AWARD.SPONSOR_AWARD_NUMBER, OSP$AWARD_UNITS.UNIT_NUMBER,
				OSP$UNIT.UNIT_NAME, OSP$AWARD.ACCOUNT_NUMBER,
				OSP$AWARD.STATUS_CODE, OSP$AWARD_STATUS.DESCRIPTION,
				OSP$AWARD_HEADER.TITLE,OSP$AWARD.SPONSOR_CODE,
				OSP$SPONSOR.SPONSOR_NAME,
				OSP$AWARD_INVESTIGATORS.PERSON_NAME, OSP$PERSON.FULL_NAME FULL_NAME, ANTICIPATED_TOTAL_AMOUNT,
				ANT_DISTRIBUTABLE_AMOUNT, to_char(FINAL_EXPIRATION_DATE,
				'USER_DEFINED_DATE_FORMAT') FINAL_EXPIRATION_DATE,
				to_char(AWARD_EFFECTIVE_DATE, 'USER_DEFINED_DATE_FORMAT')
				AWARD_EFFECTIVE_DATE,
				to_char(CURRENT_FUND_EFFECTIVE_DATE, 'USER_DEFINED_DATE_FORMAT') CURRENT_FUND_EFFECTIVE_DATE,
				to_char(OBLIGATION_EXPIRATION_DATE, 'USER_DEFINED_DATE_FORMAT')
				OBLIGATION_EXPIRATION_DATE,
				AMOUNT_OBLIGATED_TO_DATE, OBLI_DISTRIBUTABLE_AMOUNT
				FROM OSP$AWARD ,OSP$AWARD_HEADER, OSP$SPONSOR, OSP$AWARD_UNITS,OSP$UNIT,
				OSP$AWARD_INVESTIGATORS, OSP$PERSON, OSP$AWARD_STATUS,
				OSP$AWARD_AMOUNT_INFO
				WHERE ( OSP$AWARD.SPONSOR_CODE = OSP$SPONSOR.SPONSOR_CODE (+))
				AND (OSP$AWARD.STATUS_CODE = OSP$AWARD_STATUS.STATUS_CODE (+))
				AND ( OSP$AWARD.SEQUENCE_NUMBER IN (
				SELECT MAX(A.SEQUENCE_NUMBER)
				FROM OSP$AWARD A
				WHERE A.MIT_AWARD_NUMBER =OSP$AWARD. MIT_AWARD_NUMBER ))
				AND OSP$AWARD.MIT_AWARD_NUMBER = OSP$AWARD_AMOUNT_INFO.MIT_AWARD_NUMBER
				(+)
				AND OSP$AWARD.SEQUENCE_NUMBER = OSP$AWARD_AMOUNT_INFO.SEQUENCE_NUMBER
				(+)
				AND ((OSP$AWARD_AMOUNT_INFO.AMOUNT_SEQUENCE_NUMBER IN (
				SELECT MAX(AASEQ.AMOUNT_SEQUENCE_NUMBER)
				FROM OSP$AWARD_AMOUNT_INFO AASEQ
				WHERE AASEQ.MIT_AWARD_NUMBER = OSP$AWARD_AMOUNT_INFO.MIT_AWARD_NUMBER
				AND OSP$AWARD_AMOUNT_INFO.SEQUENCE_NUMBER = AASEQ.SEQUENCE_NUMBER)) OR
				(OSP$AWARD_AMOUNT_INFO.AMOUNT_SEQUENCE_NUMBER is NULL ))
				AND ( OSP$AWARD.MIT_AWARD_NUMBER = OSP$AWARD_HEADER.MIT_AWARD_NUMBER)
				AND ( OSP$AWARD.SEQUENCE_NUMBER = OSP$AWARD_HEADER.SEQUENCE_NUMBER)
				AND ( OSP$AWARD.MIT_AWARD_NUMBER = OSP$AWARD_UNITS.MIT_AWARD_NUMBER)
				AND ( OSP$AWARD_UNITS.LEAD_UNIT_FLAG = 'Y')
				AND ( OSP$AWARD_UNITS.SEQUENCE_NUMBER IN (
				SELECT MAX(B.SEQUENCE_NUMBER)
				FROM OSP$AWARD_UNITS B
				WHERE B.MIT_AWARD_NUMBER =OSP$AWARD_UNITS.MIT_AWARD_NUMBER ))
				AND ( OSP$AWARD_UNITS.UNIT_NUMBER = OSP$UNIT.UNIT_NUMBER )
				AND ( OSP$UNIT.OSP_ADMINISTRATOR = OSP$PERSON.PERSON_ID (+) )
				AND ( OSP$AWARD.MIT_AWARD_NUMBER =
				OSP$AWARD_INVESTIGATORS.MIT_AWARD_NUMBER)
				AND ( OSP$AWARD_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y')
				AND ( OSP$AWARD_INVESTIGATORS.SEQUENCE_NUMBER IN (
				SELECT MAX(C.SEQUENCE_NUMBER)
				FROM OSP$AWARD_INVESTIGATORS C
				WHERE C.MIT_AWARD_NUMBER =OSP$AWARD_INVESTIGATORS. MIT_AWARD_NUMBER))
				AND (OSP$AWARD.MIT_AWARD_NUMBER IN (SELECT DISTINCT
				AWARD.MIT_AWARD_NUMBER
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$AWARD" alias="AWARD" />
			</FROM>
			<WHERE
				join="(AWARD.SEQUENCE_NUMBER = (SELECT MAX(A1.SEQUENCE_NUMBER)  FROM OSP$AWARD A1 WHERE AWARD.MIT_AWARD_NUMBER = A1.MIT_AWARD_NUMBER ))">
			</WHERE>
		</QUERY>
		<CRITERIA>
			<FIELD name="OSP$AWARD.SPONSOR_AWARD_NUMBER" alias="AWARD.SPONSOR_AWARD_NUMBER"
				datatype="string" webSize="10" size="120" />
			<FIELD name="OSP$AWARD.MIT_AWARD_NUMBER" alias="AWARD.MIT_AWARD_NUMBER"
				datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$AWARD.ACCOUNT_NUMBER" alias="AWARD.ACCOUNT_NUMBER"
				datatype="string" webSize="10" size="100" />
			<FIELD name="OSP$AWARD.STATUS_CODE" alias="AWARD.STATUS_CODE"
				datatype="number" webSize="10" size="100" />
			<!--<FIELD name="OSP$SPONSOR.SPONSOR_CODE" alias="AWARD.SPONSOR_CODE" 
				datatype="string" table="OSP$SPONSOR SPONSOR" join="AWARD.SPONSOR_CODE = 
				SPONSOR.SPONSOR_CODE" webSize="10" size="100"/> -->
			<FIELD name="OSP$SPONSOR.SPONSOR_CODE" alias="AWARD.SPONSOR_CODE"
				datatype="string" table="OSP$SPONSOR SPONSORCODE"
				join="AWARD.SPONSOR_CODE = SPONSORCODE.SPONSOR_CODE" webSize="10"
				size="100" />
			<FIELD name="SPONSOR.SPONSOR_NAME" datatype="string"
				table="OSP$SPONSOR SPONSOR" join="AWARD.SPONSOR_CODE = SPONSOR.SPONSOR_CODE"
				webSize="15" size="100" />
			<FIELD name="OSP$AWARD_HEADER.TITLE" alias="HEADER.TITLE"
				datatype="string" table="OSP$AWARD_HEADER HEADER"
				join="(AWARD.MIT_AWARD_NUMBER = HEADER.MIT_AWARD_NUMBER) AND ( HEADER.SEQUENCE_NUMBER IN ( SELECT MAX(HEADER1.SEQUENCE_NUMBER)
FROM OSP$AWARD_HEADER HEADER1 WHERE HEADER1.MIT_AWARD_NUMBER = HEADER.MIT_AWARD_NUMBER)) "
				webSize="20" size="100" />
			<FIELD name="OSP$AWARD_INVESTIGATORS.PERSON_NAME" alias="INV.PERSON_NAME"
				datatype="string" table="OSP$AWARD_INVESTIGATORS INV"
				join="( AWARD.MIT_AWARD_NUMBER = INV.MIT_AWARD_NUMBER) AND ( INV.SEQUENCE_NUMBER IN ( SELECT MAX(INV1.SEQUENCE_NUMBER)
 FROM OSP$AWARD_INVESTIGATORS INV1 WHERE INV1.MIT_AWARD_NUMBER =INV.MIT_AWARD_NUMBER))"
				webSize="20" size="100" />
			<!-- Modified COEUSDEV-225 : institutional proposal searching is wicked 
				slow <FIELD name="OSP$AWARD_UNITS.UNIT_NUMBER" alias="AWU.UNIT_NUMBER" datatype="string" 
				table="OSP$AWARD_UNITS AWU" join="(AWARD.MIT_AWARD_NUMBER = AWU.MIT_AWARD_NUMBER) 
				AND ( AWU.SEQUENCE_NUMBER IN ( SELECT MAX(AWU1.SEQUENCE_NUMBER) FROM OSP$AWARD_UNITS 
				AWU1 WHERE AWU1.MIT_AWARD_NUMBER =AWU.MIT_AWARD_NUMBER ))" webSize="10" size="100"/> -->
			<FIELD name="OSP$AWARD_UNITS.UNIT_NUMBER" alias="AWU.UNIT_NUMBER"
				datatype="string" table="OSP$AWARD_UNITS AWU"
				join="(AWARD.MIT_AWARD_NUMBER = AWU.MIT_AWARD_NUMBER)  AND ( AWU.SEQUENCE_NUMBER IN ( SELECT MAX(AWU1.SEQUENCE_NUMBER)
				FROM OSP$AWARD_UNITS AWU1 WHERE AWU1.MIT_AWARD_NUMBER =AWU.MIT_AWARD_NUMBER AND AWU.LEAD_UNIT_FLAG = 'Y'))"
				webSize="10" size="100" />
			<FIELD name="OSP$UNIT.UNIT_NAME" alias="UNIT.UNIT_NAME"
				datatype="string" table="OSP$UNIT UNIT"
				join="OSP$AWARD_UNITS.UNIT_NUMBER = UNIT.UNIT_NUMBER" webSize="15"
				size="100" />
			<FIELD name="OSP$AWARD.OSP_ADMINISTRATOR" alias="OSP$PERSON.FULL_NAME"
				datatype="string" table="OSP$PERSON PERSON"
				join="OSP$UNIT.OSP_ADMINISTRATOR = PERSON.PERSON_ID" webSize="15"
				size="100" />

		</CRITERIA>
		<PROCEDURE name="dw_get_award_list_forquery">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<!-- Note that for current CoeusWeb version, MIT_AWARD_NUMBER must be 
				first display field -->
			<FIELD name="MIT_AWARD_NUMBER">Award Number</FIELD>
			<FIELD name="SPONSOR_AWARD_NUMBER">Sponsor Award Number</FIELD>
			<FIELD name="UNIT_NUMBER">Lead Unit</FIELD>
			<FIELD name="UNIT_NAME">Lead Unit Name</FIELD>
			<!-- JM 5-27-2011 changed account to center per 4.4.2 -->
			<FIELD name="ACCOUNT_NUMBER">Center Number</FIELD>
			<!-- JM END -->
			<FIELD name="DESCRIPTION">Status</FIELD>
			<FIELD name="TITLE">Title</FIELD>
			<FIELD name="SPONSOR_CODE">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_NAME">Sponsor Name</FIELD>
			<FIELD name="PERSON_NAME">Principal Investigator</FIELD>
			<FIELD name="FULL_NAME" size="150">OSP Administrator</FIELD>
			<FIELD name="AMOUNT_OBLIGATED_TO_DATE" size="150" datatype="number">Obligated
				Amount</FIELD>
			<FIELD name="ANTICIPATED_TOTAL_AMOUNT" size="150" datatype="number">Anticipated
				Total Amount</FIELD>
			<FIELD name="OBLI_DISTRIBUTABLE_AMOUNT" size="150" datatype="number">Obligated
				Dist. Amount</FIELD>
			<FIELD name="ANT_DISTRIBUTABLE_AMOUNT" size="150" datatype="number">Anticipated
				Dist. Amount</FIELD>
			<FIELD name="AWARD_EFFECTIVE_DATE" size="150" datatype="date">Award
				Eff. Date</FIELD>
			<FIELD name="OBLIGATION_EXPIRATION_DATE" size="200" datatype="date">Obligation
				Expiration Date</FIELD>
			<FIELD name="FINAL_EXPIRATION_DATE" size="200" datatype="date">Final
				Expiration Date</FIELD>
		</DISPLAY>
		<!-- The sesction where we can specify any query string to be appended 
			after the formation of the where clause. -->
		<REMCLAUSE>)) order by OSP$AWARD.MIT_AWARD_NUMBER</REMCLAUSE>
	</ALL_AWARD_SEARCH>


	<!-- Award new Serach for CoeusLite end -->

	<!-- Select Person Search for CoeusLite Start -->

	<!-- Define elements for person search -->
	<!--<ALL_PERSON_SEARCH display="Person Search" retrievelimit="500"> -->
	<ALL_PERSON_SEARCH display="Person Search"
		retrievelimit="PERSON_RETRIEVE_LIMIT" primarykeycolumn="OSP$PERSON.PERSON_ID">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>SELECT
				OSP$PERSON.PERSON_ID,OSP$PERSON.FULL_NAME,OSP$PERSON.LAST_NAME,
				OSP$PERSON.FIRST_NAME,OSP$PERSON.PRIOR_NAME,OSP$PERSON.USER_NAME,OSP$PERSON.EMAIL_ADDRESS,
				OSP$PERSON.HOME_UNIT,OSP$UNIT.UNIT_NAME,OSP$PERSON.SCHOOL,OSP$PERSON.DIRECTORY_TITLE,
				OSP$PERSON.OFFICE_LOCATION,OSP$PERSON.OFFICE_PHONE,OSP$PERSON.IS_FACULTY,
				OSP$PERSON.SECONDRY_OFFICE_PHONE,OSP$PERSON.SECONDRY_OFFICE_LOCATION,
				to_char(OSP$PERSON.SALARY_ANNIVERSARY_DATE,
				'USER_DEFINED_DATE_FORMAT') SALARY_ANNIVERSARY_DATE
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$PERSON" />
				<TABLE name="OSP$UNIT" />
			</FROM>
			<!-- The default joins should be specified in this section. The value 
				of the join attribute should be appended in the where clause while forming 
				a query. -->
			<WHERE join="OSP$PERSON.HOME_UNIT = OSP$UNIT.UNIT_NUMBER(+)" />
		</QUERY>
		<!-- CASE #1201 Begin -->
		<ORDERBY>OSP$PERSON.FULL_NAME</ORDERBY>
		<!-- CASE #1201 End -->
		<!-- All the elements for the search criteria should be specified in this 
			section. There should be a corresponding entry for COLUMN element for each 
			FIELD element in this section. All the fields specified here will be displayed 
			as search criterias in the CoeusSearch.jsp file. Mainly two types of data 
			types can come here. 1) string 2) number If we want to use any specific alias 
			and joins, it should be specified as attributes of each FIELD element. -->
		<CRITERIA>
			<!-- <FIELD name="OSP$PERSON.PERSON_ID" datatype="string" webSize="10" 
				size="100"/> -->

			<FIELD name="OSP$PERSON.LAST_NAME" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$PERSON.FIRST_NAME" datatype="string" webSize="10"
				size="100" />
			<!-- <FIELD name="OSP$PERSON.PRIOR_NAME" datatype="string" webSize="10" 
				size="100"/> -->
			//Handle
			<FIELD name="OSP$PERSON.FULL_NAME" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$PERSON.USER_NAME" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$PERSON.EMAIL_ADDRESS" datatype="string"
				webSize="13" size="120" />
			<FIELD name="OSP$PERSON.HOME_UNIT" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$UNIT.UNIT_NAME" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$PERSON.SCHOOL" datatype="string" webSize="10"
				size="100" />
			<FIELD name="OSP$PERSON.DIRECTORY_TITLE" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$PERSON.OFFICE_LOCATION" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$PERSON.OFFICE_PHONE" datatype="string"
				webSize="10" size="100" />

		</CRITERIA>
		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="dw_get_person_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<!-- Updated by Raghunath P.V. for implementing Department Person -->
			<!-- <FIELD name="PERSON_ID" size="100">Person Id</FIELD> -->
			<!-- Added for CoeusWeb -->
			<FIELD name="PERSON_ID" visible="false">Person Id</FIELD>
			<!-- End added for CoeusWeb -->
			<FIELD name="FULL_NAME" size="100">Full Name</FIELD>
			<FIELD name="PRIOR_NAME" size="100">Prior Name</FIELD>
			<FIELD name="USER_NAME" size="100">User Name</FIELD>
			<FIELD name="HOME_UNIT" size="100">Home Unit</FIELD>
			<!-- JM 5-24-2011 added unit name per 4.4.2 -->
			<FIELD name="UNIT_NAME" size="100">UNIT_NAME</FIELD>
			<!-- JM END -->
			<FIELD name="SCHOOL" size="100">School</FIELD>
			<FIELD name="EMAIL_ADDRESS" size="100">Email Address</FIELD>
			<FIELD name="DIRECTORY_TITLE" size="100">Directory Title</FIELD>
			<FIELD name="OFFICE_LOCATION" size="100">Office Location</FIELD>
			<FIELD name="OFFICE_PHONE" size="100">Office Phone</FIELD>
			<FIELD name="IS_FACULTY">Faculty</FIELD>
			<FIELD name="SECONDRY_OFFICE_LOCATION" size="100">Sec. Office
				Location</FIELD>
			<FIELD name="SECONDRY_OFFICE_PHONE" size="100">Sec. Office Phone</FIELD>
			<FIELD name="PERSON_ID" visible="false">Person Id</FIELD>
			<FIELD name="SALARY_ANNIVERSARY_DATE" visible="false" datatype="date">Salary
				Anniv Date</FIELD>
		</DISPLAY>
		<DEFAULTSELECT>
			<ID>
				PERSON_ID
			</ID>
			<NAME>
				FULL_NAME
			</NAME>
		</DEFAULTSELECT>
	</ALL_PERSON_SEARCH>


	<!-- Select Person Search for CoeusLite End -->

	<!-- All_ProposalDevSearchNoRoles for CoeusLite start -->
	<!-- JM 7-21-2015 This is the search that is used when Proposal Search is 
		clicked -->
	<!--<PROPOSALDEVSEARCHNOROLES display="Development Proposal Search" retrievelimit="500"> -->
	<ALL_PROPOSALDEVSEARCHNOROLES display="Development Proposal Search"
		retrievelimit="PROPOSAL_DEV_RETRIEVE_LIMIT" primarykeycolumn="P.PROPOSAL_NUMBER">

		<QUERY>
			<!--P.CREATION_STATUS_CODE, --><!--AS STATUS -->
			<SELECTQUERY>
				SELECT
				DISTINCT P.PROPOSAL_NUMBER,
				P.PROPOSAL_TYPE_CODE,
				PT.DESCRIPTION TYPE,
				P.CREATION_STATUS_CODE AS CREATION_CODE,
				to_char(P.DEADLINE_DATE,'USER_DEFINED_DATE_FORMAT') "DEADLINE_DATE",
				PI.PERSON_NAME,
				U.UNIT_NUMBER,
				U.UNIT_NAME,
				DECODE(P.CREATION_STATUS_CODE, 1, 'In Progress' , 2,'Approval In Progress',
				3, 'Rejected', 4,'Approved', 5,'Submitted', 6, 'Post-Submission
				Approval',
				7, 'Post-Submission Rejection', 8, 'Recalled') "CREATION_STATUS_CODE"
				,
				P.TITLE,
				P.SPONSOR_CODE,
				S.SPONSOR_NAME,
				P.CURRENT_ACCOUNT_NUMBER,
				/* JM 5-27-2011 add program announcement and title per 4.4.2 */
				P.PROGRAM_ANNOUNCEMENT_NUMBER,
				P.PROGRAM_ANNOUNCEMENT_TITLE,
				/* JM END */
				P.TEMPLATE_FLAG,
				P.STATUS_CODE
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$EPS_PROPOSAL" alias="P" />
				<TABLE name="OSP$PROPOSAL_TYPE" alias="PT" />
				<TABLE name="OSP$EPS_PROP_INVESTIGATORS" alias="PI" />
				<TABLE name="OSP$EPS_PROP_INVESTIGATORS" alias="I" />
				<TABLE name="OSP$UNIT" alias="U" />
				<TABLE name="OSP$SPONSOR" alias="S" />
			</FROM>
			<!-- JM 5-24-2011 added condition to exclude DELETES per 4.4.2; 7-21-2015 
				removed DELETE filter and moved to REMCLAUSE -->
			<WHERE
				join="P.SPONSOR_CODE = S.SPONSOR_CODE(+)
                            AND P.PROPOSAL_TYPE_CODE = PT.PROPOSAL_TYPE_CODE
                            AND P.PROPOSAL_NUMBER = PI.PROPOSAL_NUMBER(+)
                            AND P.PROPOSAL_NUMBER = I.PROPOSAL_NUMBER(+)
                            AND P.OWNED_BY_UNIT = U.UNIT_NUMBER (+)
                            AND ( PI.PRINCIPAL_INVESTIGATOR_FLAG = 'Y'
                                    OR PI.PRINCIPAL_INVESTIGATOR_FLAG IS NULL )
                         ">
			</WHERE>
		</QUERY>
		<CRITERIA>
			<FIELD name="P.PROPOSAL_NUMBER" datatype="string" webSize="10"
				size="100" />

			<FIELD name="P.PROPOSAL_TYPE_CODE" datatype="string" webSize="10"
				size="140" />

			<FIELD name="P.CREATION_STATUS_CODE" datatype="number" webSize="10"
				size="110" />

			<FIELD name="P.DEADLINE_DATE" datatype="date" webSize="10"
				size="100" />

			<!-- <FIELD name="PI.PERSON_NAME" webSize="20" size="100" join="(P.PROPOSAL_NUMBER 
				= PI.PROPOSAL_NUMBER)"/> -->
			<FIELD name="I.PERSON_NAME" webSize="20" size="100"
				join="(P.PROPOSAL_NUMBER = I.PROPOSAL_NUMBER)" />

			<FIELD name="U.UNIT_NUMBER" datatype="string" webSize="10"
				size="100" />

			<FIELD name="U.UNIT_NAME" datatype="string" webSize="15" size="100" />

			<!-- <FIELD name="OSP$UNIT.UNIT_NAME" datatype="string" webSize="15" size="100" 
				table="OSP$UNIT UNIT, OSP$EPS_PROP_UNITS PU" join="(P.OWNED_BY_UNIT = UNIT.UNIT_NUMBER) 
				AND (P.PROPOSAL_NUMBER = PU.PROPOSAL_NUMBER)"/> -->

			<FIELD name="P.TITLE" datatype="string" webSize="10" size="100" />

			<FIELD name="P.SPONSOR_CODE" datatype="string" webSize="10"
				size="100" />

			<FIELD name="SPONSOR.SPONSOR_NAME" datatype="string" webSize="15"
				size="100" table="OSP$SPONSOR SPONSOR" join="P.SPONSOR_CODE = SPONSOR.SPONSOR_CODE" />

			<FIELD name="P.CURRENT_ACCOUNT_NUMBER" datatype="string"
				webSize="10" size="100" />

			<!-- JM 5-27-2011 add program announcement and title per 4.4.2 -->
			<FIELD name="P.PROGRAM_ANNOUNCEMENT_NUMBER" datatype="string"
				websize="10" size="100" />
			<FIELD name="P.PROGRAM_ANNOUNCEMENT_TITLE" datatype="string"
				websize="15" size="100" />
			<!-- JM END -->
			<!-- <FIELD name="P.TEMPLATE_FLAG" datatype="string" webSize="10" size="0"/> -->

		</CRITERIA>
		<PROCEDURE name="dw_get_inst_props_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="PROPOSAL_NUMBER" size="100">Proposal Number</FIELD>
			<FIELD name="TYPE" size="100">Type</FIELD>
			<FIELD name="CREATION_STATUS_CODE" size="100">Status</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="UNIT_NUMBER" size="100">Lead Unit</FIELD>
			<FIELD name="UNIT_NAME" size="100">Lead Unit Name</FIELD>
			<FIELD name="PERSON_NAME" size="100">PI</FIELD>
			<FIELD name="DEADLINE_DATE" size="100" datatype="date">Deadline Date</FIELD>
			<FIELD name="SPONSOR_CODE" size="100">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_NAME" size="100">Sponsor Name</FIELD>
			<!-- JM 5-27-2011 add program announcement and title per 4.4.2 -->
			<FIELD name="PROGRAM_ANNOUNCEMENT_NUMBER" size="100">Opp ID</FIELD>
			<FIELD name="PROGRAM_ANNOUNCEMENT_TITLE" size="100">Program Title</FIELD>
			<!-- JM END -->
			<FIELD name="PROPOSAL_NUMBER" visible="false">proposal_number</FIELD>
			<FIELD name="PROPOSAL_TYPE_CODE" visible="false">proposal_type_code</FIELD>
			<FIELD name="STATUS_CODE" visible="false">status_code</FIELD>
			<FIELD name="CREATION_CODE" visible="false">creation_status_code</FIELD>
			<FIELD name="TITLE" visible="false">title</FIELD>
			<FIELD name="UNIT_NUMBER" visible="false">owned_by_unit</FIELD>
			<FIELD name="UNIT_NAME" visible="false">unit_name</FIELD>
			<FIELD name="PERSON_NAME" visible="false">person_name</FIELD>
			<FIELD name="DEADLINE_DATE" visible="false" datatype="date">deadline_date</FIELD>
			<FIELD name="SPONSOR_CODE" visible="false">sponsor_code</FIELD>
			<FIELD name="SPONSOR_NAME" visible="false">sponsor_name</FIELD>
			<FIELD name="TEMPLATE_FLAG" visible="false">template_flag</FIELD>
		</DISPLAY>
		<!--<REMCLAUSE> AND P.PROPOSAL_NUMBER IN ( SELECT DISTINCT PROP.PROPOSAL_NUMBER 
			FROM OSP$EPS_PROPOSAL PROP WHERE ( PROP.PROPOSAL_NUMBER IN ( SELECT DISTINCT 
			OSP$EPS_PROP_USER_ROLES.PROPOSAL_NUMBER FROM OSP$EPS_PROP_USER_ROLES WHERE 
			UPPER(OSP$EPS_PROP_USER_ROLES.USER_ID) = 'COEUS' AND OSP$EPS_PROP_USER_ROLES.ROLE_ID 
			IN () ) OR ( FN_USER_HAS_ANY_OSP_RIGHT('COEUS') = 1 AND PROP.CREATION_STATUS_CODE 
			IN (2, 4, 5) ) ) ) </REMCLAUSE> -->
		<REMCLAUSE>

			/* JM 7-21-2015 added DELETE filter based on permissions */
			AND (
			(upper(P.TITLE) != 'DELETE'
			AND P.TITLE IS NOT NULL
			AND NOT REGEXP_LIKE(upper(P.TITLE),'\s*DELETE\s+')
			AND upper(P.TITLE) NOT LIKE '%DELETE'
			)
			)
			/* END */
			ORDER BY P.PROPOSAL_NUMBER DESC
		</REMCLAUSE>
	</ALL_PROPOSALDEVSEARCHNOROLES>

	<!-- All_ProposalDevSearchNoRoles for CoeusLite End -->

	<!--Proposal in progress Search for CoeusLite start -->
	<!-- JM 7-21-2015 This is the search that loads My Proposals: Proposals 
		In Progress tab default list -->
	<PROPOSAL_INPROGRESS display="Proposals In Progress"
		retrievelimit="PROPOSAL_RETRIEVE_LIMIT" primarykeycolumn="OSP$EPS_PROPOSAL.PROPOSAL_NUMBER">
		<QUERY>
			<!-- Select query -->

			<SELECTQUERY>
				SELECT OSP$EPS_PROPOSAL.PROPOSAL_NUMBER AS PROPOSAL_NUMBER,
				OSP$PROPOSAL_TYPE.DESCRIPTION AS PROPOSAL_TYPE_DESC,
				OSP$EPS_PROPOSAL_STATUS.DESCRIPTION AS CREATION_STATUS_DESC,
				OSP$EPS_PROPOSAL.TITLE AS TITLE,
				OSP$EPS_PROP_UNITS.UNIT_NUMBER AS UNIT_NUMBER,
				OSP$UNIT.UNIT_NAME AS UNIT_NAME,
				OSP$EPS_PROP_INVESTIGATORS.PERSON_NAME AS PRINCIPAL_INVESTIGATOR,
				TO_CHAR(OSP$EPS_PROPOSAL.DEADLINE_DATE,'USER_DEFINED_DATE_FORMAT')
				AS DEADLINE_DATE,
				OSP$EPS_PROPOSAL.SPONSOR_CODE AS SPONSOR_CODE,
				OSP$SPONSOR.SPONSOR_NAME AS SPONSOR_NAME
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$EPS_PROPOSAL" />
				<TABLE name="OSP$EPS_PROPOSAL_STATUS" />
				<TABLE name="OSP$PROPOSAL_TYPE" />
				<TABLE name="OSP$EPS_PROP_INVESTIGATORS" />
				<TABLE name="OSP$EPS_PROP_UNITS" />
				<TABLE name="OSP$UNIT" />
				<TABLE name="OSP$SPONSOR" />
			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="OSP$EPS_PROPOSAL.CREATION_STATUS_CODE in  (1, 2, 3, 8)
                            AND OSP$EPS_PROPOSAL.PROPOSAL_TYPE_CODE = OSP$PROPOSAL_TYPE.PROPOSAL_TYPE_CODE
                            AND    OSP$EPS_PROPOSAL.CREATION_STATUS_CODE = OSP$EPS_PROPOSAL_STATUS.STATUS_CODE
                            AND    OSP$EPS_PROPOSAL.PROPOSAL_NUMBER = OSP$EPS_PROP_INVESTIGATORS.PROPOSAL_NUMBER (+)
                            AND    OSP$EPS_PROPOSAL.PROPOSAL_NUMBER = OSP$EPS_PROP_UNITS.PROPOSAL_NUMBER (+)
                            AND    OSP$EPS_PROP_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG (+) = 'Y'
                            AND    OSP$EPS_PROP_UNITS.LEAD_UNIT_FLAG (+) = 'Y'
                            AND    OSP$EPS_PROPOSAL.SPONSOR_CODE  = OSP$SPONSOR.SPONSOR_CODE (+)
                            AND    OSP$EPS_PROP_UNITS.UNIT_NUMBER = OSP$UNIT.UNIT_NUMBER (+)
/* JM 5-27-2011 added condition to exclude DELETES per 4.4.2; 7-21-2015 removed DELETE filter and moved to REMCLAUSE
			    			AND (upper(OSP$EPS_PROPOSAL.TITLE) not like '%DELETE%' or OSP$EPS_PROPOSAL.TITLE is NULL)*/" />
			<!-- The value of the join attribute should be appended in the where clause 
				while forming a query. -->
		</QUERY>

		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="dw_get_inst_props_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<FIELD name="PROPOSAL_NUMBER" size="100">Proposal Number</FIELD>
			<FIELD name="CREATION_STATUS_DESC" size="100">Status</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="UNIT_NUMBER" size="100">Lead Unit</FIELD>
			<FIELD name="PRINCIPAL_INVESTIGATOR" size="100">PI</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			AND OSP$EPS_PROPOSAL.PROPOSAL_NUMBER IN ( SELECT DISTINCT
			PROPOSAL_NUMBER
			FROM OSP$EPS_PROP_USER_ROLES
			WHERE UPPER(USER_ID)= UPPER('COEUS')
			AND OSP$EPS_PROP_USER_ROLES.ROLE_ID IN ('100','101','103','102','104')
			union
			select distinct osp$eps_prop_investigators.proposal_number
			from osp$eps_prop_investigators, osp$person
			where osp$eps_prop_investigators.person_id = osp$person.person_id
			and upper(osp$person.user_name) = upper('COEUS'))

			/* JM 7-21-2015 added DELETE filter based on permissions */
			AND (
			((upper(OSP$EPS_PROPOSAL.TITLE) != 'DELETE'
			AND OSP$EPS_PROPOSAL.TITLE IS NOT NULL
			AND NOT REGEXP_LIKE(upper(OSP$EPS_PROPOSAL.TITLE),'\s*DELETE\s+')
			AND upper(OSP$EPS_PROPOSAL.TITLE) NOT LIKE '%DELETE')
			)
			)
			/* END */

			ORDER BY OSP$EPS_PROPOSAL.PROPOSAL_NUMBER DESC
		</REMCLAUSE>
	</PROPOSAL_INPROGRESS>
	<!--Proposal in progress Search for CoeusLite end -->

	<!--ALL_PROPOSALS_SEARCH for CoeusLite Start -->
	<!-- JM 7-21-2015 This is the search that loads My Proposals: All Proposals 
		tab default list -->
	<ALL_PROPOSALS_SEARCH display="All Proposals"
		retrievelimit="PROPOSAL_RETRIEVE_LIMIT" primarykeycolumn="OSP$EPS_PROPOSAL.PROPOSAL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT OSP$EPS_PROPOSAL.PROPOSAL_NUMBER AS PROPOSAL_NUMBER,
				OSP$PROPOSAL_TYPE.DESCRIPTION AS PROPOSAL_TYPE_DESC,
				OSP$EPS_PROPOSAL_STATUS.DESCRIPTION AS CREATION_STATUS_DESC,
				OSP$EPS_PROPOSAL.TITLE AS TITLE,
				OSP$EPS_PROP_UNITS.UNIT_NUMBER AS UNIT_NUMBER,
				OSP$UNIT.UNIT_NAME AS UNIT_NAME,
				OSP$EPS_PROP_INVESTIGATORS.PERSON_NAME AS PRINCIPAL_INVESTIGATOR,
				TO_CHAR(OSP$EPS_PROPOSAL.DEADLINE_DATE,'USER_DEFINED_DATE_FORMAT')
				AS DEADLINE_DATE,
				OSP$EPS_PROPOSAL.SPONSOR_CODE AS SPONSOR_CODE,
				OSP$SPONSOR.SPONSOR_NAME AS SPONSOR_NAME
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$EPS_PROPOSAL" />
				<TABLE name="OSP$EPS_PROPOSAL_STATUS" />
				<TABLE name="OSP$PROPOSAL_TYPE" />
				<TABLE name="OSP$EPS_PROP_INVESTIGATORS" />
				<TABLE name="OSP$EPS_PROP_UNITS" />
				<TABLE name="OSP$UNIT" />
				<TABLE name="OSP$SPONSOR" />
			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="OSP$EPS_PROPOSAL.CREATION_STATUS_CODE in (1,2,3,4,5,6,7,8)
                            AND OSP$EPS_PROPOSAL.PROPOSAL_TYPE_CODE = OSP$PROPOSAL_TYPE.PROPOSAL_TYPE_CODE
                            AND    OSP$EPS_PROPOSAL.CREATION_STATUS_CODE = OSP$EPS_PROPOSAL_STATUS.STATUS_CODE
                            AND    OSP$EPS_PROPOSAL.PROPOSAL_NUMBER = OSP$EPS_PROP_INVESTIGATORS.PROPOSAL_NUMBER (+)
                            AND    OSP$EPS_PROPOSAL.PROPOSAL_NUMBER = OSP$EPS_PROP_UNITS.PROPOSAL_NUMBER (+)
                            AND    OSP$EPS_PROP_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG (+) = 'Y'
                            AND    OSP$EPS_PROP_UNITS.LEAD_UNIT_FLAG (+) = 'Y'
                            AND    OSP$EPS_PROPOSAL.SPONSOR_CODE  = OSP$SPONSOR.SPONSOR_CODE (+)
                            AND    OSP$EPS_PROP_UNITS.UNIT_NUMBER = OSP$UNIT.UNIT_NUMBER (+)
/* JM 5-27-2011 added condition to exclude DELETES per 4.4.2; 7-21-2015 removed DELETE filter and moved to REMCLAUSE
			    			AND (upper(OSP$EPS_PROPOSAL.TITLE) not like '%DELETE%' or OSP$EPS_PROPOSAL.TITLE is NULL)*/" />
			<!-- The value of the join attribute should be appended in the where clause 
				while forming a query. -->
		</QUERY>

		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="dw_get_inst_props_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<FIELD name="PROPOSAL_NUMBER" size="100">Proposal Number</FIELD>
			<FIELD name="CREATION_STATUS_DESC" size="100">Status</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="UNIT_NUMBER" size="100">Lead Unit</FIELD>
			<FIELD name="PRINCIPAL_INVESTIGATOR" size="100">PI</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			AND OSP$EPS_PROPOSAL.PROPOSAL_NUMBER IN ( SELECT DISTINCT
			PROPOSAL_NUMBER
			FROM OSP$EPS_PROP_USER_ROLES
			WHERE UPPER(USER_ID)= UPPER('COEUS')
			AND OSP$EPS_PROP_USER_ROLES.ROLE_ID IN ('100','101','103','102','104')
			union
			select distinct osp$eps_prop_investigators.proposal_number
			from osp$eps_prop_investigators, osp$person
			where osp$eps_prop_investigators.person_id = osp$person.person_id
			and upper(osp$person.user_name) = upper('COEUS'))

			/* JM 7-21-2015 added DELETE filter based on permissions */
			AND (
			((upper(OSP$EPS_PROPOSAL.TITLE) != 'DELETE'
			AND OSP$EPS_PROPOSAL.TITLE IS NOT NULL
			AND NOT REGEXP_LIKE(upper(OSP$EPS_PROPOSAL.TITLE),'\s*DELETE\s+')
			AND upper(OSP$EPS_PROPOSAL.TITLE) NOT LIKE '%DELETE')
			)
			)
			/* END */

			ORDER BY OSP$EPS_PROPOSAL.PROPOSAL_NUMBER DESC
		</REMCLAUSE>
	</ALL_PROPOSALS_SEARCH>
	<!--ALL_PROPOSALS_SEARCH for CoeusLite end -->
	<!-- Search for the Questionnaire -->
	<QUESTIONNAIRE_SEARCH display="Questionnaire"
		retrievelimit="QUESTIONNAIRE_RETRIEVE_LIMIT" primarykeycolumn="OSP$QUESTIONNAIRE.QUESTIONNAIRE_ID">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT OSP$QUESTIONNAIRE.QUESTIONNAIRE_ID,
				OSP$QUESTIONNAIRE.NAME,
				OSP$QUESTIONNAIRE.DESCRIPTION
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$QUESTIONNAIRE" />
			</FROM>
		</QUERY>

		<CRITERIA>
			<FIELD name="OSP$QUESTIONNAIRE.QUESTIONNAIRE_ID" datatype="number"
				size="100" />
			<FIELD name="OSP$QUESTIONNAIRE.NAME" datatype="string" size="200" />
			<FIELD name="OSP$QUESTIONNAIRE.DESCRIPTION" datatype="string"
				size="280" />
		</CRITERIA>

		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="dw_get_inst_props_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<FIELD name="QUESTIONNAIRE_ID" size="120" datatype="number">Questionnaire
				Id</FIELD>
			<FIELD name="NAME" size="350">Name</FIELD>
			<FIELD name="DESCRIPTION" size="780">Description</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			ORDER BY OSP$QUESTIONNAIRE.QUESTIONNAIRE_ID
		</REMCLAUSE>
	</QUESTIONNAIRE_SEARCH>

	<!--Addded for Case#4447 : FS_Next phase of COI enhancements - Start -->
	<DISCLOSURE_SEARCH display="DISCLOSURE"
		retrievelimit="DISCLOSURE" primarykeycolumn="OSP$PERSON_DISCLOSURE.COI_DISCLOSURE_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT OSP$PERSON_DISCLOSURE.COI_DISCLOSURE_NUMBER,
				OSP$COI_DISCLOSURE_STATUS.DESCRIPTION AS DISCLOSURE_STATUS,
				OSP$PERSON.FULL_NAME AS PERSON_NAME,
				OSP$PERSON_DISCLOSURE.EXPIRATION_DATE
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$PERSON_DISCLOSURE" />
				<TABLE name="OSP$COI_DISCLOSURE_STATUS" />
				<TABLE name="OSP$PERSON" />
				<TABLE name="OSP$USER" />
			</FROM>
			<WHERE
				join="OSP$PERSON_DISCLOSURE.SEQUENCE_NUMBER IN ( SELECT MAX(PD.SEQUENCE_NUMBER)
                     FROM OSP$PERSON_DISCLOSURE PD
                     WHERE PD.COI_DISCLOSURE_NUMBER = OSP$PERSON_DISCLOSURE.COI_DISCLOSURE_NUMBER
                     AND   PD.PERSON_ID = OSP$PERSON_DISCLOSURE.PERSON_ID)
                     AND   OSP$COI_DISCLOSURE_STATUS.COI_DISCLOSURE_STATUS_CODE = OSP$PERSON_DISCLOSURE.DISCLOSURE_STATUS_CODE
                     AND   OSP$PERSON_DISCLOSURE.PERSON_ID = OSP$PERSON.PERSON_ID
                     AND   OSP$PERSON.PERSON_ID = OSP$USER.PERSON_ID
                     AND   UPPER(OSP$PERSON.USER_NAME) = UPPER(OSP$USER.USER_ID)
                     AND   FN_USER_HAS_RIGHT( 'COEUS',OSP$PERSON.HOME_UNIT,'MAINTAIN_CONFLICT_OF_INTEREST') = 1" />
		</QUERY>
		<ORDERBY>OSP$PERSON_DISCLOSURE.COI_DISCLOSURE_NUMBER asc</ORDERBY>
		<CRITERIA>
			<FIELD name="OSP$PERSON_DISCLOSURE.COI_DISCLOSURE_NUMBER"
				datatype="number" webSize="30" size="300" />
			<FIELD name="OSP$COI_DISCLOSURE_STATUS.COI_DISCLOSURE_STATUS_CODE"
				datatype="string" webSize="30" size="300" />
			<FIELD name="OSP$PERSON.FULL_NAME" datatype="string" webSize="30"
				size="300" />
			<FIELD name="OSP$PERSON_DISCLOSURE.EXPIRATION_DATE" datatype="date"
				webSize="30" size="300" />
		</CRITERIA>
		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="COI_DISCLOSURE_NUMBER" size="300">Disclosure Number</FIELD>
			<FIELD name="DISCLOSURE_STATUS" size="300">Disclosure Status</FIELD>
			<FIELD name="PERSON_NAME" size="300">Person Name</FIELD>
			<FIELD name="EXPIRATION_DATE" size="300">Expiration Date</FIELD>
		</DISPLAY>
	</DISCLOSURE_SEARCH>

	<COLUMN name="OSP$PERSON_DISCLOSURE.COI_DISCLOSURE_NUMBER" type="number"
		label="Disclosure Number" />
	<COLUMN name="OSP$COI_DISCLOSURE_STATUS.COI_DISCLOSURE_STATUS_CODE"
		type="list" label="Disclosure Status" descritpionlabel="Description"
		codelabel="Code">
		<PROCEDURE name="GET_DISCLOSURE_STATUS" codeselectparam="COI_DISCLOSURE_STATUS_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="OSP$PERSON_DISCLOSURE.EXPIRATION_DATE" type="date"
		label="Expiration Date" />
	<!--Case : 4447 - END -->

	<!-- Question Search for Questionnaire Module -->
	<QUESTION_SEARCH display="Questions" retrievelimit="QUESTION"
		primarykeycolumn="OSP$QUESTION.QUESTION_ID">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT OSP$QUESTION.QUESTION_ID,
				OSP$QUESTION.QUESTION,
				OSP$QUESTION.MAX_ANSWERS,
				OSP$QUESTION.VALID_ANSWER,
				OSP$QUESTION.LOOKUP_NAME,
				OSP$QUESTION.ANSWER_DATA_TYPE,
				OSP$QUESTION.ANSWER_MAX_LENGTH,
				OSP$QUESTION.LOOKUP_GUI,
				OSP$QUESTION.UPDATE_TIMESTAMP,
				OSP$QUESTION.UPDATE_USER
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$QUESTION" />
			</FROM>

		</QUERY>

		<CRITERIA>
			<FIELD name="OSP$QUESTION.QUESTION_ID" datatype="number" size="100" />
			<FIELD name="OSP$QUESTION.QUESTION" datatype="string" size="300" />
			<FIELD name="OSP$QUESTION.MAX_ANSWERS" datatype="number" size="100" />
		</CRITERIA>

		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="dw_get_inst_props_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<FIELD name="QUESTION_ID" size="120" datatype="number">Question Id</FIELD>
			<FIELD name="QUESTION" size="700">Question</FIELD>
			<FIELD name="MAX_ANSWERS" size="300">Max Answers</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			ORDER BY OSP$QUESTION.QUESTION_ID
		</REMCLAUSE>
	</QUESTION_SEARCH>


	<!-- 3282: Reviewer View of Protocol materials - Start -->
	<!-- Modified for COEUSQA-2288 : Ability for Reviewer to mark Review Comments 
		complete and make recommendation - Start <REVIEWER_PROTOCOL_SEARCH display="All 
		My Reviews" retrievelimit="PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER"> 
		<QUERY> <SELECTQUERY> SELECT OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER, OSP$SUBMISSION_TYPE.DESCRIPTION 
		AS "SUBMISSION_TYPE", to_char(OSP$PROTOCOL_REVIEWERS.DUE_DATE,'yyyy/MM/dd') 
		"DUE_DATE", OSP$PROTOCOL.SEQUENCE_NUMBER, OSP$PROTOCOL_SUBMISSION.SUBMISSION_NUMBER, 
		OSP$PROTOCOL.TITLE, OSP$PROTOCOL_INVESTIGATORS.PERSON_NAME AS "PI", OSP$SUBMISSION_STATUS.DESCRIPTION 
		AS "SUBMISSION_STATUS" </SELECTQUERY> <FROM> <TABLE name="OSP$PROTOCOL_SUBMISSION"/> 
		<TABLE name="OSP$PROTOCOL"/> <TABLE name="OSP$PROTOCOL_INVESTIGATORS"/> <TABLE 
		name="OSP$PROTOCOL_REVIEWERS"/> <TABLE name="OSP$SUBMISSION_STATUS"/> <TABLE 
		name="OSP$SUBMISSION_TYPE"/> </FROM> <WHERE join ="OSP$SUBMISSION_TYPE.SUBMISSION_TYPE_CODE 
		= OSP$PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE AND OSP$PROTOCOL_SUBMISSION.SEQUENCE_NUMBER 
		IN ( SELECT MAX(PS.SEQUENCE_NUMBER) FROM OSP$PROTOCOL_SUBMISSION PS WHERE 
		PS.PROTOCOL_NUMBER = OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER) AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_NUMBER 
		IN ( SELECT MAX(PROTO_SUB.SUBMISSION_NUMBER) FROM OSP$PROTOCOL_SUBMISSION 
		PROTO_SUB WHERE PROTO_SUB.PROTOCOL_NUMBER = OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER 
		AND PROTO_SUB.SEQUENCE_NUMBER = OSP$PROTOCOL_SUBMISSION.SEQUENCE_NUMBER ) 
		AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER 
		AND OSP$PROTOCOL.SEQUENCE_NUMBER IN ( SELECT MAX(P.SEQUENCE_NUMBER) FROM 
		OSP$PROTOCOL P WHERE P.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER) AND 
		OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER 
		AND OSP$PROTOCOL_INVESTIGATORS.SEQUENCE_NUMBER IN ( SELECT MAX(PI.SEQUENCE_NUMBER) 
		FROM OSP$PROTOCOL_INVESTIGATORS PI WHERE PI.PROTOCOL_NUMBER = OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER) 
		AND OSP$PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y' AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER 
		= OSP$PROTOCOL_REVIEWERS.PROTOCOL_NUMBER AND OSP$PROTOCOL_SUBMISSION.SEQUENCE_NUMBER 
		= OSP$PROTOCOL_REVIEWERS.SEQUENCE_NUMBER AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_NUMBER 
		= OSP$PROTOCOL_REVIEWERS.SUBMISSION_NUMBER AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE 
		= OSP$SUBMISSION_STATUS.SUBMISSION_STATUS_CODE AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE 
		IN (100, 101, 102, 213) " /> </QUERY> <PROCEDURE name="get_protocol_list_for_query"> 
		<PARAM name="query" datatype="String" direction="IN"/> <PARAM name="result" 
		datatype="Resultset" direction="OUT"/> </PROCEDURE> <DISPLAY> <FIELD name="PROTOCOL_NUMBER" 
		size="100" webSize="10">Protocol Number</FIELD> <FIELD name="TITLE" size="50" 
		webSize="30">Title</FIELD> <FIELD name="PI" size="30" webSize="10">PI</FIELD> 
		<FIELD name="SUBMISSION_STATUS" size="30" webSize="30">Submission Status</FIELD> 
		<FIELD name="DUE_DATE" size="30" datatype="date" webSize="10" >Due Date</FIELD> 
		<FIELD name="SUBMISSION_TYPE" size="30" webSize="10">Submission Type</FIELD> 
		<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence 
		Number</FIELD> <FIELD name="SUBMISSION_NUMBER" visible="false" datatype="number">Submission 
		Number</FIELD> </DISPLAY> <REMCLAUSE> AND OSP$PROTOCOL_REVIEWERS.PERSON_ID 
		IN (SELECT PERSON_ID FROM OSP$PERSON WHERE USER_NAME = 'COEUS') ORDER BY 
		OSP$PROTOCOL_SUBMISSION.SUBMISSION_DATE DESC </REMCLAUSE > </REVIEWER_PROTOCOL_SEARCH> -->

	<REVIEWER_REVIEW_COMPLETED_PROTOCOL_SEARCH
		display="Completed Reviews" retrievelimit="PROTOCOL_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">

		<QUERY>
			<SELECTQUERY>
				SELECT
				OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER,
				OSP$SUBMISSION_TYPE.DESCRIPTION AS "SUBMISSION_TYPE",
				to_char(OSP$PROTOCOL_REVIEWERS.DUE_DATE,'USER_DEFINED_DATE_FORMAT')
				"DUE_DATE",
				OSP$PROTOCOL.SEQUENCE_NUMBER,
				OSP$PROTOCOL_SUBMISSION.SUBMISSION_NUMBER,
				OSP$PROTOCOL.TITLE,
				OSP$PROTOCOL_INVESTIGATORS.PERSON_NAME AS "PI",
				OSP$SUBMISSION_STATUS.DESCRIPTION AS "SUBMISSION_STATUS",
				OSP$PROTOCOL_REVIEWERS.REVIEWER_TYPE_CODE,
				OSP$PROTOCOL_REVIEWER_TYPE.DESCRIPTION AS REVIEWER_TYPE
			</SELECTQUERY>

			<FROM>

				<TABLE name="OSP$PROTOCOL_SUBMISSION" />
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_INVESTIGATORS" />
				<TABLE name="OSP$PROTOCOL_REVIEWERS" />
				<TABLE name="OSP$SUBMISSION_STATUS" />
				<TABLE name="OSP$SUBMISSION_TYPE" />
				<TABLE name="OSP$PROTOCOL_REVIEWER_TYPE" />
			</FROM>

			<WHERE
				join="OSP$SUBMISSION_TYPE.SUBMISSION_TYPE_CODE = OSP$PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE
                   AND OSP$PROTOCOL_SUBMISSION.SEQUENCE_NUMBER IN
                   ( SELECT MAX(PS.SEQUENCE_NUMBER)
                   FROM OSP$PROTOCOL_SUBMISSION PS
                   WHERE PS.PROTOCOL_NUMBER = OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER)
                   AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_NUMBER IN
                   ( SELECT MAX(PROTO_SUB.SUBMISSION_NUMBER)
                   FROM OSP$PROTOCOL_SUBMISSION PROTO_SUB
                   WHERE PROTO_SUB.PROTOCOL_NUMBER = OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER
                   AND PROTO_SUB.SEQUENCE_NUMBER = OSP$PROTOCOL_SUBMISSION.SEQUENCE_NUMBER )
                   AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER
                   AND OSP$PROTOCOL.SEQUENCE_NUMBER IN
                   ( SELECT MAX(P.SEQUENCE_NUMBER)
                   FROM OSP$PROTOCOL P
                   WHERE P.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER)
                   AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER
                   AND OSP$PROTOCOL_INVESTIGATORS.SEQUENCE_NUMBER IN
                   ( SELECT MAX(PI.SEQUENCE_NUMBER)
                   FROM OSP$PROTOCOL_INVESTIGATORS PI
                   WHERE PI.PROTOCOL_NUMBER = OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER)
                   AND OSP$PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y'
                   AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$PROTOCOL_REVIEWERS.PROTOCOL_NUMBER
                   AND OSP$PROTOCOL_SUBMISSION.SEQUENCE_NUMBER = OSP$PROTOCOL_REVIEWERS.SEQUENCE_NUMBER
                   AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_NUMBER = OSP$PROTOCOL_REVIEWERS.SUBMISSION_NUMBER
                   AND OSP$PROTOCOL_REVIEWERS.REVIEW_COMPLETE = 'Y'
                   AND OSP$PROTOCOL_REVIEWER_TYPE.REVIEWER_TYPE_CODE = OSP$PROTOCOL_REVIEWERS.REVIEWER_TYPE_CODE
                   AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE = OSP$SUBMISSION_STATUS.SUBMISSION_STATUS_CODE
                   AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE IN (100, 101, 102, 213)
            " />

		</QUERY>

		<PROCEDURE name="get_protocol_list_for_query">

			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />

		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100" webSize="10">Protocol
				Number</FIELD>
			<FIELD name="TITLE" size="50" webSize="30">Title</FIELD>
			<FIELD name="PI" size="30" webSize="10">PI</FIELD>
			<FIELD name="SUBMISSION_STATUS" size="30" webSize="30">Submission
				Status</FIELD>
			<FIELD name="DUE_DATE" size="30" datatype="date" webSize="10">Due
				Date</FIELD>
			<FIELD name="SUBMISSION_TYPE" size="30" webSize="10">Submission Type</FIELD>
			<FIELD name="REVIEWER_TYPE" size="30" webSize="10">Primary Reviewer</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
			<FIELD name="SUBMISSION_NUMBER" visible="false" datatype="number">Submission
				Number</FIELD>
			<FIELD name="REVIEWER_TYPE_CODE" visible="false" datatype="number">Reviewer
				Type Code</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$PROTOCOL_REVIEWERS.PERSON_ID IN (SELECT PERSON_ID FROM
			OSP$PERSON WHERE UPPER(USER_NAME) = UPPER('COEUS'))
			ORDER BY OSP$PROTOCOL_SUBMISSION.SUBMISSION_DATE DESC
		</REMCLAUSE>

	</REVIEWER_REVIEW_COMPLETED_PROTOCOL_SEARCH>

	<REVIEWER_REVIEW_INCOMPLETED_PROTOCOL_SEARCH
		display="Pending/In Progress Reviews" retrievelimit="PROTOCOL_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">

		<QUERY>
			<SELECTQUERY>
				SELECT
				OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER,
				OSP$SUBMISSION_TYPE.DESCRIPTION AS "SUBMISSION_TYPE",
				to_char(OSP$PROTOCOL_REVIEWERS.DUE_DATE,'USER_DEFINED_DATE_FORMAT')
				"DUE_DATE",
				OSP$PROTOCOL.SEQUENCE_NUMBER,
				OSP$PROTOCOL_SUBMISSION.SUBMISSION_NUMBER,
				OSP$PROTOCOL.TITLE,
				OSP$PROTOCOL_INVESTIGATORS.PERSON_NAME AS "PI",
				OSP$SUBMISSION_STATUS.DESCRIPTION AS "SUBMISSION_STATUS",
				OSP$PROTOCOL_REVIEWERS.REVIEWER_TYPE_CODE,
				OSP$PROTOCOL_REVIEWER_TYPE.DESCRIPTION AS REVIEWER_TYPE
			</SELECTQUERY>

			<FROM>

				<TABLE name="OSP$PROTOCOL_SUBMISSION" />
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_INVESTIGATORS" />
				<TABLE name="OSP$PROTOCOL_REVIEWERS" />
				<TABLE name="OSP$SUBMISSION_STATUS" />
				<TABLE name="OSP$SUBMISSION_TYPE" />
				<TABLE name="OSP$PROTOCOL_REVIEWER_TYPE" />
			</FROM>

			<WHERE
				join="OSP$SUBMISSION_TYPE.SUBMISSION_TYPE_CODE = OSP$PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE
                   AND OSP$PROTOCOL_SUBMISSION.SEQUENCE_NUMBER IN
                   ( SELECT MAX(PS.SEQUENCE_NUMBER)
                   FROM OSP$PROTOCOL_SUBMISSION PS
                   WHERE PS.PROTOCOL_NUMBER = OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER)
                   AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_NUMBER IN
                   ( SELECT MAX(PROTO_SUB.SUBMISSION_NUMBER)
                   FROM OSP$PROTOCOL_SUBMISSION PROTO_SUB
                   WHERE PROTO_SUB.PROTOCOL_NUMBER = OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER
                   AND PROTO_SUB.SEQUENCE_NUMBER = OSP$PROTOCOL_SUBMISSION.SEQUENCE_NUMBER )
                   AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER
                   AND OSP$PROTOCOL.SEQUENCE_NUMBER IN
                   ( SELECT MAX(P.SEQUENCE_NUMBER)
                   FROM OSP$PROTOCOL P
                   WHERE P.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER)
                   AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER
                   AND OSP$PROTOCOL_INVESTIGATORS.SEQUENCE_NUMBER IN
                   ( SELECT MAX(PI.SEQUENCE_NUMBER)
                   FROM OSP$PROTOCOL_INVESTIGATORS PI
                   WHERE PI.PROTOCOL_NUMBER = OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER)
                   AND OSP$PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y'
                   AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$PROTOCOL_REVIEWERS.PROTOCOL_NUMBER
                   AND OSP$PROTOCOL_SUBMISSION.SEQUENCE_NUMBER = OSP$PROTOCOL_REVIEWERS.SEQUENCE_NUMBER
                   AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_NUMBER = OSP$PROTOCOL_REVIEWERS.SUBMISSION_NUMBER
                   AND OSP$PROTOCOL_REVIEWERS.REVIEW_COMPLETE = 'N'
                   AND OSP$PROTOCOL_REVIEWER_TYPE.REVIEWER_TYPE_CODE = OSP$PROTOCOL_REVIEWERS.REVIEWER_TYPE_CODE
                   AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE = OSP$SUBMISSION_STATUS.SUBMISSION_STATUS_CODE
                   AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE IN (100, 101, 102, 213)
            " />

		</QUERY>

		<PROCEDURE name="get_protocol_list_for_query">

			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />

		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100" webSize="10">Protocol
				Number</FIELD>
			<FIELD name="TITLE" size="50" webSize="30">Title</FIELD>
			<FIELD name="PI" size="30" webSize="10">PI</FIELD>
			<FIELD name="SUBMISSION_STATUS" size="30" webSize="30">Submission
				Status</FIELD>
			<FIELD name="DUE_DATE" size="30" datatype="date" webSize="10">Due
				Date</FIELD>
			<FIELD name="SUBMISSION_TYPE" size="30" webSize="10">Submission Type</FIELD>
			<FIELD name="REVIEWER_TYPE" size="30" webSize="10">Primary Reviewer</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
			<FIELD name="SUBMISSION_NUMBER" visible="false" datatype="number">Submission
				Number</FIELD>
			<FIELD name="REVIEWER_TYPE_CODE" visible="false" datatype="number">Reviewer
				Type Code</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$PROTOCOL_REVIEWERS.PERSON_ID IN (SELECT PERSON_ID FROM
			OSP$PERSON WHERE UPPER(USER_NAME) = UPPER('COEUS'))
			ORDER BY OSP$PROTOCOL_SUBMISSION.SUBMISSION_DATE DESC
		</REMCLAUSE>

	</REVIEWER_REVIEW_INCOMPLETED_PROTOCOL_SEARCH>
	<!-- Modified for COEUSQA-2288 : Ability for Reviewer to mark Review Comments 
		complete and make recommendation - End -->

	<IACUC_REVIEWER_REVIEW_COMPLETED_PROTOCOL_SEARCH
		display="Completed Reviews" retrievelimit="PROTOCOL_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">

		<QUERY>
			<SELECTQUERY>
				SELECT
				OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER,
				OSP$AC_SUBMISSION_TYPE.DESCRIPTION AS "SUBMISSION_TYPE",
				to_char(OSP$AC_PROTOCOL_REVIEWERS.DUE_DATE,'USER_DEFINED_DATE_FORMAT')
				"DUE_DATE",
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER,
				OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER,
				OSP$AC_PROTOCOL.TITLE,
				OSP$AC_PROTOCOL_INVESTIGATORS.PERSON_NAME AS "PI",
				OSP$AC_SUBMISSION_STATUS.DESCRIPTION AS "SUBMISSION_STATUS",
				OSP$AC_PROTOCOL_REVIEWERS.REVIEWER_TYPE_CODE,
				OSP$AC_PROTOCOL_REVIEWER_TYPE.DESCRIPTION AS REVIEWER_TYPE
			</SELECTQUERY>

			<FROM>

				<TABLE name="OSP$AC_PROTOCOL_SUBMISSION" />
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_INVESTIGATORS" />
				<TABLE name="OSP$AC_PROTOCOL_REVIEWERS" />
				<TABLE name="OSP$AC_SUBMISSION_STATUS" />
				<TABLE name="OSP$AC_SUBMISSION_TYPE" />
				<TABLE name="OSP$AC_PROTOCOL_REVIEWER_TYPE" />
			</FROM>

			<WHERE
				join="OSP$AC_SUBMISSION_TYPE.SUBMISSION_TYPE_CODE = OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE
                   AND OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER IN
                   ( SELECT MAX(PS.SEQUENCE_NUMBER)
                   FROM OSP$AC_PROTOCOL_SUBMISSION PS
                   WHERE PS.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER)
                   AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER IN
                   ( SELECT MAX(PROTO_SUB.SUBMISSION_NUMBER)
                   FROM OSP$AC_PROTOCOL_SUBMISSION PROTO_SUB
                   WHERE PROTO_SUB.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER
                   AND PROTO_SUB.SEQUENCE_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER )
                   AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER
                   AND OSP$AC_PROTOCOL.SEQUENCE_NUMBER IN
                   ( SELECT MAX(P.SEQUENCE_NUMBER)
                   FROM OSP$AC_PROTOCOL P
                   WHERE P.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER)
                   AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER
                   AND OSP$AC_PROTOCOL_INVESTIGATORS.SEQUENCE_NUMBER IN
                   ( SELECT MAX(PI.SEQUENCE_NUMBER)
                   FROM OSP$AC_PROTOCOL_INVESTIGATORS PI
                   WHERE PI.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER)
                   AND OSP$AC_PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y'
                   AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_REVIEWERS.PROTOCOL_NUMBER
                   AND OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER = OSP$AC_PROTOCOL_REVIEWERS.SEQUENCE_NUMBER
                   AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER = OSP$AC_PROTOCOL_REVIEWERS.SUBMISSION_NUMBER
                   AND OSP$AC_PROTOCOL_REVIEWERS.REVIEW_COMPLETE = 'Y'
                   AND OSP$AC_PROTOCOL_REVIEWER_TYPE.REVIEWER_TYPE_CODE = OSP$AC_PROTOCOL_REVIEWERS.REVIEWER_TYPE_CODE
                   AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE = OSP$AC_SUBMISSION_STATUS.SUBMISSION_STATUS_CODE
                   AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE IN (100, 101, 102, 103)
            " />

		</QUERY>

		<PROCEDURE name="get_ac_protocol_list_for_query">

			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />

		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100" webSize="10">Protocol
				Number</FIELD>
			<FIELD name="TITLE" size="50" webSize="30">Title</FIELD>
			<FIELD name="PI" size="30" webSize="10">PI</FIELD>
			<FIELD name="SUBMISSION_STATUS" size="30" webSize="30">Submission
				Status</FIELD>
			<FIELD name="DUE_DATE" size="30" datatype="date" webSize="10">Due
				Date</FIELD>
			<FIELD name="SUBMISSION_TYPE" size="30" webSize="10">Submission Type</FIELD>
			<FIELD name="REVIEWER_TYPE" size="30" webSize="10">Primary Reviewer</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
			<FIELD name="SUBMISSION_NUMBER" visible="false" datatype="number">Submission
				Number</FIELD>
			<FIELD name="REVIEWER_TYPE_CODE" visible="false" datatype="number">Reviewer
				Type Code</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$AC_PROTOCOL_REVIEWERS.PERSON_ID IN (SELECT PERSON_ID FROM
			OSP$PERSON WHERE UPPER(USER_NAME) = UPPER('COEUS'))
			ORDER BY OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_DATE DESC
		</REMCLAUSE>

	</IACUC_REVIEWER_REVIEW_COMPLETED_PROTOCOL_SEARCH>

	<IACUC_REVIEWER_REVIEW_INCOMPLETED_PROTOCOL_SEARCH
		display="Pending/In Progress Reviews" retrievelimit="PROTOCOL_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">

		<QUERY>
			<SELECTQUERY>
				SELECT
				OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER,
				OSP$AC_SUBMISSION_TYPE.DESCRIPTION AS "SUBMISSION_TYPE",
				to_char(OSP$AC_PROTOCOL_REVIEWERS.DUE_DATE,'USER_DEFINED_DATE_FORMAT')
				"DUE_DATE",
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER,
				OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER,
				OSP$AC_PROTOCOL.TITLE,
				OSP$AC_PROTOCOL_INVESTIGATORS.PERSON_NAME AS "PI",
				OSP$AC_SUBMISSION_STATUS.DESCRIPTION AS "SUBMISSION_STATUS",
				OSP$AC_PROTOCOL_REVIEWERS.REVIEWER_TYPE_CODE,
				OSP$AC_PROTOCOL_REVIEWER_TYPE.DESCRIPTION AS REVIEWER_TYPE
			</SELECTQUERY>

			<FROM>

				<TABLE name="OSP$AC_PROTOCOL_SUBMISSION" />
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_INVESTIGATORS" />
				<TABLE name="OSP$AC_PROTOCOL_REVIEWERS" />
				<TABLE name="OSP$AC_SUBMISSION_STATUS" />
				<TABLE name="OSP$AC_SUBMISSION_TYPE" />
				<TABLE name="OSP$AC_PROTOCOL_REVIEWER_TYPE" />
			</FROM>

			<WHERE
				join="OSP$AC_SUBMISSION_TYPE.SUBMISSION_TYPE_CODE = OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE
                   AND OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER IN
                   ( SELECT MAX(PS.SEQUENCE_NUMBER)
                   FROM OSP$AC_PROTOCOL_SUBMISSION PS
                   WHERE PS.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER)
                   AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER IN
                   ( SELECT MAX(PROTO_SUB.SUBMISSION_NUMBER)
                   FROM OSP$AC_PROTOCOL_SUBMISSION PROTO_SUB
                   WHERE PROTO_SUB.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER
                   AND PROTO_SUB.SEQUENCE_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER )
                   AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER
                   AND OSP$AC_PROTOCOL.SEQUENCE_NUMBER IN
                   ( SELECT MAX(P.SEQUENCE_NUMBER)
                   FROM OSP$AC_PROTOCOL P
                   WHERE P.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER)
                   AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER
                   AND OSP$AC_PROTOCOL_INVESTIGATORS.SEQUENCE_NUMBER IN
                   ( SELECT MAX(PI.SEQUENCE_NUMBER)
                   FROM OSP$AC_PROTOCOL_INVESTIGATORS PI
                   WHERE PI.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER)
                   AND OSP$AC_PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y'
                   AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_REVIEWERS.PROTOCOL_NUMBER
                   AND OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER = OSP$AC_PROTOCOL_REVIEWERS.SEQUENCE_NUMBER
                   AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER = OSP$AC_PROTOCOL_REVIEWERS.SUBMISSION_NUMBER
                   AND (OSP$AC_PROTOCOL_REVIEWERS.REVIEW_COMPLETE = 'N' OR OSP$AC_PROTOCOL_REVIEWERS.REVIEW_COMPLETE is NULL)
                   AND OSP$AC_PROTOCOL_REVIEWER_TYPE.REVIEWER_TYPE_CODE = OSP$AC_PROTOCOL_REVIEWERS.REVIEWER_TYPE_CODE
                   AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE = OSP$AC_SUBMISSION_STATUS.SUBMISSION_STATUS_CODE
                   AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE IN (100, 101, 102, 103)
            " />

		</QUERY>

		<PROCEDURE name="get_ac_protocol_list_for_query">

			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />

		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100" webSize="10">Protocol
				Number</FIELD>
			<FIELD name="TITLE" size="50" webSize="30">Title</FIELD>
			<FIELD name="PI" size="30" webSize="10">PI</FIELD>
			<FIELD name="SUBMISSION_STATUS" size="30" webSize="30">Submission
				Status</FIELD>
			<FIELD name="DUE_DATE" size="30" datatype="date" webSize="10">Due
				Date</FIELD>
			<FIELD name="SUBMISSION_TYPE" size="30" webSize="10">Submission Type</FIELD>
			<FIELD name="REVIEWER_TYPE" size="30" webSize="10">Primary Reviewer</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
			<FIELD name="SUBMISSION_NUMBER" visible="false" datatype="number">Submission
				Number</FIELD>
			<FIELD name="REVIEWER_TYPE_CODE" visible="false" datatype="number">Reviewer
				Type Code</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$AC_PROTOCOL_REVIEWERS.PERSON_ID IN (SELECT PERSON_ID FROM
			OSP$PERSON WHERE UPPER(USER_NAME) = UPPER('COEUS'))
			ORDER BY OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_DATE DESC
		</REMCLAUSE>

	</IACUC_REVIEWER_REVIEW_INCOMPLETED_PROTOCOL_SEARCH>


	<REVIEWER_SCHEDULE_SEARCH display="Schedules"
		retrievelimit="PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">

		<QUERY>

			<SELECTQUERY>

				SELECT
				OSP$COMMITTEE.COMMITTEE_ID,
				OSP$COMMITTEE.COMMITTEE_NAME,
				OSP$COMM_SCHEDULE.SCHEDULE_ID,
				OSP$COMM_SCHEDULE.PLACE,
				(TO_CHAR(OSP$COMM_SCHEDULE.SCHEDULED_DATE,'USER_DEFINED_DATE_FORMAT')
				|| ','||TO_CHAR(OSP$COMM_SCHEDULE.SCHEDULED_DATE,'Day')) AS
				"SCHEDULED_DATE",
				COUNT(OSP$SCHEDULE_AGENDA.AGENDA_NUMBER) AS GENERATED_AGENDA

			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$COMM_SCHEDULE" />
				<TABLE name="OSP$COMM_MEMBERSHIPS" />
				<TABLE name="OSP$COMM_MEMBER_STATUS_CHANGE" />
				<TABLE name="OSP$COMMITTEE" />
				<TABLE name="OSP$SCHEDULE_AGENDA" />
			</FROM>

			<WHERE
				join="
                          OSP$COMMITTEE.COMMITTEE_ID = OSP$COMM_MEMBERSHIPS.COMMITTEE_ID
                          AND OSP$COMM_MEMBERSHIPS.SEQUENCE_NUMBER IN
                          ( SELECT MAX(SEQUENCE_NUMBER)
                          FROM OSP$COMM_MEMBERSHIPS CMS
                          WHERE CMS.COMMITTEE_ID = OSP$COMM_MEMBERSHIPS.COMMITTEE_ID
                          AND CMS.PERSON_ID = OSP$COMM_MEMBERSHIPS.PERSON_ID
                          AND CMS.MEMBERSHIP_ID = OSP$COMM_MEMBERSHIPS.MEMBERSHIP_ID)
                          AND OSP$COMM_MEMBERSHIPS.MEMBERSHIP_ID = OSP$COMM_MEMBER_STATUS_CHANGE.MEMBERSHIP_ID
                          AND OSP$COMM_MEMBER_STATUS_CHANGE.SEQUENCE_NUMBER = (SELECT MAX(S.SEQUENCE_NUMBER)
                                                                                FROM OSP$COMM_MEMBER_STATUS_CHANGE S
                                                                                WHERE OSP$COMM_MEMBER_STATUS_CHANGE.MEMBERSHIP_ID = S.MEMBERSHIP_ID)
                          AND OSP$COMM_MEMBER_STATUS_CHANGE.MEMBERSHIP_STATUS_CODE = 1
                          AND(( OSP$COMMITTEE.COMMITTEE_ID = OSP$COMM_SCHEDULE.COMMITTEE_ID) AND (OSP$COMMITTEE.COMMITTEE_TYPE_CODE = 1))
                          AND OSP$COMM_SCHEDULE.VIEW_IN_LITE = 'Y'
                   " />

		</QUERY>

		<PROCEDURE name="get_protocol_list_for_query">

			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />

		</PROCEDURE>



		<DISPLAY>
			<!-- COEUSQA-2288 START <FIELD name="SCHEDULE_ID" size="100" >Schedule 
				ID</FIELD> -->
			<!-- <FIELD name="SCHEDULED_DATE" size="100" >Scheduled Date</FIELD> -->
			<FIELD name="SCHEDULE_ID" size="100" visible="false">Schedule ID</FIELD>
			<FIELD name="SCHEDULED_DATE" size="100">Meeting Date</FIELD>
			<!-- COEUSQA-2288 END -->
			<FIELD name="PLACE" size="50">Place</FIELD>
			<FIELD name="COMMITTEE_ID">Committee ID</FIELD>
			<FIELD name="COMMITTEE_NAME" size="50">Committee Name</FIELD>
			<FIELD name="GENERATED_AGENDA" size="50" visible="false">Generated
				Agenda</FIELD>

		</DISPLAY>


		<REMCLAUSE>
			AND OSP$COMM_MEMBERSHIPS.PERSON_ID IN
			( SELECT PERSON_ID
			FROM OSP$PERSON
			WHERE UPPER(USER_NAME) = UPPER('COEUS'))
			AND OSP$COMM_SCHEDULE.SCHEDULE_ID = OSP$SCHEDULE_AGENDA.SCHEDULE_ID(+)
			GROUP BY
			OSP$COMMITTEE.COMMITTEE_ID, OSP$COMMITTEE.COMMITTEE_NAME, OSP$COMM_SCHEDULE.SCHEDULE_ID,
			OSP$COMM_SCHEDULE.PLACE,SCHEDULED_DATE
			ORDER BY to_number(OSP$COMM_SCHEDULE.SCHEDULE_ID)
		</REMCLAUSE>

	</REVIEWER_SCHEDULE_SEARCH>

	<REVIEWER_SCHEDULE_AGENDA_SEARCH
		display="Agenda" retrievelimit="PROTOCOL_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>

			<SELECTQUERY>

				SELECT
				OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER,
				OSP$PROTOCOL.SEQUENCE_NUMBER,
				OSP$PROTOCOL_SUBMISSION.SUBMISSION_NUMBER,
				OSP$PROTOCOL.TITLE,
				OSP$PROTOCOL_INVESTIGATORS.PERSON_NAME AS "PI",
				OSP$SUBMISSION_STATUS.DESCRIPTION AS "SUBMISSION_STATUS"

			</SELECTQUERY>

			<FROM>

				<TABLE name="OSP$PROTOCOL_SUBMISSION" />
				<TABLE name="OSP$PROTOCOL" />
				<TABLE name="OSP$PROTOCOL_INVESTIGATORS" />
				<TABLE name="OSP$SUBMISSION_STATUS" />
				<TABLE name="OSP$COMM_SCHEDULE" />


			</FROM>

			<WHERE
				join="
                    OSP$PROTOCOL_SUBMISSION.SEQUENCE_NUMBER IN
                    ( SELECT MAX(PS.SEQUENCE_NUMBER)
                    FROM OSP$PROTOCOL_SUBMISSION PS
                    WHERE PS.PROTOCOL_NUMBER = OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER)
                    AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_NUMBER IN
                    ( SELECT MAX(PROTO_SUB.SUBMISSION_NUMBER)
                    FROM OSP$PROTOCOL_SUBMISSION PROTO_SUB
                    WHERE PROTO_SUB.PROTOCOL_NUMBER = OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER
                    AND PROTO_SUB.SEQUENCE_NUMBER = OSP$PROTOCOL_SUBMISSION.SEQUENCE_NUMBER )
                    AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER
                    AND OSP$PROTOCOL.SEQUENCE_NUMBER IN
                    ( SELECT MAX(P.SEQUENCE_NUMBER)
                    FROM OSP$PROTOCOL P
                    WHERE P.PROTOCOL_NUMBER = OSP$PROTOCOL.PROTOCOL_NUMBER)
                    AND OSP$PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER
                    AND OSP$PROTOCOL_INVESTIGATORS.SEQUENCE_NUMBER IN
                    ( SELECT MAX(PI.SEQUENCE_NUMBER)
                    FROM OSP$PROTOCOL_INVESTIGATORS PI
                    WHERE PI.PROTOCOL_NUMBER = OSP$PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER)
                    AND OSP$PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y'
                    AND OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE = OSP$SUBMISSION_STATUS.SUBMISSION_STATUS_CODE
                    AND OSP$PROTOCOL_SUBMISSION.COMMITTEE_ID = OSP$COMM_SCHEDULE.COMMITTEE_ID
                    AND OSP$PROTOCOL_SUBMISSION.SCHEDULE_ID = OSP$COMM_SCHEDULE.SCHEDULE_ID
                    AND OSP$COMM_SCHEDULE.VIEW_IN_LITE = 'Y'

            " />

		</QUERY>

		<PROCEDURE name="get_protocol_list_for_query">

			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />

		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="PI" size="100">PI</FIELD>
			<FIELD name="SUBMISSION_STATUS" size="50">Submission Status</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
			<FIELD name="SUBMISSION_NUMBER" visible="false" datatype="number">Submission
				Number</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$PROTOCOL_SUBMISSION.SCHEDULE_ID = 'PARAM_SCHEDULE_ID'
			ORDER BY OSP$PROTOCOL_SUBMISSION.SUBMISSION_DATE

		</REMCLAUSE>

	</REVIEWER_SCHEDULE_AGENDA_SEARCH>

	<IACUC_REVIEW_DETERMINATION_PROTOCOL_SEARCH
		display="Review Determination" retrievelimit="PROTOCOL_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">

		<QUERY>
			<SELECTQUERY>
				SELECT
				OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER,
				OSP$AC_SUBMISSION_TYPE.DESCRIPTION as "SUBMISSION_TYPE",
				to_char(OSP$AC_REVIEW_DETERMINATION.DETERMINATION_DUE_DATE,'USER_DEFINED_DATE_FORMAT')
				"DETERMINATION_DUE_DATE",
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER,
				OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER,
				OSP$AC_PROTOCOL.TITLE,
				OSP$AC_PROTOCOL_INVESTIGATORS.PERSON_NAME AS
				"PI",
				OSP$AC_SUBMISSION_STATUS.DESCRIPTION AS "SUBMISSION_STATUS"
			</SELECTQUERY>

			<FROM>

				<TABLE name="OSP$AC_PROTOCOL_SUBMISSION" />
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_INVESTIGATORS" />
				<TABLE name="OSP$AC_REVIEW_DETERMINATION" />
				<TABLE name="OSP$AC_SUBMISSION_STATUS" />
				<TABLE name="OSP$AC_SUBMISSION_TYPE" />
			</FROM>

			<WHERE
				join="OSP$AC_SUBMISSION_TYPE.SUBMISSION_TYPE_CODE = OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE
				   AND OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER IN
				   ( SELECT MAX(PS.SEQUENCE_NUMBER)
				   FROM OSP$AC_PROTOCOL_SUBMISSION PS
				   WHERE PS.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER)
				   AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER IN
				   ( SELECT MAX(PROTO_SUB.SUBMISSION_NUMBER)
				   FROM OSP$AC_PROTOCOL_SUBMISSION PROTO_SUB
				   WHERE PROTO_SUB.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER
				   AND PROTO_SUB.SEQUENCE_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER )
				   AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER
				   AND OSP$AC_PROTOCOL.SEQUENCE_NUMBER IN
				   ( SELECT MAX(P.SEQUENCE_NUMBER)
				   FROM OSP$AC_PROTOCOL P
				   WHERE P.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER)
				   AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER
				   AND OSP$AC_PROTOCOL_INVESTIGATORS.SEQUENCE_NUMBER IN
				   ( SELECT MAX(PI.SEQUENCE_NUMBER)
				   FROM OSP$AC_PROTOCOL_INVESTIGATORS PI
				   WHERE PI.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER)
				   AND OSP$AC_PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y'
				   AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_REVIEW_DETERMINATION.PROTOCOL_NUMBER
				   AND OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER = OSP$AC_REVIEW_DETERMINATION.SEQUENCE_NUMBER
				   AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER = OSP$AC_REVIEW_DETERMINATION.SUBMISSION_NUMBER
				   AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE = OSP$AC_SUBMISSION_STATUS.SUBMISSION_STATUS_CODE
				   AND (OSP$AC_REVIEW_DETERMINATION.DETERMINATION_DUE_DATE NOT BETWEEN   OSP$AC_REVIEW_DETERMINATION.DETERMINATION_DUE_DATE AND SYSDATE
						OR OSP$AC_REVIEW_DETERMINATION.DETERMINATION_DUE_DATE = to_date(SYSDATE))
			" />

		</QUERY>

		<PROCEDURE name="get_ac_protocol_list_for_query">

			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />

		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100" webSize="10">Protocol
				Number</FIELD>
			<FIELD name="TITLE" size="50" webSize="30">Title</FIELD>
			<FIELD name="PI" size="30" webSize="10">PI</FIELD>
			<FIELD name="SUBMISSION_STATUS" size="30" webSize="30">Submission
				Status</FIELD>
			<FIELD name="DETERMINATION_DUE_DATE" size="30" datatype="date"
				webSize="10">Determination Due Date</FIELD>
			<FIELD name="SUBMISSION_TYPE" size="30" webSize="10">Submission Type</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
			<FIELD name="SUBMISSION_NUMBER" visible="false" datatype="number">Submission
				Number</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$AC_REVIEW_DETERMINATION.PERSON_ID IN (SELECT
			PERSON_ID FROM OSP$PERSON WHERE UPPER(USER_NAME) = UPPER('COEUS'))
			ORDER BY OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_DATE DESC
		</REMCLAUSE>

	</IACUC_REVIEW_DETERMINATION_PROTOCOL_SEARCH>

	<!-- -3282: Reviewer View of Protocol materials - End -->

	<!--ARRA_AWARD_SEARCH for CoeusLite Start -->
	<ARRA_AWARD_SEARCH display="ARRA Awards"
		retrievelimit="AWARD_RETRIEVE_LIMIT" primarykeycolumn="OSP$ARRA_REPORT_AWARDS.ARRA_REPORT_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT OSP$ARRA_REPORT_AWARDS.ARRA_REPORT_NUMBER,
				OSP$ARRA_REPORT_AWARDS.VERSION_NUMBER,
				OSP$ARRA_REPORT_AWARDS.MIT_AWARD_NUMBER,
				OSP$ARRA_REPORT_AWARDS.AWARD_NUMBER,
				OSP$ARRA_REPORT_AWARDS.AWARD_NUMBER,
				OSP$ARRA_REPORT_AWARDS.ACCOUNT_NUMBER,
				OSP$ARRA_REPORT_AWARDS.SEQUENCE_NUMBER,
				OSP$ARRA_REPORT_AWARDS.AWARD_TYPE,
				OSP$ARRA_REPORT_AWARDS.PROJECT_TITLE,
				OSP$ARRA_REPORT_AWARDS.LEAD_UNIT AS UNIT_NUMBER,
				OSP$SPONSOR.SPONSOR_NAME,
				OSP$ARRA_REPORT_AWARDS.PI_NAME,
				OSP$ARRA_REPORT_AWARDS.PI_PERSON_ID,
				DECODE(OSP$ARRA_REPORT_AWARDS.IS_COMPLETE,'Y','Complete','N','Incomplete','Submitted')
				AS STATUS,
				FN_USER_HAS_RIGHT('COEUS',OSP$ARRA_REPORT_AWARDS.LEAD_UNIT,'MAINTAIN_ARRA_REPORTS')
				AS MAINTAIN_ARRA_REPORTS_RIGHT,
				FN_USER_IS_ARRA_AWARD_PI(OSP$ARRA_REPORT_AWARDS.MIT_AWARD_NUMBER,
				OSP$ARRA_REPORT_AWARDS.VERSION_NUMBER,
				OSP$ARRA_REPORT_AWARDS.ARRA_REPORT_NUMBER,'COEUS') AS IS_USER_PI
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$ARRA_REPORT_AWARDS" />
				<TABLE name="OSP$SPONSOR" />

			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join=" OSP$ARRA_REPORT_AWARDS.VERSION_NUMBER IN (SELECT MAX(VERSION_NUMBER) FROM OSP$ARRA_REPORT_AWARDS A WHERE
                                                                     A.ARRA_REPORT_NUMBER= OSP$ARRA_REPORT_AWARDS.ARRA_REPORT_NUMBER
                                                                     AND A.MIT_AWARD_NUMBER = OSP$ARRA_REPORT_AWARDS.MIT_AWARD_NUMBER )
                   AND OSP$ARRA_REPORT_AWARDS.SPONSOR_CODE = OSP$SPONSOR.SPONSOR_CODE(+)
                   AND OSP$ARRA_REPORT_AWARDS.ARRA_REPORT_NUMBER IN (SELECT MAX(ARRA_REPORT_NUMBER) FROM OSP$ARRA_REPORT ARA)
            " />
			<!-- The value of the join attribute should be appended in the where clause 
				while forming a query. -->
		</QUERY>

		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="dw_get_inst_props_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<FIELD name="ARRA_REPORT_NUMBER" visible="false" size="100">Report
				Number</FIELD>
			<!--<FIELD name="VERSION_NUMBER" visible="false" size="100"/> <FIELD name="SEQUENCE_NUMBER" 
				visible="false" size="100"/> <FIELD name="MIT_AWARD_NUMBER" visible="false" 
				size="100"/> -->
			<!-- JM 5-27-2011 update account to center per 4.4.2 -->
			<FIELD name="ACCOUNT_NUMBER" size="10">Center Number</FIELD>
			<!-- JM END -->
			<FIELD name="AWARD_NUMBER" size="50">Award Number</FIELD>
			<FIELD name="PROJECT_TITLE" size="100">Title</FIELD>
			<FIELD name="PI_NAME" size="100">PI</FIELD>
			<FIELD name="SPONSOR_NAME" size="100">Sponsor</FIELD>
			<FIELD name="STATUS" size="50">Status</FIELD>
			<!--<FIELD name="PI_PERSON_ID" visible="false" size="100"/> <FIELD name="OSP$AWARD_UNITS.UNIT_NUMBER" 
				visible="false" size="100"/> -->
			<FIELD name="AWARD_TYPE" visible="false" size="100" />
		</DISPLAY>
		<REMCLAUSE>
			AND
			FN_USER_HAS_ARRA_RIGHT('COEUS',OSP$ARRA_REPORT_AWARDS.MIT_AWARD_NUMBER,
			OSP$ARRA_REPORT_AWARDS.LEAD_UNIT,OSP$ARRA_REPORT_AWARDS.PI_PERSON_ID)
			> 0
			ORDER BY OSP$ARRA_REPORT_AWARDS.AWARD_NUMBER
		</REMCLAUSE>
	</ARRA_AWARD_SEARCH>

	<ARRA_CLOSED_REPORT_SEARCH display="Closed ARRA Awards"
		retrievelimit="AWARD_RETRIEVE_LIMIT" primarykeycolumn="OSP$ARRA_REPORT_AWARDS.ARRA_REPORT_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT OSP$ARRA_REPORT_AWARDS.ARRA_REPORT_NUMBER,
				OSP$ARRA_REPORT_AWARDS.VERSION_NUMBER,
				OSP$ARRA_REPORT_AWARDS.MIT_AWARD_NUMBER,
				OSP$ARRA_REPORT_AWARDS.AWARD_NUMBER,
				OSP$ARRA_REPORT_AWARDS.AWARD_NUMBER,
				OSP$ARRA_REPORT_AWARDS.ACCOUNT_NUMBER,
				OSP$ARRA_REPORT_AWARDS.SEQUENCE_NUMBER,
				OSP$ARRA_REPORT_AWARDS.AWARD_TYPE,
				OSP$ARRA_REPORT_AWARDS.PROJECT_TITLE,
				OSP$ARRA_REPORT_AWARDS.LEAD_UNIT AS UNIT_NUMBER,
				OSP$SPONSOR.SPONSOR_NAME,
				OSP$ARRA_REPORT_AWARDS.PI_NAME,
				OSP$ARRA_REPORT_AWARDS.PI_PERSON_ID,
				DECODE(OSP$ARRA_REPORT_AWARDS.IS_COMPLETE,'Y','Complete','N','Incomplete','Submitted')
				AS STATUS,
				FN_USER_HAS_RIGHT('COEUS',OSP$ARRA_REPORT_AWARDS.LEAD_UNIT,'MAINTAIN_ARRA_REPORTS')
				AS MAINTAIN_ARRA_REPORTS_RIGHT,
				FN_USER_IS_ARRA_AWARD_PI(OSP$ARRA_REPORT_AWARDS.MIT_AWARD_NUMBER,
				OSP$ARRA_REPORT_AWARDS.VERSION_NUMBER,
				OSP$ARRA_REPORT_AWARDS.ARRA_REPORT_NUMBER,'COEUS') AS IS_USER_PI
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$ARRA_REPORT_AWARDS" />
				<TABLE name="OSP$SPONSOR" />

			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join=" OSP$ARRA_REPORT_AWARDS.VERSION_NUMBER IN (SELECT MAX(VERSION_NUMBER) FROM OSP$ARRA_REPORT_AWARDS A WHERE
                                                                     A.ARRA_REPORT_NUMBER= OSP$ARRA_REPORT_AWARDS.ARRA_REPORT_NUMBER
                                                                     AND A.MIT_AWARD_NUMBER = OSP$ARRA_REPORT_AWARDS.MIT_AWARD_NUMBER )
                   AND OSP$ARRA_REPORT_AWARDS.SPONSOR_CODE = OSP$SPONSOR.SPONSOR_CODE(+)
                   AND OSP$ARRA_REPORT_AWARDS.FINAL_REPORT_FLAG = 'Y'
                   AND OSP$ARRA_REPORT_AWARDS.ARRA_REPORT_NUMBER NOT IN (SELECT MAX(ARRA_REPORT_NUMBER) FROM OSP$ARRA_REPORT ARA)
            " />
			<!-- The value of the join attribute should be appended in the where clause 
				while forming a query. -->
		</QUERY>

		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="dw_get_inst_props_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<FIELD name="ARRA_REPORT_NUMBER" visible="false" size="100">Report
				Number</FIELD>
			<!--<FIELD name="VERSION_NUMBER" visible="false" size="100"/> <FIELD name="SEQUENCE_NUMBER" 
				visible="false" size="100"/> <FIELD name="MIT_AWARD_NUMBER" visible="false" 
				size="100"/> -->
			<!-- JM 5-24-2011 updated account to center per 4.4.2 -->
			<FIELD name="ACCOUNT_NUMBER" size="10">Center Number</FIELD>
			<!-- JM END -->
			<FIELD name="AWARD_NUMBER" size="50">Award Number</FIELD>
			<FIELD name="PROJECT_TITLE" size="100">Title</FIELD>
			<FIELD name="PI_NAME" size="100">PI</FIELD>
			<FIELD name="SPONSOR_NAME" size="100">Sponsor</FIELD>
			<FIELD name="STATUS" size="50">Status</FIELD>
			<!--<FIELD name="PI_PERSON_ID" visible="false" size="100"/> <FIELD name="OSP$AWARD_UNITS.UNIT_NUMBER" 
				visible="false" size="100"/> -->
			<FIELD name="AWARD_TYPE" visible="false" size="100" />
		</DISPLAY>
		<REMCLAUSE>
			AND
			FN_USER_HAS_ARRA_RIGHT('COEUS',OSP$ARRA_REPORT_AWARDS.MIT_AWARD_NUMBER,
			OSP$ARRA_REPORT_AWARDS.LEAD_UNIT,OSP$ARRA_REPORT_AWARDS.PI_PERSON_ID)
			> 0
			ORDER BY OSP$ARRA_REPORT_AWARDS.AWARD_NUMBER
		</REMCLAUSE>
	</ARRA_CLOSED_REPORT_SEARCH>
	<!--ARRA_AWARD_SEARCH for CoeusLite end -->


	<INBOX_UNRESOLVED display="Unit Search" retrievelimit="INBOX_RETRIEVE_LIMIT"
		primarykeycolumn="">
		<QUERY>
			<SELECTQUERY>SELECT
				IBV.MODULE_ITEM_KEY,
				IBV.MODULE_CODE,
				IBV.MODULE_DESC,
				IBV.TO_USER,
				IBV.MESSAGE_ID,
				IBV.FROM_USER,
				IBV.ARRIVAL_DATE,
				IBV.SUBJECT_TYPE,
				IBV.SUBJECT_DESCRIPTION,
				IBV.OPENED_FLAG,
				IBV.UPDATE_TIMESTAMP,
				IBV.UPDATE_USER,
				IBV.MESSAGE,
				IBV.FROM_USER_NAME,
				IBV.DEADLINE_DATE,
				IBV.TITLE,
				IBV.SPONSOR_CODE,
				IBV.SPONSOR_NAME,
				IBV.SYSTEM_DATE,
				IBV.UNIT_NUMBER,
				IBV.UNIT_NAME,
				IBV.PI_NAME,
				IBV.STATUS_CODE,
				IBV.STATUS_DESC
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$INBOX_VIEW" alias="IBV" />
			</FROM>
		</QUERY>
		<PROCEDURE name="GET_INBOX_VIEW_FOR_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="FROM_USER_NAME">From</FIELD>
			<FIELD name="ARRIVAL_DATE">Date Sent</FIELD>
			<FIELD name="SUBJECT_DESCRIPTION">Subject</FIELD>
			<FIELD name="MODULE_DESC">Module</FIELD>
			<FIELD name="MODULE_ITEM_KEY">Item</FIELD>
			<FIELD name="DEADLINE_DATE">Deadline</FIELD>
			<FIELD name="STATUS_DESC">Status</FIELD>
			<FIELD name="SPONSOR_NAME">Sponsor Name</FIELD>
			<FIELD name="UNIT_NUMBER">Lead Unit</FIELD>
			<FIELD name="UNIT_NAME">Lead Unit Name</FIELD>
			<FIELD name="PI_NAME">PI</FIELD>
			<FIELD name="TITLE">Title</FIELD>
			<FIELD name="MODULE_CODE" visible="false">Module Code</FIELD>
			<FIELD name="TO_USER" visible="false">To User</FIELD>
			<FIELD name="MESSAGE_ID" visible="false">Message ID</FIELD>
			<FIELD name="FROM_USER" visible="false">From User</FIELD>
			<FIELD name="SUBJECT_TYPE" visible="false">Subject Type</FIELD>
			<FIELD name="OPENED_FLAG" visible="false">Opened Flag</FIELD>
			<FIELD name="UPDATE_TIMESTAMP" visible="false">Update Timestamp</FIELD>
			<FIELD name="UPDATE_USER" visible="false">Updated By</FIELD>
			<FIELD name="MESSAGE" visible="false">Message</FIELD>
			<FIELD name="SPONSOR_CODE" visible="false">Sponsor Code</FIELD>
			<FIELD name="SYSTEM_DATE" visible="false">System Date</FIELD>
			<FIELD name="STATUS_CODE" visible="false">Status Code</FIELD>

		</DISPLAY>
		<REMCLAUSE>
			WHERE IBV.OPENED_FLAG = 'N' AND UPPER(TO_USER)=UPPER('COEUS')
		</REMCLAUSE>
	</INBOX_UNRESOLVED>

	<INBOX_RESOLVED display="Unit Search" retrievelimit="INBOX_RETRIEVE_LIMIT"
		primarykeycolumn="">
		<QUERY>
			<SELECTQUERY>SELECT
				IBV.MODULE_ITEM_KEY,
				IBV.MODULE_CODE,
				IBV.MODULE_DESC,
				IBV.TO_USER,
				IBV.MESSAGE_ID,
				IBV.FROM_USER,
				IBV.ARRIVAL_DATE,
				IBV.SUBJECT_TYPE,
				IBV.SUBJECT_DESCRIPTION,
				IBV.OPENED_FLAG,
				IBV.UPDATE_TIMESTAMP,
				IBV.UPDATE_USER,
				IBV.MESSAGE,
				IBV.FROM_USER_NAME,
				IBV.DEADLINE_DATE,
				IBV.TITLE,
				IBV.SPONSOR_CODE,
				IBV.SPONSOR_NAME,
				IBV.SYSTEM_DATE,
				IBV.UNIT_NUMBER,
				IBV.UNIT_NAME,
				IBV.PI_NAME,
				IBV.STATUS_CODE,
				IBV.STATUS_DESC
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$INBOX_VIEW" alias="IBV" />
			</FROM>
		</QUERY>
		<PROCEDURE name="GET_INBOX_VIEW_FOR_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="FROM_USER_NAME">From</FIELD>
			<FIELD name="ARRIVAL_DATE">Date Sent</FIELD>
			<FIELD name="SUBJECT_DESCRIPTION">Subject</FIELD>
			<FIELD name="MODULE_DESC">Module</FIELD>
			<FIELD name="MODULE_ITEM_KEY">Item</FIELD>
			<FIELD name="DEADLINE_DATE">Deadline</FIELD>
			<FIELD name="STATUS_DESC">Status</FIELD>
			<FIELD name="SPONSOR_NAME">Sponsor Name</FIELD>
			<FIELD name="UNIT_NUMBER">Lead Unit</FIELD>
			<FIELD name="UNIT_NAME">Lead Unit Name</FIELD>
			<FIELD name="PI_NAME">PI</FIELD>
			<FIELD name="TITLE">Title</FIELD>
			<FIELD name="MODULE_CODE" visible="false">Module Code</FIELD>
			<FIELD name="TO_USER" visible="false">To User</FIELD>
			<FIELD name="MESSAGE_ID" visible="false">Message ID</FIELD>
			<FIELD name="FROM_USER" visible="false">From User</FIELD>
			<FIELD name="SUBJECT_TYPE" visible="false">Subject Type</FIELD>
			<FIELD name="OPENED_FLAG" visible="false">Opened Flag</FIELD>
			<FIELD name="UPDATE_TIMESTAMP" visible="false">Update Timestamp</FIELD>
			<FIELD name="UPDATE_USER" visible="false">Updated By</FIELD>
			<FIELD name="MESSAGE" visible="false">Message</FIELD>
			<FIELD name="SPONSOR_CODE" visible="false">Sponsor Code</FIELD>
			<FIELD name="SYSTEM_DATE" visible="false">System Date</FIELD>
			<FIELD name="STATUS_CODE" visible="false">Status Code</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			WHERE IBV.OPENED_FLAG = 'Y' AND UPPER(TO_USER)=UPPER('COEUS')
		</REMCLAUSE>
	</INBOX_RESOLVED>

	<INBOX_UNRESOLVED_LITE display="Unit Search"
		retrievelimit="INBOX_RETRIEVE_LIMIT" primarykeycolumn="">
		<QUERY>
			<SELECTQUERY>SELECT
				IBV.DEADLINE_DATE,
				IBV.FROM_USER_NAME,
				IBV.MESSAGE,
				IBV.TITLE,
				IBV.MODULE_ITEM_KEY,
				IBV.ARRIVAL_DATE,
				IBV.MODULE_CODE,
				IBV.MODULE_DESC,
				IBV.TO_USER,
				IBV.MESSAGE_ID,
				IBV.FROM_USER,
				IBV.SUBJECT_TYPE,
				IBV.SUBJECT_DESCRIPTION,
				IBV.OPENED_FLAG,
				IBV.UPDATE_TIMESTAMP,
				IBV.UPDATE_USER,
				IBV.SPONSOR_CODE,
				IBV.SPONSOR_NAME,
				IBV.SYSTEM_DATE,
				IBV.UNIT_NUMBER,
				IBV.UNIT_NAME,
				IBV.PI_NAME,
				IBV.STATUS_CODE,
				IBV.STATUS_DESC
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$INBOX_VIEW" alias="IBV" />
			</FROM>
		</QUERY>
		<PROCEDURE name="GET_INBOX_VIEW_FOR_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="DEADLINE_DATE">Deadline Date</FIELD>
			<FIELD name="FROM_USER_NAME">From</FIELD>
			<FIELD name="MESSAGE">Message</FIELD>
			<FIELD name="TITLE">Proposal Title</FIELD>
			<FIELD name="MODULE_ITEM_KEY">Proposal Number</FIELD>
			<FIELD name="ARRIVAL_DATE">Date Received</FIELD>
			<FIELD name="MODULE_CODE" visible="false">Module Code</FIELD>
			<FIELD name="MODULE_DESC" visible="false">Module Name</FIELD>
			<FIELD name="TO_USER" visible="false">To User</FIELD>
			<FIELD name="MESSAGE_ID" visible="false">Message ID</FIELD>
			<FIELD name="FROM_USER" visible="false">From User</FIELD>
			<FIELD name="SUBJECT_TYPE" visible="false">Subject Type</FIELD>
			<FIELD name="SUBJECT_DESCRIPTION" visible="false">Subject Description</FIELD>
			<FIELD name="OPENED_FLAG" visible="false">Opened Flag</FIELD>
			<FIELD name="UPDATE_TIMESTAMP" visible="false">Update Timestamp</FIELD>
			<FIELD name="UPDATE_USER" visible="false">Updated By</FIELD>
			<FIELD name="SPONSOR_CODE" visible="false">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_NAME" visible="false">Sponsor Name</FIELD>
			<FIELD name="SYSTEM_DATE" visible="false">System Date</FIELD>
			<FIELD name="UNIT_NUMBER" visible="false">Unit Number</FIELD>
			<FIELD name="UNIT_NAME" visible="false">Unit Name</FIELD>
			<FIELD name="PI_NAME" visible="false">PI Name</FIELD>
			<FIELD name="STATUS_CODE" visible="false">Status Code</FIELD>
			<FIELD name="STATUS_DESC" visible="false">Status Description</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			WHERE IBV.OPENED_FLAG = 'N' AND UPPER(TO_USER)=UPPER('COEUS')
		</REMCLAUSE>
	</INBOX_UNRESOLVED_LITE>

	<INBOX_RESOLVED_LITE display="Unit Search"
		retrievelimit="INBOX_RETRIEVE_LIMIT" primarykeycolumn="">
		<QUERY>
			<SELECTQUERY>SELECT
				IBV.DEADLINE_DATE,
				IBV.FROM_USER_NAME,
				IBV.MESSAGE,
				IBV.TITLE,
				IBV.MODULE_ITEM_KEY,
				IBV.ARRIVAL_DATE,
				IBV.MODULE_CODE,
				IBV.MODULE_DESC,
				IBV.TO_USER,
				IBV.MESSAGE_ID,
				IBV.FROM_USER,
				IBV.SUBJECT_TYPE,
				IBV.SUBJECT_DESCRIPTION,
				IBV.OPENED_FLAG,
				IBV.UPDATE_TIMESTAMP,
				IBV.UPDATE_USER,
				IBV.SPONSOR_CODE,
				IBV.SPONSOR_NAME,
				IBV.SYSTEM_DATE,
				IBV.UNIT_NUMBER,
				IBV.UNIT_NAME,
				IBV.PI_NAME,
				IBV.STATUS_CODE,
				IBV.STATUS_DESC
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$INBOX_VIEW" alias="IBV" />
			</FROM>
		</QUERY>
		<PROCEDURE name="GET_INBOX_VIEW_FOR_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="DEADLINE_DATE">Deadline Date</FIELD>
			<FIELD name="FROM_USER_NAME">From</FIELD>
			<FIELD name="MESSAGE">Message</FIELD>
			<FIELD name="TITLE">Proposal Title</FIELD>
			<FIELD name="MODULE_ITEM_KEY">Proposal Number</FIELD>
			<FIELD name="ARRIVAL_DATE">Date Received</FIELD>
			<FIELD name="MODULE_CODE" visible="false">Module Code</FIELD>
			<FIELD name="MODULE_DESC" visible="false">Module Name</FIELD>
			<FIELD name="TO_USER" visible="false">To User</FIELD>
			<FIELD name="MESSAGE_ID" visible="false">Message ID</FIELD>
			<FIELD name="FROM_USER" visible="false">From User</FIELD>
			<FIELD name="SUBJECT_TYPE" visible="false">Subject Type</FIELD>
			<FIELD name="SUBJECT_DESCRIPTION" visible="false">Subject Description</FIELD>
			<FIELD name="OPENED_FLAG" visible="false">Opened Flag</FIELD>
			<FIELD name="UPDATE_TIMESTAMP" visible="false">Update Timestamp</FIELD>
			<FIELD name="UPDATE_USER" visible="false">Updated By</FIELD>
			<FIELD name="SPONSOR_CODE" visible="false">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_NAME" visible="false">Sponsor Name</FIELD>
			<FIELD name="SYSTEM_DATE" visible="false">System Date</FIELD>
			<FIELD name="UNIT_NUMBER" visible="false">Unit Number</FIELD>
			<FIELD name="UNIT_NAME" visible="false">Unit Name</FIELD>
			<FIELD name="PI_NAME" visible="false">PI Name</FIELD>
			<FIELD name="STATUS_CODE" visible="false">Status Code</FIELD>
			<FIELD name="STATUS_DESC" visible="false">Status Description</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			WHERE IBV.OPENED_FLAG = 'Y' AND UPPER(TO_USER)=UPPER('COEUS')
		</REMCLAUSE>
	</INBOX_RESOLVED_LITE>
	<!-- The elements used to represent the details of each field which has 
		been specified in the CRITERIA section for each search. No need to specify 
		a COULMN with a name more than once. The types can be either of the following 
		1) text 2) list if it is list, there should be an entry for the PROCEDURE 
		element. The attributes, discriptionlabel and code label is for displaying 
		the labels for the description and code on the top of the list box. This 
		will be applied only when the applet implementation comes into picture. -->

	<!-- FOR SUBCONTRACT SEARCH -->
	<!-- JM 6-6-2012 maintained old headers for clarity -->
	<COLUMN name="SU.SUBCONTRACT_CODE" type="text" label="Subcontract Code" />
	<COLUMN name="SU.SUBCONTRACTOR_ID" type="text" label="Subcontractor Id" />
	<COLUMN name="O.ORGANIZATION_NAME" type="text" label="Subcontractor Name" />
	<!-- JM END -->
	<COLUMN name="SU.START_DATE" type="date" label="Start Date" />
	<COLUMN name="SU.END_DATE" type="date" label="End Date" />
	<COLUMN name="SU.SUBAWARD_TYPE_CODE" type="list" label="Subaward Type"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="DW_GET_AWARD_TYPE" codeselectparam="AWARD_TYPE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="SU.PURCHASE_ORDER_NUM" type="text" label="Purchase Order Num" />
	<!-- JM 5-27-2011 changed to award number per 4.4.2 -->
	<COLUMN name="OSP$SUBCONTRACT_FUNDING_SOURCE.MIT_AWARD_NUMBER"
		type="text" label="Award Number" />
	<!-- JM END -->
	<COLUMN name="SU.TITLE" type="text" label="Title" />
	<COLUMN name="SU.STATUS_CODE" type="list" label="Status"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="DW_GET_SUBCONTRACT_STATUS" codeselectparam="SUBCONTRACT_STATUS_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>

	<!-- JM 5-27-2011 changed to center per 4.4.2 -->
	<COLUMN name="SU.ACCOUNT_NUMBER" type="text" label="Center Number" />
	<!-- JM END -->
	<!-- JM 3-16-2015 updated labels -->
	<COLUMN name="SU.VENDOR_NUMBER" type="text" label="Vendor Number" />
	<COLUMN name="PS.FULL_NAME" type="text" label="Principal Investigator" />
	<COLUMN name="SU.REQUISITIONER_UNIT" type="text" label="Unit Number" />
	<COLUMN name="U.UNIT_NAME" type="text" label="Unit Name" />
	<!-- JM END -->
	<COLUMN name="SU.ARCHIVE_LOCATION" type="text" label="Archive Location" />
	<COLUMN name="SU.CLOSEOUT_DATE" type="date" label="Closeout Date" />
	<!-- JM 3-16-2015 updated label -->
	<COLUMN
		name="(TRIM(R.LAST_NAME || ' , ' || R.FIRST_NAME || ' ' || R.MIDDLE_NAME))"
		type="text" label="Sub Investigator" />
	<!-- JM END -->
	<!-- END SUBCONTRACT SEARCH -->

	<!-- FOR REPORTING QUERY SEARCH -->

	<COLUMN name="AR.MIT_AWARD_NUMBER" type="text" label="Award Number" />
	<COLUMN name="AI.PERSON_NAME" type="text" label="Investigator" />
	<COLUMN name="AR.DUE_DATE" type="date" label="Due Date" />
	<COLUMN name="RC.REPORT_CLASS_CODE" type="list" label="Report Class"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="DW_GET_REPORT_CLASS" codeselectparam="REPORT_CLASS_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>

	<COLUMN name="AR.REPORT_CODE" type="list" label="Report Type"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="DW_GET_REPORT" codeselectparam="REPORT_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>

	<COLUMN name="AR.REPORT_STATUS_CODE" type="list" label="Status"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="DW_GET_REPORT_STATUS" codeselectparam="REPORT_STATUS_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>

	<!-- JM 6-6-2012 maintained old headers for clarity -->
	<COLUMN name="U.UNIT_NUMBER" type="text" label="Unit Number" />
	<COLUMN name="U.UNIT_NAME" type="text" label="Unit Name" />
	<COLUMN name="AR.OVERDUE_COUNTER" type="text" label="Overdue #" />
	<!-- JM END -->
	<COLUMN name="AR.FREQUENCY_CODE" type="list" label="Frequency"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="DW_GET_FREQUENCY" codeselectparam="FREQUENCY_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>

	<COLUMN name="AR.FREQUENCY_BASE_CODE" type="list" label="Frequency Base"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="DW_GET_FREQUENCY_BASE" codeselectparam="FREQUENCY_BASE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>

	<COLUMN name="AR.ACTIVITY_DATE" type="date" label="Activity Date" />

	<COLUMN name="AR.COMMENTS" type="text" label="Comments" />
	<COLUMN name="P.FULL_NAME" type="text" label="Person" />
	<COLUMN name="S.SPONSOR_CODE" type="text" label="Sponsor Code" />
	<COLUMN name="S.SPONSOR_NAME" type="text" label="Sponsor Name" />
	<COLUMN name="A.SPONSOR_AWARD_NUMBER" type="text"
		label="Sponsor Award Number" />

	<!-- END REPORTING QUERY SEARCH -->


	<!-- FOR NEGOTIATION SEARCH -->
	<COLUMN name="N.NEGOTIATION_NUMBER" type="text" label="Proposal Number" />
	<COLUMN name="PN.PI_NAME" type="text" label="PI Name" />
	<COLUMN name="PN.PROPOSAL_NUMBER" type="text" label="Proposal Number" />
	<COLUMN name="PN.SPONSOR_CODE" type="text" label="Sponsor Code" />
	<COLUMN name="OS.SPONSOR_NAME" type="text" label="Sponsor Name" />
	<COLUMN name="PN.TITLE" type="text" label="Title" />
	<COLUMN name="OSP$NEGOTIATION_ACTIVITIES.FOLLOWUP_DATE" type="date"
		label="Followup Date" />
	<COLUMN name="OP.FULL_NAME" type="text" label="Negotiator" />
	<COLUMN name="N.START_DATE" type="date" label="Negotiation Start Date" />
	<COLUMN name="N.NEGOTIATION_STATUS_CODE" type="list"
		label="Negotiation Status" descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="DW_GET_NEGOTIATION_STATUS" codeselectparam="NEGOTIATION_STATUS_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>

	<COLUMN name="PN.PROPOSAL_TYPE_CODE" type="list" label="Proposal Type"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="GET_PROPOSAL_TYPE_LIST_DW" codeselectparam="PROPOSAL_TYPE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>

	<COLUMN name="PN.UNIT_NUMBER" type="text" label="Lead Unit Number" />
	<COLUMN name="OU.UNIT_NAME" type="text" label="Lead Unit Name" />
	<!-- END NEGOTIATION SEARCH -->

	<!-- for proposal search -->

	<COLUMN name="OSP$PERSON.PERSON_ID" type="text" label="Person Id" />
	<COLUMN name="OSP$PERSON.FULL_NAME" type="text" label="Full Name" />
	<COLUMN name="OSP$PERSON.LAST_NAME" type="text" label="Last Name" />
	<COLUMN name="OSP$PERSON.FIRST_NAME" type="text" label="First Name" />
	<COLUMN name="OSP$PERSON.PRIOR_NAME" type="text" label="Prior Name" />
	<COLUMN name="OSP$PERSON.USER_NAME" type="text" label="User Name" />
	<COLUMN name="OSP$PERSON.EMAIL_ADDRESS" type="text" label="Email" />
	<!-- JM 5-27-2011 changed text per 4.4.2 -->
	<COLUMN name="OSP$PERSON.HOME_UNIT" type="text" label="Unit Number" />
	<COLUMN name="OSP$UNIT.UNIT_NAME" type="text" label="Unit Name" />
	<!-- JM END -->
	<COLUMN name="OSP$PERSON.SCHOOL" type="text" label="School" />
	<COLUMN name="OSP$PERSON.DIRECTORY_TITLE" type="text" label="Directory Title" />
	<COLUMN name="OSP$PERSON.OFFICE_LOCATION" type="text" label="Office Location" />
	<COLUMN name="OSP$PERSON.OFFICE_PHONE" type="text" label="Office Phone" />
	<COLUMN name="OSP$ORGANIZATION_TYPE" type="list" label="Organization Type"
		discriptionlabel="Description" codelabel="Code">
		<PROCEDURE name="dw_get_organization_type_list"
			codeselectparam="ORGANIZATION_TYPE_CODE" descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="OSP$AWARD_HEADER.TITLE" type="text" label="Award Title" />
	<COLUMN name="OSP$AWARD_UNITS.UNIT_NUMBER" type="text" label="Unit Number" />
	<COLUMN name="SPONSOR.SPONSOR_NAME" type="text" label="Sponsor Name" />
	<COLUMN name="OSP$AWARD_INVESTIGATORS.PERSON_NAME" type="text"
		label="Investigator Name" />
	<COLUMN name="OSP$AWARD.STATUS_CODE" type="list" label="Award Status"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="dw_get_award_status" codeselectparam="STATUS_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="OSP$AWARD.SPONSOR_AWARD_NUMBER" type="text"
		label="Sponsor Award Number" />
	<COLUMN name="OSP$AWARD.MIT_AWARD_NUMBER" type="text" label="Award Number" />
	<!-- JM 5-27-2011 changed to center per 4.4.2 -->
	<COLUMN name="OSP$AWARD.ACCOUNT_NUMBER" type="text" label="Center Number" />
	<!-- JM END -->
	<COLUMN name="OSP$AWARD.OSP_ADMINISTRATOR" type="text"
		label="OSP Administrator" />
	<COLUMN name="OSP$SPONSOR.SPONSOR_CODE" type="text" label="Sponsor Code" />
	<COLUMN name="OSP$SPONSOR.SPONSOR_NAME" type="text" label="Sponsor Name" />

	<COLUMN name="OSP$SPONSOR.SPONSOR_TYPE_CODE" type="list" label="Sponsor Type"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="dw_get_sponsor_type" codeselectparam="SPONSOR_TYPE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<!-- Commented/Added for case#3119 - start -->
	<!-- <COLUMN name="OSP$SPONSOR.STATE" type="text" label="State"/> -->
	<COLUMN name="OSP$SPONSOR.STATE" type="list" label="State/ Province Name"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="dw_get_state_codes" codeselectparam="STATE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<!-- Commented/Added for case#3119 - end -->
	<COLUMN name="OSP$ROLODEX.STATE" type="list" label="State/ Province Name"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="dw_get_state_codes" codeselectparam="STATE_CODE"
			descriptionselectparam="DESCRIPTION" />

	</COLUMN>
	<COLUMN name="OSP$ROLODEX.POSTAL_CODE" type="text" label="Postal Code" />
	<COLUMN name="OSP$ROLODEX.COUNTRY_CODE" type="list" label="Country"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="dw_get_country_code" codeselectparam="COUNTRY_CODE"
			descriptionselectparam="COUNTRY_NAME" />
	</COLUMN>
	<COLUMN name="OSP$ROLODEX.ROLODEX_STATUS" type="list" label="Status"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="get_rolodex_status_code_desc"
			codeselectparam="CODE" descriptionselectparam="Description" />
	</COLUMN>
	<!-- JM 5-27-2011 changed label per 4.4.2 -->
	<COLUMN name="OSP$SPONSOR.DUN_AND_BRADSTREET_NUMBER" type="text"
		label="Duns Number" />
	<!-- JM END -->
	<COLUMN name="OSP$SPONSOR.AUDIT_REPORT_SENT_FOR_FY" type="text"
		label="Audit Report" />
	<COLUMN name="OSP$SPONSOR.OWNED_BY_UNIT" type="text" label="Owned by Unit" />
	<COLUMN name="OSP$SPONSOR.ACRONYM" type="text" label="Acronym" />
	<!-- JM 5-27-2011 changed labels per 4.4.2 -->
	<COLUMN name="OSP$SPONSOR.DUNS_PLUS_FOUR_NUMBER" type="text"
		label="Duns Plus Four" />
	<COLUMN name="OSP$SPONSOR.DODAC_NUMBER" type="text" label="GL Fund" />
	<COLUMN name="OSP$SPONSOR.CAGE_NUMBER" type="text" label="GL Agency" />
	<!-- JM END -->
	<!--Added for COEUSQA-1434 : Add the functionality to set a status on a 
		Sponsor record - start -->
	<!--Added for sponsor search -->
	<COLUMN name="OSP$SPONSOR.STATUS" type="list" label="Status"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="get_sponsor_status_code_desc"
			codeselectparam="CODE" descriptionselectparam="Description" />
	</COLUMN>
	<!--Added for COEUSQA-1434 : Add the functionality to set a status on a 
		Sponsor record - end -->

	<!-- for proposal search -->
	<COLUMN name="OSP$PROPOSAL.PROPOSAL_NUMBER" type="text"
		label="Proposal Number" />
	<COLUMN name="OSP$PROPOSAL.PROPOSAL_TYPE_CODE" type="list"
		label="Proposal Type" descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="get_proposal_type_list_dw" codeselectparam="PROPOSAL_TYPE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<!-- JM 5-24-2011 changed to center per 4.4.2 -->
	<COLUMN name="OSP$PROPOSAL.CURRENT_ACCOUNT_NUMBER" type="text"
		label="Center Number" />
	<!-- JM END -->
	<COLUMN name="OSP$PROPOSAL.SPONSOR_CODE" type="text" label="Sponsor Code" />
	<COLUMN name="OSP$SPONSOR.SPONSOR_NAME" type="text" label="Sponsor Name" />
	<COLUMN name="OSP$PROPOSAL.STATUS_CODE" type="list" label="Status"
		descritpionlabel="Description" codelabel="Code">
		<!-- JM 5-27-2011 added per 4.4.2 -->
		<COLUMN name="OSP$PROPOSAL.SPONSOR_PROPOSAL_NUMBER" type="string"
			label="Sponsor Proposal Number" />
		<!-- JM END -->
		<PROCEDURE name="dw_get_proposal_status" codeselectparam="PROPOSAL_STATUS_CODE"
			descriptionselectparam="DESCRIPTION" />

	</COLUMN>
	<COLUMN name="OSP$TEMP_PROPOSAL_MERGE_LOG.TEMP_PROPOSAL_NUMBER"
		type="text" label="Merged Proposal" />
	<!-- JM 5-27-2011 changed labels per 4.4.2 -->
	<COLUMN name="OSP$PROPOSAL_UNITS.UNIT_NUMBER" type="text" label="Unit Number" />
	<COLUMN name="OSP$UNIT.UNIT_NAME" type="text" label="Unit Name" />
	<!-- END -->

	<COLUMN name="OSP$PROPOSAL_INVESTIGATORS.PERSON_NAME" type="text"
		label="Investigator" />
	<COLUMN name="OSP$PROPOSAL.TITLE" type="text" label="Title" />
	<!-- JM 3-16-2012 added additional search fields per user enhancement request -->
	<COLUMN name="OSP$PROPOSAL.REQUESTED_START_DATE_INITIAL" type="date"
		label="Requested Start Date Initial" />
	<COLUMN name="OSP$PROPOSAL.REQUESTED_START_DATE_TOTAL" type="date"
		label="Requested Start Date Total" />
	<COLUMN name="OSP$PROPOSAL.REQUESTED_END_DATE_INITIAL" type="date"
		label="Requested End Date Initial" />
	<COLUMN name="OSP$PROPOSAL.REQUESTED_END_DATE_TOTAL" type="date"
		label="Requested End Date Total" />
	<!-- <COLUMN name="OSP$PROPOSAL.TOTAL_DIRECT_COST_INITIAL" type="number" 
		label="Total Direct Cost Initial"/> <COLUMN name="OSP$PROPOSAL.TOTAL_DIRECT_COST_TOTAL" 
		type="number" label="Total Direct Cost Total"/> <COLUMN name="OSP$PROPOSAL.TOTAL_INDIRECT_COST_INITIAL" 
		type="number" label="Total Indirect Cost Initial"/> <COLUMN name="OSP$PROPOSAL.TOTAL_INDIRECT_COST_TOTAL" 
		type="number" label="Total Indirect Cost Total"/> -->
	<!-- END -->
	<!-- end of proposal search -->

	<!-- for proposal development search -->
	<COLUMN name="P.PROPOSAL_NUMBER" type="text" label="Proposal Number" />
	<!--<COLUMN name="P.PROPOSAL_TYPE_CODE" type="list" label="Proposal Type"/> -->
	<COLUMN name="P.PROPOSAL_TYPE_CODE" type="list" label="Proposal Type"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="get_proposal_type_list" codeselectparam="PROPOSAL_TYPE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>

	<!-- JM 5-27-2011 changed to center per 4.4.2 -->
	<COLUMN name="P.CURRENT_ACCOUNT_NUMBER" type="text" label="Center" />
	<!-- JM END -->
	<!-- JM 5-24-2011 added per 4.4.2 -->
	<COLUMN name="P.PROGRAM_ANNOUNCEMENT_NUMBER" type="text" label="Opp ID" />
	<COLUMN name="P.PROGRAM_ANNOUNCEMENT_TITLE" type="text" label="Program Title" />
	<!-- JM END -->
	<COLUMN name="P.SPONSOR_CODE" type="text" label="Sponsor Code" />
	<!-- <COLUMN name="P.CREATION_STATUS_CODE" type="list" label="Status"/> -->

	<COLUMN name="P.CREATION_STATUS_CODE" type="list" label="Status"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="GET_EPS_PROP_STATUS" codeselectparam="CODE"
			descriptionselectparam="DESCRIPTION" />

	</COLUMN>
	<COLUMN name="INV.PERSON_NAME" type="text" label="Investigator" />

	<COLUMN name="I.PERSON_NAME" type="text" label="Investigator" />
	<COLUMN name="U.UNIT_NUMBER" type="text" label="Unit Number" />
	<!-- JM 11-25-2013 added OSP Adminstrator -->
	<COLUMN name="OSP$PERSON.FULL_NAME" type="text" label="OSP Administrator" />
	<!-- JM END -->
	<COLUMN name="P.TITLE" type="text" label="Title" />
	<COLUMN name="P.DEADLINE_DATE" type="date" label="Deadline Date" />
	<!--<COLUMN name="P.TEMPLATE_FLAG" type="text" label="TEMPLATE_FLAG"/> -->
	<!-- end of proposal development search -->

	<!-- for lead unit search -->
	<COLUMN name="OSP$UNIT.ADMINISTRATIVE_OFFICER" type="text"
		label="Administrative Officer" />
	<COLUMN name="OSP$UNIT.DEAN_VP" type="text" label="Dean VP" />
	<COLUMN name="OSP$UNIT.UNIT_HEAD" type="text" label="Unit Head" />
	<COLUMN name="OSP$UNIT.OTHER_INDIVIDUAL_TO_NOTIFY" type="text"
		label="Other Ind To Notify" />
	<COLUMN name="OSP$UNIT.UNIT_NUMBER" type="text" label="Unit Number" />
	<COLUMN name="OSP$UNIT.OSP_ADMINISTRATOR" type="text"
		label="Osp Administrator" />
	<!-- end of lead unit search -->

	<COLUMN name="OSP$INV_COI_DISCLOSURE.PERSON_ID" type="text"
		label="Person" />
	<COLUMN name="OSP$INV_COI_DISCLOSURE.DISCLOSURE_TYPE" type="text"
		label="Disclosure Type" />
	<COLUMN name="OSP$INV_COI_DISCLOSURE.MODULE_CODE" type="text"
		label="Module" />
	<COLUMN name="OSP$INV_COI_DISCLOSURE.MODULE_ITEM_KEY" type="text"
		label="Applies to" />
	<COLUMN name="OSP$INV_COI_DISC_STATUS_CHANGE.COI_DISCLOSURE_STATUS_CODE"
		type="list" label="Status" descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="dw_get_coi_disclosure_status"
			codeselectparam="COI_DISCLOSURE_STATUS_CODE" descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<!-- for rolodex -->
	<COLUMN name="OSP$ROLODEX.ROLODEX_ID" type="text" label="Rolodex Id" />
	<COLUMN name="OSP$ROLODEX.SPONSOR_CODE" type="text" label="Sponsor Code" />
	<COLUMN name="OSP$SPONSOR.SPONSOR_NAME" type="text" label="Sponsor Name" />
	<COLUMN name="OSP$ROLODEX.LAST_NAME" type="text" label="Last Name" />
	<COLUMN name="OSP$ROLODEX.FIRST_NAME" type="text" label="First Name" />
	<COLUMN name="OSP$ROLODEX.MIDDLE_NAME" type="text" label="Middle Name" />
	<COLUMN name="OSP$ROLODEX.SUFFIX" type="text" label="Suffix" />
	<COLUMN name="OSP$ROLODEX.PREFIX" type="text" label="Prefix" />
	<COLUMN name="OSP$ROLODEX.TITLE" type="text" label="Title" />
	<COLUMN name="OSP$ROLODEX.ORGANIZATION" type="text" label="Organization" />
	<COLUMN name="OSP$ROLODEX.ADDRESS_LINE_1" type="text" label="Address Line 1" />
	<COLUMN name="OSP$ROLODEX.ADDRESS_LINE_2" type="text" label="Address Line 2" />
	<COLUMN name="OSP$ROLODEX.ADDRESS_LINE_3" type="text" label="Address Line 3" />
	<COLUMN name="OSP$ROLODEX.FAX_NUMBER" type="text" label="Fax Number" />
	<COLUMN name="OSP$ROLODEX.EMAIL_ADDRESS" type="text" label="Email Address" />
	<COLUMN name="OSP$ROLODEX.CITY" type="text" label="City" />
	<COLUMN name="OSP$ROLODEX.COUNTY" type="text" label="County" />
	<COLUMN name="OSP$ROLODEX.COMMENTS" type="text" label="Comments" />
	<COLUMN name="OSP$ROLODEX.PHONE_NUMBER" type="text" label="Phone Number" />
	<!-- end rolodex -->

	<!-- for Area Of Research search -->
	<COLUMN name="OSP$RESEARCH_AREAS.RESEARCH_AREA_CODE" type="text"
		label="Area Research Code" />
	<COLUMN name="OSP$RESEARCH_AREAS.DESCRIPTION" type="text" label="Description" />
	<!-- end of Area Of Research search -->

	<!-- Start Organization -->
	<COLUMN name="ORG.ORGANIZATION_ID" type="text" label="Id" />
	<COLUMN name="ORG.ORGANIZATION_NAME" type="text" label="Name" />
	<COLUMN name="ORG.ADDRESS" type="text" label="Address" />
	<COLUMN name="ORG.CONGRESSIONAL_DISTRICT" type="text" label="Congr District" />
	<COLUMN name="ORG.FEDRAL_EMPLOYER_ID" type="text" label="Fed Employee Id" />
	<!-- JM 5-27-2011 removed per 4.4.2 <COLUMN name="ORG.VENDOR_CODE" type="text" 
		label="Vendor Code"/> -->
	<!-- JM 5-27-2011 uncommmented and changed label per 4.4.2 -->
	<COLUMN name="ORG.DUNS_NUMBER" type="text" label="Duns Number" />
	<!-- JM 5-27-2011 changed labels -->
	<COLUMN name="ORG.DUNS_PLUS_FOUR_NUMBER" type="text" label="Duns Plus Four" />
	<COLUMN name="ORG.DODAC_NUMBER" type="text" label="GL Fund" />
	<COLUMN name="ORG.CAGE_NUMBER" type="text" label="GL Agency" />
	-->
	<!-- END -->
	<!-- end Organization -->

	<!-- Start Protocol -->
	<COLUMN name="OSP$PROTOCOL.PROTOCOL_NUMBER" type="text" label="Protocol No" />
	<COLUMN name="OSP$PROTOCOL.PROTOCOL_TYPE_CODE" type="list"
		label="Protocol Type" descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="get_protocol_types" codeselectparam="PROTOCOL_TYPE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="OSP$PROTOCOL.PROTOCOL_STATUS_CODE" type="list"
		label="Protocol Status" descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="get_protocol_status" codeselectparam="PROTOCOL_STATUS_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="OSP$PROTOCOL.TITLE" type="text" label="Title" />
	<COLUMN name="OSP$PROTOCOL.REFERENCE_NUMBER_1" type="text"
		label="Reference #1" />
	<COLUMN name="OSP$PROTOCOL.DESCRIPTION" type="text"
		label="Description/Keyword" />
	<COLUMN name="OSP$PROTOCOL.APPLICATION_DATE" type="text"
		label="Application Date" />
	<COLUMN name="OSP$PROTOCOL.APPROVAL_DATE" type="text" label="Approval Date" />
	<COLUMN name="OSP$PROTOCOL.EXPIRATION_DATE" type="text"
		label="Expiration Date" />
	<COLUMN name="OSP$PROTOCOL_INVESTIGATORS.PERSON_NAME" type="text"
		label="Investigator" />
	<COLUMN name="OSP$PROTOCOL_INVESTIGATORS.PERSON_ID" type="text"
		label="Investigator" />
	<COLUMN name="OSP$PROTOCOL_KEY_PERSONS.PERSON_NAME" type="text"
		label="Key Person" />
	<COLUMN name="OSP$RESEARCH_AREAS.DESCRIPTION" type="text"
		label="Research Area" />
	<COLUMN name="OSP$PROTOCOL_UNITS.UNIT_NUMBER" type="text" label="Unit Number" />
	<COLUMN name="UNIT.UNIT_NAME" type="text" label="Unit Name" />
	<COLUMN name="OSP$PROTOCOL_FUNDING_SOURCE.FUNDING_SOURCE" type="text"
		label="Funding Source" />

	<!-- end Protocol -->

	<!-- for schedule search -->
	<COLUMN name="S.SCHEDULE_ID" type="text" label="Schedule Id" />
	<COLUMN name="S.SCHEDULED_DATE" type="date" label="Scheduled Date" />
	<COLUMN name="S.PLACE" type="text" label="Place" />
	<COLUMN name="S.SCHEDULE_STATUS_CODE" type="list" label="Schedule Status"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="GET_SCHEDULE_STATUS" codeselectparam="SCHEDULE_STATUS_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="S.PROTOCOL_SUB_DEADLINE" type="date" label="Deadline" />
	<COLUMN name="C.COMMITTEE_ID" type="text" label="Committee Id" />
	<COLUMN name="C.COMMITTEE_NAME" type="text" label="Committee Name" />
	<COLUMN name="C.COMMITTEE_TYPE_CODE" type="list" label="Committee Type"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="GET_COMMITTEE_TYPES" codeselectparam="COMMITTEE_TYPE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="SUBMISSION.PROTOCOL_NUMBER" type="text" label="Protocol" />
	<!-- end of schedule search -->

	<!-- for user search screen -->
	<COLUMN name="OSP$USER.USER_ID" type="text" label="User ID" />
	<COLUMN name="OSP$USER.USER_NAME" type="text" label="User Name" />
	<COLUMN name="OSP$USER.NON_MIT_PERSON_FLAG" type="list" label="Non Employee"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="GET_NON_MIT_PERSON_FLAG" codeselectparam="CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="OSP$USER.UNIT_NUMBER" type="text" label="Unit Number" />
	<COLUMN name="OSP$UNIT.UNIT_NAME" type="text" label="Unit Name" />
	<COLUMN name="OSP$USER.STATUS" type="list" label="Status"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="GET_STATUS_CODE_DESC" codeselectparam="CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<!-- end of user search screen -->

	<!-- for Science Code search -->
	<COLUMN name="SCIENCE_CODE" type="text" label="Code" />
	<COLUMN name="DESCRIPTION" type="text" label="Description" />
	<!-- end of Science Code Search -->

	<!-- For Submission search -->
	<COLUMN name="OSP$PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE"
		type="list" label="Submission Status" descritpionlabel="Description"
		codelabel="Code">
		<PROCEDURE name="GET_SUBMISSION_STATUS" codeselectparam="SUBMISSION_STATUS_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="OSP$PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE"
		type="list" label="Submission Type" descritpionlabel="Description"
		codelabel="Code">
		<PROCEDURE name="GET_SUBMISSION_TYPES" codeselectparam="SUBMISSION_TYPE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="OSP$PROTOCOL_SUBMISSION.SUBMISSION_TYPE_QUAL_CODE"
		type="list" label="Submission Type Qualifier" descritpionlabel="Description"
		codelabel="Code">
		<PROCEDURE name="GET_SUBMISSION_TYPE_QUALS" codeselectparam="SUBMISSION_TYPE_QUAL_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="OSP$PROTOCOL_SUBMISSION.PROTOCOL_REVIEW_TYPE_CODE"
		type="list" label="Review Type " descritpionlabel="Description"
		codelabel="Code">
		<PROCEDURE name="GET_PROTOCOL_REVIEW_TYPES" codeselectparam="PROTOCOL_REVIEW_TYPE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="OSP$PROTOCOL_SUBMISSION.COMMITTEE_ID" type="text"
		label="Committee Id" />
	<COLUMN name="SUBMISSION_DATE" type="date" label="Submission Date" />
	<COLUMN name="SCHEDULED_DATE" type="date" label="Schedule Date" />
	<!--<COLUMN name="OSP$PROTOCOL_SUBMISSION.SCHEDULE_ID" type="date" label="Schedule 
		Id"/> -->
	<!--End of Submision Search -->

	<!--Proposal Log Search start -->
	<COLUMN name="P.SPONSOR_NAME" type="text" label="Sponsor Name" />
	<COLUMN name="P.LOG_STATUS" type="list" label="Status"
		descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="GET_PROPOSAL_LOG_STATUS" codeselectparam="CODE"
			descriptionselectparam="DESCRIPTION" />

	</COLUMN>
	<COLUMN name="P.LEAD_UNIT" type="text" label="Unit" />
	<COLUMN name="PU.UNIT_NAME" type="text" label="Unit Name" />
	<COLUMN name="P.PI_NAME" type="text" label="PI" />
	<COLUMN name="P.UPDATE_TIMESTAMP" type="text" label="Update Timestamp" />
	<COLUMN name="P.UPDATE_USER" type="text" label="Update User" />
	<COLUMN name="P.CREATE_TIMESTAMP" type="text" label="Create Date" />
	<COLUMN name="P.CREATE_USER" type="text" label="Create User" />
	<COLUMN name="TMPL.PROPOSAL_NUMBER" type="text" label="Merged Proposal" />
	<!--Proposal Log Search end -->

	<!-- S2S Submission search column details -->
	<COLUMN name="SUB.PROPOSAL_NUMBER" type="text" label="Proposal Number" />
	<COLUMN name="OSP$EPS_PROPOSAL.TITLE" type="text" label="Proposal Title" />
	<COLUMN name="SUB.SUBMISSION_NUMBER" type="text" label="Submission Number" />
	<COLUMN name="SUB.COMMENTS" type="text" label="Comments" />
	<COLUMN name="SUB.STATUS" type="text" label="Status" />
	<COLUMN name="SUB.GG_TRACKING_ID" type="text" label="Grants.Gov Tracking Id" />
	<COLUMN name="SUB.RECEIVED_DATE" type="text" label="Received Date" />
	<COLUMN name="SUB.LAST_MODIFIED_DATE" type="text" label="Modified Date" />
	<COLUMN name="SUB.UPDATE_TIMESTAMP" type="text" label="Update Timestamp" />
	<COLUMN name="SUB.UPDATE_USER" type="text" label="Update User" />
	<COLUMN name="OPP.OPPORTUNITY_ID" type="text" label="Program Number" />
	<COLUMN name="OPP.CFDA_NUMBER" type="text" label="CFDA Number" />
	<COLUMN name="SUB.AGENCY_TRACKING_ID" type="text" label="Agency Tracking Id" />
	<COLUMN name="PI.PERSON_NAME" type="text" label="Investigator Name" />
	<COLUMN name="P.DEADLINE_DATE" type="text" label="Deadline Date" />
	<!-- S2S Submission search criteria details ends -->

	<COLUMN name="OSP$QUESTIONNAIRE.QUESTIONNAIRE_ID" type="text"
		label="Questionnaire Id" />
	<COLUMN name="OSP$QUESTIONNAIRE.NAME" type="text" label="Name" />
	<COLUMN name="OSP$QUESTIONNAIRE.DESCRIPTION" type="text" label="Description" />

	<COLUMN name="OSP$QUESTION.QUESTION_ID" type="text" label="Question Id" />
	<COLUMN name="OSP$QUESTION.QUESTION" type="text" label="Question" />
	<COLUMN name="OSP$QUESTION.MAX_ANSWERS" type="text" label="Max Answers" />
	<COLUMN name="FS.FUNDING_SOURCE" type="text" label="Funding Source" />
	<COLUMN name="P.UNIT_NUMBER" type="text" label="Lead Unit" />
	<!--IACUC START -->
	<ALL_IACUC_SEARCH display="All Protocols"
		retrievelimit="IACUC_PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$AC_PROTOCOL.PROTOCOL_NUMBER ,
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER ,

				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,

				OSP$AC_PROTOCOL.TITLE ,
				to_char(OSP$AC_PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPLICATION_DATE",
				to_char(OSP$AC_PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$AC_PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$AC_PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$AC_PROTOCOL.CREATE_USER ,
				OSP$AC_PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$AC_PROTOCOL.UPDATE_USER
			</SELECTQUERY>


			<FROM>
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_STATUS" alias="PS" />

			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="OSP$AC_PROTOCOL.SEQUENCE_NUMBER
                   IN (SELECT
                   MAX(A.SEQUENCE_NUMBER)
                   FROM
                   OSP$AC_PROTOCOL A
                   WHERE
                   A.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER) AND
            OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE" />

		</QUERY>

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="50">Status</FIELD>
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="160" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$AC_PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$AC_PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$AC_PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			AND OSP$AC_PROTOCOL_USER_ROLES.ROLE_ID NOT IN (301)
			union
			select distinct pi.protocol_number
			from OSP$AC_PROTOCOL_INVESTIGATORS pi, osp$person p
			where upper(p.user_name) = upper('COEUS') and
			pi.SEQUENCE_NUMBER IN ( SELECT MAX(INV.SEQUENCE_NUMBER)
			FROM OSP$AC_PROTOCOL_INVESTIGATORS INV
			WHERE INV.PROTOCOL_NUMBER = pi.PROTOCOL_NUMBER)
			and pi.person_id = p.person_id) ORDER BY OSP$AC_PROTOCOL.PROTOCOL_NUMBER
			DESC
		</REMCLAUSE>
		<!--Case#4369 - End -->

	</ALL_IACUC_SEARCH>


	<!-- COEUSQA:3050 - IACUC - add Pending PI Action - Start -->
	<!-- Specific Minor Revisions Required Pending Iacuc Protocols requiring 
		PI Action Search -->
	<PENDING_PI_ACTION_SMR_RQD_IACUC_PROTO_SEARCH
		display="SMR Reqd Pending Iacuc Protocols requiring PI Action"
		retrievelimit="IACUC_PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>

			<SELECTQUERY>
				SELECT DISTINCT
				OSP$AC_PROTOCOL.PROTOCOL_NUMBER ,
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$AC_PROTOCOL.TITLE ,
				to_char(OSP$AC_PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPLICATION_DATE",
				to_char(OSP$AC_PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$AC_PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$AC_PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$AC_PROTOCOL.CREATE_USER ,
				OSP$AC_PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$AC_PROTOCOL.UPDATE_USER
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_STATUS" alias="PS" />

			</FROM>

			<WHERE
				join="OSP$AC_PROTOCOL.SEQUENCE_NUMBER
    	            IN (SELECT
    	                  MAX(A.SEQUENCE_NUMBER)
    	                FROM
    	                  OSP$AC_PROTOCOL A
    	                WHERE
    	                  A.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER) AND
    	          OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE AND
    	          OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE = 104" />

		</QUERY>


		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<!--FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="50">Status</FIELD -->
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="160" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$AC_PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$AC_PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$AC_PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			UNION
			SELECT DISTINCT PI.PROTOCOL_NUMBER
			FROM OSP$AC_PROTOCOL_INVESTIGATORS PI, OSP$PERSON P
			WHERE UPPER(P.USER_NAME) = UPPER('COEUS')
			AND PI.PERSON_ID = P.PERSON_ID)
			ORDER BY PROTOCOL_STATUS_DESCRIPTION, OSP$AC_PROTOCOL.PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</PENDING_PI_ACTION_SMR_RQD_IACUC_PROTO_SEARCH>


	<!--Substantive Revisions Required Pending Iacuc Protocols requiring PI 
		Action Search -->
	<PENDING_PI_ACTION_SR_RQD_IACUC_PROTO_SEARCH
		display="SR Reqd Pending Iacuc Protocols requiring PI Action"
		retrievelimit="IACUC_PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>

			<SELECTQUERY>
				SELECT DISTINCT
				OSP$AC_PROTOCOL.PROTOCOL_NUMBER ,
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$AC_PROTOCOL.TITLE ,
				to_char(OSP$AC_PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPLICATION_DATE",
				to_char(OSP$AC_PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$AC_PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$AC_PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$AC_PROTOCOL.CREATE_USER ,
				OSP$AC_PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$AC_PROTOCOL.UPDATE_USER
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_STATUS" alias="PS" />

			</FROM>

			<WHERE
				join="OSP$AC_PROTOCOL.SEQUENCE_NUMBER
    	            IN (SELECT
    	                  MAX(A.SEQUENCE_NUMBER)
    	                FROM
    	                  OSP$AC_PROTOCOL A
    	                WHERE
    	                  A.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER) AND
    	          OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE AND
    	          OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE = 107" />

		</QUERY>


		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<!--FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="50">Status</FIELD -->
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="160" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$AC_PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$AC_PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$AC_PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			UNION
			SELECT DISTINCT PI.PROTOCOL_NUMBER
			FROM OSP$AC_PROTOCOL_INVESTIGATORS PI, OSP$PERSON P
			WHERE UPPER(P.USER_NAME) = UPPER('COEUS')
			AND PI.PERSON_ID = P.PERSON_ID)
			ORDER BY PROTOCOL_STATUS_DESCRIPTION, OSP$AC_PROTOCOL.PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</PENDING_PI_ACTION_SR_RQD_IACUC_PROTO_SEARCH>



	<!-- Recently Expiring Pending Iacuc Protocols requiring PI Action Search -->
	<!-- The Iacuc Protocol Expiration Date ranges from Current Date to the 
		next 31 days -->
	<PENDING_PI_ACTION_EXPIRE_IACUC_PROTO_SEARCH
		display="Expiring Iacuc Protocols requiring PI Action" retrievelimit="IACUC_PROTOCOL_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>

			<SELECTQUERY>
				SELECT DISTINCT
				OSP$AC_PROTOCOL.PROTOCOL_NUMBER ,
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$AC_PROTOCOL.TITLE ,
				to_char(OSP$AC_PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPLICATION_DATE",
				to_char(OSP$AC_PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$AC_PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$AC_PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$AC_PROTOCOL.CREATE_USER ,
				OSP$AC_PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$AC_PROTOCOL.UPDATE_USER
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_STATUS" alias="PS" />
				<TABLE
					name="( SELECT DECODE(DEFAULT_TIME_WINDOW,NULL,0,DEFAULT_TIME_WINDOW) AS EXP_DATE
    		    		    FROM OSP$AC_CORRESPONDENCE_BATCH
    		    		    WHERE CORRESP_BATCH_TYPE_CODE = 1 )"
					alias="EXP_DAYS_RANGE" />
			</FROM>

			<WHERE
				join="OSP$AC_PROTOCOL.SEQUENCE_NUMBER
    	            IN (SELECT
    	                  MAX(A.SEQUENCE_NUMBER)
    	                FROM
    	                  OSP$AC_PROTOCOL A
    	                WHERE
    	                  A.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER) AND
    	          OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE AND
    	          OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE IN ( 200,201) AND
    	          OSP$AC_PROTOCOL.EXPIRATION_DATE BETWEEN SYSDATE AND SYSDATE+EXP_DAYS_RANGE.EXP_DATE AND
    	          OSP$AC_PROTOCOL.PROTOCOL_NUMBER NOT IN ( SELECT DISTINCT PROTOCOL_NUMBER
                                                        FROM OSP$AC_PROTO_AMEND_RENEWAL
                                                        WHERE OSP$AC_PROTO_AMEND_RENEWAL.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER
                                                        AND SEQUENCE_NUMBER IN ( SELECT MAX(PAR.SEQUENCE_NUMBER) FROM OSP$AC_PROTO_AMEND_RENEWAL PAR
                                                                                 WHERE OSP$AC_PROTO_AMEND_RENEWAL.PROTOCOL_NUMBER = PAR.PROTOCOL_NUMBER)
                                                        AND  OSP$AC_PROTO_AMEND_RENEWAL.PROTO_AMEND_REN_NUMBER LIKE '%R%')" />

		</QUERY>

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<!--FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="50">Status</FIELD -->
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="160" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$AC_PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$AC_PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$AC_PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			AND OSP$AC_PROTOCOL_USER_ROLES.SEQUENCE_NUMBER IN (
			SELECT MAX(PUR.SEQUENCE_NUMBER ) FROM OSP$AC_PROTOCOL_USER_ROLES PUR
			WHERE PUR.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_USER_ROLES.PROTOCOL_NUMBER )
			UNION
			SELECT DISTINCT PI.PROTOCOL_NUMBER
			FROM OSP$AC_PROTOCOL_INVESTIGATORS PI, OSP$PERSON P
			WHERE UPPER(P.USER_NAME) = UPPER('COEUS')
			AND PI.SEQUENCE_NUMBER IN (
			SELECT MAX(PI1.SEQUENCE_NUMBER) FROM OSP$AC_PROTOCOL_INVESTIGATORS PI1
			WHERE PI1.PROTOCOL_NUMBER = PI.PROTOCOL_NUMBER)
			AND PI.PERSON_ID = P.PERSON_ID)
			UNION
			SELECT DISTINCT
			OSP$AC_PROTOCOL.PROTOCOL_NUMBER ,
			OSP$AC_PROTOCOL.SEQUENCE_NUMBER ,
			PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
			OSP$AC_PROTOCOL.TITLE ,
			to_char(OSP$AC_PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT')
			"APPLICATION_DATE",
			to_char(OSP$AC_PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
			"APPROVAL_DATE",
			to_char(OSP$AC_PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
			"EXPIRATION_DATE",
			to_char(OSP$AC_PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
			OSP$AC_PROTOCOL.CREATE_USER ,
			OSP$AC_PROTOCOL.UPDATE_TIMESTAMP ,
			OSP$AC_PROTOCOL.UPDATE_USER
			FROM OSP$AC_PROTOCOL,OSP$AC_PROTOCOL_STATUS PS
			WHERE OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE
			AND OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE = 308
			AND OSP$AC_PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$AC_PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$AC_PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			AND OSP$AC_PROTOCOL_USER_ROLES.SEQUENCE_NUMBER IN (
			SELECT MAX(PUR.SEQUENCE_NUMBER ) FROM OSP$AC_PROTOCOL_USER_ROLES PUR
			WHERE PUR.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_USER_ROLES.PROTOCOL_NUMBER )
			UNION
			SELECT DISTINCT PI.PROTOCOL_NUMBER
			FROM OSP$AC_PROTOCOL_INVESTIGATORS PI, OSP$PERSON P
			WHERE UPPER(P.USER_NAME) = UPPER('COEUS')
			AND PI.SEQUENCE_NUMBER IN (
			SELECT MAX(PI1.SEQUENCE_NUMBER) FROM OSP$AC_PROTOCOL_INVESTIGATORS PI1
			WHERE PI1.PROTOCOL_NUMBER = PI.PROTOCOL_NUMBER)
			AND PI.PERSON_ID = P.PERSON_ID)
			AND OSP$AC_PROTOCOL.SEQUENCE_NUMBER IN (SELECT MAX(PRO1.SEQUENCE_NUMBER)
			FROM OSP$AC_PROTOCOL PRO1
			WHERE PRO1.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER)
			ORDER BY PROTOCOL_STATUS_DESCRIPTION, PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</PENDING_PI_ACTION_EXPIRE_IACUC_PROTO_SEARCH>
	<!-- COEUSQA:3050 - IACUC - add Pending PI Action - End -->


	<ALL_IACUC_PROTOCOL_SEARCH display="All Protocols"
		retrievelimit="IACUC_PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="osp$ac_protocolCOL.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				osp$ac_protocol.PROTOCOL_NUMBER ,
				osp$ac_protocol.SEQUENCE_NUMBER ,
				osp$ac_protocol.PROTOCOL_STATUS_CODE ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				DECODE(PI.PERSON_NAME, NULL, INV.PERSON_NAME, PI.PERSON_NAME) AS PERSON_NAME,
				osp$ac_protocol.TITLE ,
				to_char(osp$ac_protocol.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPLICATION_DATE",
				to_char(osp$ac_protocol.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(osp$ac_protocol.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(osp$ac_protocol.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				osp$ac_protocol.CREATE_USER ,
				osp$ac_protocol.UPDATE_TIMESTAMP ,
				osp$ac_protocol.UPDATE_USER
				<!--osp$ac_protocol.UPDATE_USER, FS.FUNDING_SOURCE commented the code 
					for the problem "In search result there are as many rows as funding sources" 
					faced -->
			</SELECTQUERY>
			<FROM>
				<TABLE name="osp$ac_protocol" />
				<TABLE name="osp$ac_protocol_STATUS" alias="PS" />
				<TABLE name="osp$ac_protocol_TYPE" alias="PT" />
				<TABLE name="OSP$AC_PROTOCOL_USER_ROLES" alias="PUR" />
				<TABLE
					name="( SELECT PROTOCOL_NUMBER, PERSON_NAME, PERSON_ID
                                   FROM osp$ac_protocol_INVESTIGATORS
                                   WHERE SEQUENCE_NUMBER IN ( SELECT MAX(INV.SEQUENCE_NUMBER)
                                                              FROM osp$ac_protocol_INVESTIGATORS INV
                                                              WHERE INV.PROTOCOL_NUMBER = osp$ac_protocol_INVESTIGATORS.PROTOCOL_NUMBER)
                                   AND PRINCIPAL_INVESTIGATOR_FLAG  = 'Y')"
					alias="PI" />
				<TABLE
					name="(SELECT PROTOCOL_NUMBER, PERSON_ID, UNIT_NUMBER
                                    FROM OSP$AC_PROTOCOL_UNITS
                                    WHERE SEQUENCE_NUMBER IN (SELECT MAX(INU.SEQUENCE_NUMBER) FROM OSP$AC_PROTOCOL_UNITS INU
                                                               WHERE INU.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_UNITS.PROTOCOL_NUMBER)
                                    AND LEAD_UNIT_FLAG = 'Y')"
					alias="LU" />
				<TABLE
					name="( SELECT PROTOCOL_NUMBER, PERSON_NAME, PERSON_ID
                                   FROM osp$ac_protocol_INVESTIGATORS
                                   WHERE SEQUENCE_NUMBER IN ( SELECT MAX(INV2.SEQUENCE_NUMBER)
                                                              FROM osp$ac_protocol_INVESTIGATORS INV2
                                                              WHERE INV2.PROTOCOL_NUMBER = osp$ac_protocol_INVESTIGATORS.PROTOCOL_NUMBER))"
					alias="INV" />
				<TABLE
					name="( SELECT PROTOCOL_NUMBER, FUNDING_SOURCE
                                   FROM osp$ac_protocol_FUNDING_SOURCE
                                   WHERE SEQUENCE_NUMBER IN ( SELECT MAX(FS.SEQUENCE_NUMBER)
                                                              FROM osp$ac_protocol_FUNDING_SOURCE FS
                                                              WHERE FS.PROTOCOL_NUMBER = osp$ac_protocol_FUNDING_SOURCE.PROTOCOL_NUMBER)) "
					alias="FS" />
			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="osp$ac_protocol.SEQUENCE_NUMBER IN (SELECT MAX(A.SEQUENCE_NUMBER)
                       FROM osp$ac_protocol A
                       WHERE A.PROTOCOL_NUMBER = osp$ac_protocol.PROTOCOL_NUMBER)
                       AND osp$ac_protocol.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE
                       AND osp$ac_protocol.PROTOCOL_NUMBER = PI.PROTOCOL_NUMBER (+)
                       AND osp$ac_protocol.PROTOCOL_NUMBER = INV.PROTOCOL_NUMBER (+)
                       AND osp$ac_protocol.PROTOCOL_NUMBER = LU.PROTOCOL_NUMBER (+)
                       AND osp$ac_protocol.PROTOCOL_NUMBER = FS.PROTOCOL_NUMBER (+)
                       AND PUR.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER
                       AND PUR.SEQUENCE_NUMBER IN (SELECT MAX(SEQUENCE_NUMBER) FROM OSP$AC_PROTOCOL_USER_ROLES WHERE PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER)" />
		</QUERY>

		<CRITERIA>
			<FIELD name="osp$ac_protocol.PROTOCOL_NUMBER" datatype="string"
				size="100" />
			<FIELD name="osp$ac_protocol.PROTOCOL_TYPE_CODE" datatype="number"
				size="100" />
			<!-- For bug fix case #id 2599 -->
			<!--<FIELD name="osp$ac_protocol.REFERENCE_NUMBER_1" datatype="string" 
				size="100"/> -->
			<FIELD name="osp$ac_protocol.TITLE" datatype="string" size="100" />
			<!-- For bug fix case #id 2599 -->
			<FIELD name="osp$ac_protocol.PROTOCOL_STATUS_CODE" datatype="number"
				size="100" />
			<FIELD name="osp$ac_protocol.EXPIRATION_DATE" datatype="date"
				size="100" />
			<FIELD name="INV.PERSON_NAME" datatype="String" size="100" />
			<FIELD name="FS.FUNDING_SOURCE" datatype="String" size="100" />
		</CRITERIA>

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="100" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="160">Description</FIELD>
			<FIELD name="PROTOCOL_STATUS_CODE" visible="false">Code</FIELD>
			<FIELD name="PERSON_NAME" size="100">Investigator</FIELD>
			<!--FIELD name="FUNDING_SOURCE" size="100">Funding Source Number</FIELD 
				commented the code for the problem "In search result there are as many rows 
				as funding sources" faced -->
		</DISPLAY>
		<REMCLAUSE>
			AND (UPPER(PUR.USER_ID) = UPPER('COEUS' )
			OR ((SELECT COUNT(*) FROM OSP$PERSON WHERE OSP$PERSON.PERSON_ID =
			INV.PERSON_ID AND UPPER(OSP$PERSON.USER_NAME) = UPPER('COEUS')) > 0)
			OR (FN_USER_HAS_RIGHT_IN_MODULE('COEUS',LU.UNIT_NUMBER , 9) > 0))
			ORDER BY OSP$AC_PROTOCOL.PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</ALL_IACUC_PROTOCOL_SEARCH>

	<PENDINGIACUCSEARCH display="Pending Protocols"
		retrievelimit="IACUC_PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$AC_PROTOCOL.PROTOCOL_NUMBER ,
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$AC_PROTOCOL.TITLE ,
				to_char(OSP$AC_PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPLICATION_DATE",
				to_char(OSP$AC_PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$AC_PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$AC_PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$AC_PROTOCOL.CREATE_USER ,
				OSP$AC_PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$AC_PROTOCOL.UPDATE_USER
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_STATUS" alias="PS" />
			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="OSP$AC_PROTOCOL.SEQUENCE_NUMBER
                       IN (SELECT
                       MAX(A.SEQUENCE_NUMBER)
                       FROM
                       OSP$AC_PROTOCOL A
                       WHERE
                       A.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER) AND
                       OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE
                AND      OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE IN ( 100,101,102,104,105,106,108)" />
			<!-- The value of the join attribute should be appended in the where clause 
				while forming a query. -->
		</QUERY>
		<!-- All the elements for the search criteria should be specified in this 
			section. There should be a corresponding entry for COLUMN element for each 
			FIELD element in this section. All the fields specified here will be displayed 
			as search criterias in the CoeusSearch.java file. Mainly two types of data 
			types can come here. 1) string 2) number If we want to use any specific alias 
			and joins, it should be specified as attributes of each FIELD element. -->
		<!--CRITERIA> <FIELD name="OSP$IACUC_PROTO_INVESTIGATORS.PERSON_ID" datatype="string" 
			size="100"/> </CRITERIA -->
		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="GET_AC_PROTO_LIST_FOR_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="100">Status</FIELD>
			<FIELD name="CREATE_TIMESTAMP" size="160" datatype="date">Creation
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>
		<!-- Inlude only those protocols where 1. The user has any role in the 
			protocol, except approvers (role id 201). 2. The user is an investigator 
			for the protocol -->
		<REMCLAUSE>
			AND OSP$AC_PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$AC_PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$AC_PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			AND OSP$AC_PROTOCOL_USER_ROLES.ROLE_ID NOT IN (301)
			union
			select distinct pi.protocol_number
			from OSP$AC_PROTOCOL_INVESTIGATORS pi, osp$person p
			where upper(p.user_name) = upper('COEUS') and
			pi.SEQUENCE_NUMBER IN ( SELECT MAX(INV.SEQUENCE_NUMBER)
			FROM OSP$AC_PROTOCOL_INVESTIGATORS INV
			WHERE INV.PROTOCOL_NUMBER = pi.PROTOCOL_NUMBER) and
			pi.person_id = p.person_id) ORDER BY OSP$AC_PROTOCOL.PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</PENDINGIACUCSEARCH>
	<AMENDS_RENEWALS_IACUC_SEARCH display="Amendments and Renewals"
		retrievelimit="IACUC_PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$AC_PROTOCOL.PROTOCOL_NUMBER ,
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$AC_PROTOCOL.TITLE ,
				to_char(OSP$AC_PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPLICATION_DATE",
				to_char(OSP$AC_PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$AC_PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$AC_PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$AC_PROTOCOL.CREATE_USER ,
				OSP$AC_PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$AC_PROTOCOL.UPDATE_USER
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_STATUS" alias="PS" />
			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="OSP$AC_PROTOCOL.SEQUENCE_NUMBER
                       IN (SELECT
                       MAX(A.SEQUENCE_NUMBER)
                       FROM
                       OSP$AC_PROTOCOL A
                       WHERE
                       A.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER) AND
                       OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE
                       AND OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE IN (101,100,108)
                       AND ( OSP$AC_PROTOCOL.PROTOCOL_NUMBER LIKE '%A%' OR OSP$AC_PROTOCOL.PROTOCOL_NUMBER LIKE '%R%'
                       OR OSP$AC_PROTOCOL.PROTOCOL_NUMBER LIKE '%E%' OR OSP$AC_PROTOCOL.PROTOCOL_NUMBER LIKE '%C%'
                       OR OSP$AC_PROTOCOL.PROTOCOL_NUMBER LIKE '%O%')" />

		</QUERY>

		<!--CRITERIA> <FIELD name="OSP$IACUC_PROTO_INVESTIGATORS.PERSON_ID" datatype="string" 
			size="100"/> </CRITERIA -->

		<PROCEDURE name="GET_AC_PROTO_LIST_FOR_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="100">Status</FIELD>
			<FIELD name="CREATE_TIMESTAMP" size="160" datatype="date">Creation
				Date</FIELD>
			<FIELD name="APPLICATION_DATE" size="100" datatype="date">Application
				Date</FIELD>
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			AND OSP$AC_PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$AC_PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$AC_PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			union
			select distinct pi.protocol_number
			from OSP$AC_PROTOCOL_INVESTIGATORS pi, osp$person p
			where upper(p.user_name) = upper('COEUS') and
			pi.person_id = p.person_id) ORDER BY OSP$AC_PROTOCOL.PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</AMENDS_RENEWALS_IACUC_SEARCH>

	<REVIEWER_IACUC_SEARCH display="All My Reviews"
		retrievelimit="IACUC_PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">

		<QUERY>

			<SELECTQUERY>

				SELECT
				OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER,
				OSP$SUBMISSION_TYPE.DESCRIPTION AS "SUBMISSION_TYPE",
				to_char(OSP$AC_PROTOCOL_REVIEWERS.DUE_DATE,'USER_DEFINED_DATE_FORMAT')
				"DUE_DATE",
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER,
				OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER,
				OSP$AC_PROTOCOL.TITLE,
				OSP$AC_PROTOCOL_INVESTIGATORS.PERSON_NAME AS "PI",
				OSP$SUBMISSION_STATUS.DESCRIPTION AS "SUBMISSION_STATUS"


			</SELECTQUERY>

			<FROM>

				<TABLE name="OSP$AC_PROTOCOL_SUBMISSION" />
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_INVESTIGATORS" />
				<TABLE name="OSP$AC_PROTOCOL_REVIEWERS" />
				<TABLE name="OSP$SUBMISSION_STATUS" />
				<TABLE name="OSP$SUBMISSION_TYPE" />

			</FROM>

			<WHERE
				join="OSP$SUBMISSION_TYPE.SUBMISSION_TYPE_CODE = OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE
                       AND OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER IN
                       ( SELECT MAX(PS.SEQUENCE_NUMBER)
                       FROM OSP$AC_PROTOCOL_SUBMISSION PS
                       WHERE PS.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER)
                       AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER IN
                       ( SELECT MAX(PROTO_SUB.SUBMISSION_NUMBER)
                       FROM OSP$AC_PROTOCOL_SUBMISSION PROTO_SUB
                       WHERE PROTO_SUB.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER
                       AND PROTO_SUB.SEQUENCE_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER )
                       AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER
                       AND OSP$AC_PROTOCOL.SEQUENCE_NUMBER IN
                       ( SELECT MAX(P.SEQUENCE_NUMBER)
                       FROM OSP$AC_PROTOCOL P
                       WHERE P.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER)
                       AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER
                       AND OSP$AC_PROTOCOL_INVESTIGATORS.SEQUENCE_NUMBER IN
                       ( SELECT MAX(PI.SEQUENCE_NUMBER)
                       FROM OSP$AC_PROTOCOL_INVESTIGATORS PI
                       WHERE PI.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER)
                       AND OSP$AC_PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y'
                       AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_REVIEWERS.PROTOCOL_NUMBER
                       AND OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER = OSP$AC_PROTOCOL_REVIEWERS.SEQUENCE_NUMBER
                       AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER = OSP$AC_PROTOCOL_REVIEWERS.SUBMISSION_NUMBER
                       AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE = OSP$SUBMISSION_STATUS.SUBMISSION_STATUS_CODE
                       AND OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE IN (101,108)
                " />

		</QUERY>

		<PROCEDURE name="get_protocol_list_for_query">

			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />

		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100" webSize="10">Protocol
				Number</FIELD>
			<FIELD name="TITLE" size="50" webSize="30">Title</FIELD>
			<FIELD name="PI" size="30" webSize="10">PI</FIELD>
			<FIELD name="SUBMISSION_STATUS" size="30" webSize="30">Submission
				Status</FIELD>
			<FIELD name="DUE_DATE" size="30" datatype="date" webSize="10">Due
				Date</FIELD>
			<FIELD name="SUBMISSION_TYPE" size="30" webSize="10">Submission Type</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
			<FIELD name="SUBMISSION_NUMBER" visible="false" datatype="number">Submission
				Number</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$AC_PROTOCOL_REVIEWERS.PERSON_ID IN (SELECT PERSON_ID FROM
			OSP$PERSON WHERE UPPER(USER_NAME) = UPPER('COEUS'))
			ORDER BY OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_DATE DESC
		</REMCLAUSE>

	</REVIEWER_IACUC_SEARCH>

	<IACUC_REVIEWER_SCHEDULE_SEARCH display="Schedules"
		retrievelimit="PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">

		<QUERY>

			<SELECTQUERY>

				SELECT DISTINCT
				OSP$COMMITTEE.COMMITTEE_ID,
				OSP$COMMITTEE.COMMITTEE_NAME,
				OSP$COMM_SCHEDULE.SCHEDULE_ID,
				OSP$COMM_SCHEDULE.PLACE,
				(TO_CHAR(OSP$COMM_SCHEDULE.SCHEDULED_DATE,'USER_DEFINED_DATE_FORMAT')
				|| ','||TO_CHAR(OSP$COMM_SCHEDULE.SCHEDULED_DATE,'Day')) AS
				"SCHEDULED_DATE",
				COUNT(OSP$SCHEDULE_AGENDA.AGENDA_NUMBER) AS GENERATED_AGENDA

			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$COMM_SCHEDULE" />
				<TABLE name="OSP$COMM_MEMBERSHIPS" />
				<TABLE name="OSP$COMM_MEMBER_STATUS_CHANGE" />
				<TABLE name="OSP$COMMITTEE" />
				<TABLE name="OSP$SCHEDULE_AGENDA" />
			</FROM>

			<WHERE
				join="
                          OSP$COMMITTEE.COMMITTEE_ID = OSP$COMM_MEMBERSHIPS.COMMITTEE_ID
                          AND OSP$COMM_MEMBERSHIPS.SEQUENCE_NUMBER IN
                          ( SELECT MAX(SEQUENCE_NUMBER)
                          FROM OSP$COMM_MEMBERSHIPS CMS
                          WHERE CMS.COMMITTEE_ID = OSP$COMM_MEMBERSHIPS.COMMITTEE_ID
                          AND CMS.PERSON_ID = OSP$COMM_MEMBERSHIPS.PERSON_ID
                          AND CMS.MEMBERSHIP_ID = OSP$COMM_MEMBERSHIPS.MEMBERSHIP_ID)
                          AND OSP$COMM_MEMBERSHIPS.MEMBERSHIP_ID = OSP$COMM_MEMBER_STATUS_CHANGE.MEMBERSHIP_ID
                          AND OSP$COMM_MEMBER_STATUS_CHANGE.SEQUENCE_NUMBER = (SELECT MAX(S.SEQUENCE_NUMBER)
                                                                                FROM OSP$COMM_MEMBER_STATUS_CHANGE S
                                                                                WHERE OSP$COMM_MEMBER_STATUS_CHANGE.MEMBERSHIP_ID = S.MEMBERSHIP_ID)
                          AND OSP$COMM_MEMBER_STATUS_CHANGE.MEMBERSHIP_STATUS_CODE = 1
                          AND(( OSP$COMMITTEE.COMMITTEE_ID = OSP$COMM_SCHEDULE.COMMITTEE_ID) AND (OSP$COMMITTEE.COMMITTEE_TYPE_CODE = 2))
                          AND OSP$COMM_SCHEDULE.VIEW_IN_LITE = 'Y'
                   " />

		</QUERY>

		<PROCEDURE name="get_protocol_list_for_query">

			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />

		</PROCEDURE>



		<DISPLAY>
			<!-- COEUSQA-2288 START <FIELD name="SCHEDULE_ID" size="100" >Schedule 
				ID</FIELD> -->
			<!-- <FIELD name="SCHEDULED_DATE" size="100" >Scheduled Date</FIELD> -->
			<FIELD name="SCHEDULE_ID" size="100" visible="false">Schedule ID</FIELD>
			<FIELD name="SCHEDULED_DATE" size="100">Meeting Date</FIELD>
			<!-- COEUSQA-2288 END -->
			<FIELD name="PLACE" size="50">Place</FIELD>
			<FIELD name="COMMITTEE_ID">Committee ID</FIELD>
			<FIELD name="COMMITTEE_NAME" size="50">Committee Name</FIELD>
			<FIELD name="GENERATED_AGENDA" size="50" visible="false">Generated
				Agenda</FIELD>

		</DISPLAY>


		<REMCLAUSE>
			AND OSP$COMM_MEMBERSHIPS.PERSON_ID IN
			( SELECT PERSON_ID
			FROM OSP$PERSON
			WHERE UPPER(USER_NAME) = UPPER('COEUS'))
			AND OSP$COMM_SCHEDULE.SCHEDULE_ID = OSP$SCHEDULE_AGENDA.SCHEDULE_ID(+)
			GROUP BY
			OSP$COMMITTEE.COMMITTEE_ID, OSP$COMMITTEE.COMMITTEE_NAME, OSP$COMM_SCHEDULE.SCHEDULE_ID,
			OSP$COMM_SCHEDULE.PLACE,SCHEDULED_DATE
			ORDER BY to_number(OSP$COMM_SCHEDULE.SCHEDULE_ID)
		</REMCLAUSE>

	</IACUC_REVIEWER_SCHEDULE_SEARCH>

	<ACTIVEIACUCSEARCH display="Active Protocols"
		retrievelimit="IACUC_PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$AC_PROTOCOL.PROTOCOL_NUMBER ,
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$AC_PROTOCOL.TITLE ,
				to_char(OSP$AC_PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPLICATION_DATE",
				to_char(OSP$AC_PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$AC_PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$AC_PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$AC_PROTOCOL.CREATE_USER ,
				OSP$AC_PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$AC_PROTOCOL.UPDATE_USER
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_STATUS" alias="PS" />

			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="OSP$AC_PROTOCOL.SEQUENCE_NUMBER
                       IN (SELECT
                       MAX(A.SEQUENCE_NUMBER)
                       FROM
                       OSP$AC_PROTOCOL A
                       WHERE
                       A.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER) AND
                       OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE AND
                OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE IN ( 200, 201, 202)" />

		</QUERY>

		<!--CRITERIA> <FIELD name="OSP$IACUC_PROTO_INVESTIGATORS.PERSON_ID" datatype="string" 
			size="100"/> </CRITERIA -->

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="100">Status</FIELD>
			<FIELD name="APPLICATION_DATE" size="100" datatype="date">Application
				Date</FIELD>
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval
				Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="160" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			AND OSP$AC_PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$AC_PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$AC_PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			union
			select distinct pi.protocol_number
			from OSP$AC_PROTOCOL_INVESTIGATORS pi, osp$person p
			where upper(p.user_name) = upper('COEUS') and
			pi.person_id = p.person_id) ORDER BY OSP$AC_PROTOCOL.PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</ACTIVEIACUCSEARCH>

	<ACTIVE_SUBMISSION_IACUC_SEARCH display="Active Submissions"
		retrievelimit="IACUC_PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$AC_PROTOCOL.PROTOCOL_NUMBER ,
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$AC_PROTOCOL.TITLE ,
				to_char(OSP$AC_PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPLICATION_DATE",
				to_char(OSP$AC_PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$AC_PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(OSP$AC_PROTOCOL.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				OSP$AC_PROTOCOL.CREATE_USER ,
				OSP$AC_PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$AC_PROTOCOL.UPDATE_USER
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_STATUS" alias="PS" />

			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="OSP$AC_PROTOCOL.SEQUENCE_NUMBER
                       IN (SELECT
                       MAX(A.SEQUENCE_NUMBER)
                       FROM
                       OSP$AC_PROTOCOL A
                       WHERE
                       A.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER) AND
                       OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE AND
                OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE IN (101,108) " />

		</QUERY>

		<!--CRITERIA> <FIELD name="OSP$IACUC_PROTO_INVESTIGATORS.PERSON_ID" datatype="string" 
			size="100"/> </CRITERIA -->

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="100">Status</FIELD>
			<FIELD name="APPLICATION_DATE" size="100" datatype="date">Application
				Date</FIELD>
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="160" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			AND OSP$AC_PROTOCOL.PROTOCOL_NUMBER IN (SELECT DISTINCT PROTOCOL_NUMBER
			FROM OSP$AC_PROTOCOL_USER_ROLES
			WHERE UPPER(OSP$AC_PROTOCOL_USER_ROLES.USER_ID) = UPPER('COEUS')
			union
			select distinct pi.protocol_number
			from OSP$AC_PROTOCOL_INVESTIGATORS pi, osp$person p
			where upper(p.user_name) = upper('COEUS') and
			pi.person_id = p.person_id) ORDER BY OSP$AC_PROTOCOL.PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</ACTIVE_SUBMISSION_IACUC_SEARCH>

	<REVIEWER_IACUC_SEARCH display="All My Reviews"
		retrievelimit="IACUC_PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">

		<QUERY>

			<SELECTQUERY>

				SELECT
				OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER,
				OSP$SUBMISSION_TYPE.DESCRIPTION AS "SUBMISSION_TYPE",
				to_char(OSP$AC_PROTOCOL_REVIEWERS.DUE_DATE,'USER_DEFINED_DATE_FORMAT')
				"DUE_DATE",
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER,
				OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER,
				OSP$AC_PROTOCOL.TITLE,
				OSP$AC_PROTOCOL_INVESTIGATORS.PERSON_NAME AS "PI",
				OSP$SUBMISSION_STATUS.DESCRIPTION AS "SUBMISSION_STATUS"


			</SELECTQUERY>

			<FROM>

				<TABLE name="OSP$AC_PROTOCOL_SUBMISSION" />
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_INVESTIGATORS" />
				<TABLE name="OSP$AC_PROTOCOL_REVIEWERS" />
				<TABLE name="OSP$SUBMISSION_STATUS" />
				<TABLE name="OSP$SUBMISSION_TYPE" />

			</FROM>

			<WHERE
				join="OSP$SUBMISSION_TYPE.SUBMISSION_TYPE_CODE = OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE
                       AND OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER IN
                       ( SELECT MAX(PS.SEQUENCE_NUMBER)
                       FROM OSP$AC_PROTOCOL_SUBMISSION PS
                       WHERE PS.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER)
                       AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER IN
                       ( SELECT MAX(PROTO_SUB.SUBMISSION_NUMBER)
                       FROM OSP$AC_PROTOCOL_SUBMISSION PROTO_SUB
                       WHERE PROTO_SUB.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER
                       AND PROTO_SUB.SEQUENCE_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER )
                       AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER
                       AND OSP$AC_PROTOCOL.SEQUENCE_NUMBER IN
                       ( SELECT MAX(P.SEQUENCE_NUMBER)
                       FROM OSP$AC_PROTOCOL P
                       WHERE P.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER)
                       AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER
                       AND OSP$AC_PROTOCOL_INVESTIGATORS.SEQUENCE_NUMBER IN
                       ( SELECT MAX(PI.SEQUENCE_NUMBER)
                       FROM OSP$AC_PROTOCOL_INVESTIGATORS PI
                       WHERE PI.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER)
                       AND OSP$AC_PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y'
                       AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_REVIEWERS.PROTOCOL_NUMBER
                       AND OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER = OSP$AC_PROTOCOL_REVIEWERS.SEQUENCE_NUMBER
                       AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER = OSP$AC_PROTOCOL_REVIEWERS.SUBMISSION_NUMBER
                       AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE = OSP$SUBMISSION_STATUS.SUBMISSION_STATUS_CODE
                       AND OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE IN (101,108)
                " />

		</QUERY>

		<PROCEDURE name="get_protocol_list_for_query">

			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />

		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100" webSize="10">Protocol
				Number</FIELD>
			<FIELD name="TITLE" size="50" webSize="30">Title</FIELD>
			<FIELD name="PI" size="30" webSize="10">PI</FIELD>
			<FIELD name="SUBMISSION_STATUS" size="30" webSize="30">Submission
				Status</FIELD>
			<FIELD name="DUE_DATE" size="30" datatype="date" webSize="10">Due
				Date</FIELD>
			<FIELD name="SUBMISSION_TYPE" size="30" webSize="10">Submission Type</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
			<FIELD name="SUBMISSION_NUMBER" visible="false" datatype="number">Submission
				Number</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$AC_PROTOCOL_REVIEWERS.PERSON_ID IN (SELECT PERSON_ID FROM
			OSP$PERSON WHERE UPPER(USER_NAME) = UPPER('COEUS'))
			ORDER BY OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_DATE DESC
		</REMCLAUSE>

	</REVIEWER_IACUC_SEARCH>

	<IACUC_REVIEWER_SCHEDULE_AGENDA_SEARCH
		display="Agenda" retrievelimit="IACUC_PROTOCOL_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>

			<SELECTQUERY>

				SELECT
				OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER,
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER,
				OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER,
				OSP$AC_PROTOCOL.TITLE,
				OSP$AC_PROTOCOL_INVESTIGATORS.PERSON_NAME AS "PI",
				OSP$AC_SUBMISSION_STATUS.DESCRIPTION AS "SUBMISSION_STATUS"

			</SELECTQUERY>

			<FROM>

				<TABLE name="OSP$AC_PROTOCOL_SUBMISSION" />
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_INVESTIGATORS" />
				<TABLE name="OSP$AC_SUBMISSION_STATUS" />
				<TABLE name="OSP$COMM_SCHEDULE" />


			</FROM>

			<WHERE
				join="
                    OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER IN
                    ( SELECT MAX(PS.SEQUENCE_NUMBER)
                    FROM OSP$AC_PROTOCOL_SUBMISSION PS
                    WHERE PS.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER)
                    AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER IN
                    ( SELECT MAX(PROTO_SUB.SUBMISSION_NUMBER)
                    FROM OSP$AC_PROTOCOL_SUBMISSION PROTO_SUB
                    WHERE PROTO_SUB.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER
                    AND PROTO_SUB.SEQUENCE_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER )
                    AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER
                    AND OSP$AC_PROTOCOL.SEQUENCE_NUMBER IN
                    ( SELECT MAX(P.SEQUENCE_NUMBER)
                    FROM OSP$AC_PROTOCOL P
                    WHERE P.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER)
                    AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER
                    AND OSP$AC_PROTOCOL_INVESTIGATORS.SEQUENCE_NUMBER IN
                    ( SELECT MAX(PI.SEQUENCE_NUMBER)
                    FROM OSP$AC_PROTOCOL_INVESTIGATORS PI
                    WHERE PI.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER)
                    AND OSP$AC_PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y'
                    AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE = OSP$AC_SUBMISSION_STATUS.SUBMISSION_STATUS_CODE
                    AND OSP$AC_PROTOCOL_SUBMISSION.COMMITTEE_ID = OSP$COMM_SCHEDULE.COMMITTEE_ID
                    AND OSP$AC_PROTOCOL_SUBMISSION.SCHEDULE_ID = OSP$COMM_SCHEDULE.SCHEDULE_ID
                    AND OSP$COMM_SCHEDULE.VIEW_IN_LITE = 'Y'

            " />

		</QUERY>

		<PROCEDURE name="get_protocol_list_for_query">

			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />

		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="PI" size="100">PI</FIELD>
			<FIELD name="SUBMISSION_STATUS" size="50">Submission Status</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
			<FIELD name="SUBMISSION_NUMBER" visible="false" datatype="number">Submission
				Number</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND OSP$AC_PROTOCOL_SUBMISSION.SCHEDULE_ID = 'PARAM_SCHEDULE_ID'
			ORDER BY OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_DATE

		</REMCLAUSE>

	</IACUC_REVIEWER_SCHEDULE_AGENDA_SEARCH>





	<IACUCPROTOCOLSEARCH display="IACUC Protocol Search"
		retrievelimit="IACUC_PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="OSP$PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				OSP$AC_PROTOCOL.PROTOCOL_NUMBER ,
				OSP$AC_PROTOCOL.SEQUENCE_NUMBER ,
				OSP$AC_PROTOCOL.PROTOCOL_TYPE_CODE ,
				OSP$AC_PROTOCOL.REFERENCE_NUMBER_1 ,
				PT.DESCRIPTION AS PROTOCOL_TYPE_DESCRIPTION ,
				OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				OSP$AC_PROTOCOL.TITLE ,
				OSP$AC_PROTOCOL.DESCRIPTION,
				to_char(OSP$AC_PROTOCOL.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPLICATION_DATE",
				to_char(OSP$AC_PROTOCOL.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(OSP$AC_PROTOCOL.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				OSP$AC_PROTOCOL.FDA_APPLICATION_NUMBER ,
				OSP$AC_PROTOCOL.CREATE_TIMESTAMP ,
				OSP$AC_PROTOCOL.CREATE_USER ,
				OSP$AC_PROTOCOL.UPDATE_TIMESTAMP ,
				OSP$AC_PROTOCOL.UPDATE_USER ,
				PI.PERSON_ID ,
				PI.PERSON_NAME ,
				PU.UNIT_NUMBER ,
				UNT.UNIT_NAME
			</SELECTQUERY>
			<!-- From clause. The section where all the tables should be specified -->
			<FROM>
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_STATUS" alias="PS" />
				<TABLE name="OSP$AC_PROTOCOL_TYPE" alias="PT" />
				<TABLE
					name="(SELECT PROTOCOL_NUMBER ,
                           SEQUENCE_NUMBER ,
                           PERSON_ID ,
                           PERSON_NAME ,
                           PRINCIPAL_INVESTIGATOR_FLAG
                           FROM OSP$AC_PROTOCOL_INVESTIGATORS
                           WHERE SEQUENCE_NUMBER IN (SELECT MAX(A.SEQUENCE_NUMBER)
                           FROM OSP$AC_PROTOCOL_INVESTIGATORS A
                           WHERE A.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER )
                           AND OSP$AC_PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y')"
					alias="PI" />
				<TABLE
					name="(SELECT PROTOCOL_NUMBER ,
                           SEQUENCE_NUMBER ,
                           UNIT_NUMBER ,
                           PERSON_ID
                           FROM OSP$AC_PROTOCOL_UNITS
                           WHERE SEQUENCE_NUMBER IN (SELECT MAX(A.SEQUENCE_NUMBER)
                           FROM OSP$AC_PROTOCOL_UNITS A
                           WHERE A.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_UNITS.PROTOCOL_NUMBER AND
                           A.PERSON_ID = OSP$AC_PROTOCOL_UNITS.PERSON_ID )
                           AND OSP$AC_PROTOCOL_UNITS.LEAD_UNIT_FLAG = 'Y')"
					alias="PU" />
				<TABLE name="OSP$UNIT" alias="UNT" />

			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="(OSP$AC_PROTOCOL.SEQUENCE_NUMBER
                       IN (SELECT
                       MAX(A.SEQUENCE_NUMBER)
                       FROM
                       OSP$AC_PROTOCOL A
                       WHERE
                       A.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER) AND
                       OSP$AC_PROTOCOL.PROTOCOL_TYPE_CODE = PT.PROTOCOL_TYPE_CODE AND
                       OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE AND
                       OSP$AC_PROTOCOL.PROTOCOL_NUMBER = PI.PROTOCOL_NUMBER (+) AND
                       PI.PROTOCOL_NUMBER = PU.PROTOCOL_NUMBER (+) AND
                       PI.PERSON_ID = PU.PERSON_ID (+) AND
                PU.UNIT_NUMBER = UNT.UNIT_NUMBER (+)) " />

			<!-- Commented by Vyjayanthi - 05/08/2004 - Start for IRB Enhancement 
				To display amendments and renewals in Protocol list window AND instr(OSP$IACUC_PROTOCOL.PROTOCOL_NUMBER,'A',1,1) 
				= 0 AND instr(OSP$IACUC_PROTOCOL.PROTOCOL_NUMBER,'R',1,1) = 0 Commented by 
				Vyjayanthi - 05/08/2004 - End -->

			<!-- The value of the join attribute should be appended in the where clause 
				while forming a query. -->
		</QUERY>
		<!-- All the elements for the search criteria should be specified in this 
			section. There should be a corresponding entry for COLUMN element for each 
			FIELD element in this section. All the fields specified here will be displayed 
			as search criterias in the CoeusSearch.java file. Mainly two types of data 
			types can come here. 1) string 2) number If we want to use any specific alias 
			and joins, it should be specified as attributes of each FIELD element. -->

		<CRITERIA>
			<FIELD name="OSP$AC_PROTOCOL.PROTOCOL_NUMBER" datatype="string"
				size="100" />
			<FIELD name="OSP$AC_PROTOCOL.PROTOCOL_TYPE_CODE" datatype="number"
				size="100" />
			<FIELD name="OSP$AC_PROTOCOL.REFERENCE_NUMBER_1" datatype="string"
				size="100" />
			<FIELD name="OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE" datatype="number"
				size="100" />
			<FIELD name="OSP$AC_PROTOCOL_INVESTIGATORS.PERSON_NAME" alias="INV.PERSON_NAME"
				datatype="string" size="100" table="OSP$AC_PROTOCOL_INVESTIGATORS INV"
				join="( OSP$AC_PROTOCOL.PROTOCOL_NUMBER = INV.PROTOCOL_NUMBER) AND
                        ( INV.SEQUENCE_NUMBER IN ( SELECT MAX(INV1.SEQUENCE_NUMBER)
                            FROM OSP$AC_PROTOCOL_INVESTIGATORS INV1
                            WHERE INV1.PROTOCOL_NUMBER =INV.PROTOCOL_NUMBER))" />
			<FIELD name="OSP$AC_PROTOCOL_UNITS.UNIT_NUMBER" alias="PTU.UNIT_NUMBER"
				datatype="string" size="100" table="OSP$AC_PROTOCOL_UNITS PTU"
				join="( OSP$AC_PROTOCOL.PROTOCOL_NUMBER = PTU.PROTOCOL_NUMBER) AND
                        ( PTU.SEQUENCE_NUMBER IN ( SELECT MAX(PTU1.SEQUENCE_NUMBER)
                            FROM OSP$AC_PROTOCOL_UNITS PTU1
                            WHERE PTU1.PROTOCOL_NUMBER =PTU.PROTOCOL_NUMBER AND PTU.LEAD_UNIT_FLAG = 'Y'))" />
			<FIELD name="OSP$AC_PROTOCOL.TITLE" datatype="string" size="100" />
			<FIELD name="OSP$AC_PROTOCOL.DESCRIPTION" datatype="string"
				size="160" />
			<FIELD name="OSP$AC_PROTOCOL_KEY_PERSONS.PERSON_NAME" alias="KP.PERSON_NAME"
				datatype="string" size="100" table="OSP$AC_PROTOCOL_KEY_PERSONS KP"
				join="( OSP$AC_PROTOCOL.PROTOCOL_NUMBER = KP.PROTOCOL_NUMBER) AND
                        ( KP.SEQUENCE_NUMBER IN ( SELECT MAX(KP1.SEQUENCE_NUMBER)
                            FROM OSP$AC_PROTOCOL_KEY_PERSONS KP1
                            WHERE KP1.PROTOCOL_NUMBER =KP.PROTOCOL_NUMBER))" />
			<FIELD name="OSP$AC_RESEARCH_AREAS.DESCRIPTION" alias="RA.DESCRIPTION"
				datatype="string" size="100"
				table="OSP$AC_PROTOCOL_RESEARCH_AREAS PRA, OSP$AC_RESEARCH_AREAS RA"
				join="( OSP$AC_PROTOCOL.PROTOCOL_NUMBER = PRA.PROTOCOL_NUMBER) AND
                        ( PRA.SEQUENCE_NUMBER IN ( SELECT MAX(PRA1.SEQUENCE_NUMBER)
                            FROM OSP$AC_PROTOCOL_RESEARCH_AREAS PRA1
                            WHERE PRA1.PROTOCOL_NUMBER =PRA.PROTOCOL_NUMBER)) AND
                        (PRA.RESEARCH_AREA_CODE = RA.RESEARCH_AREA_CODE) " />

			<FIELD name="OSP$AC_PROTOCOL.APPLICATION_DATE" datatype="date"
				size="100" />
			<FIELD name="OSP$AC_PROTOCOL.APPROVAL_DATE" datatype="date"
				size="100" />
			<FIELD name="OSP$AC_PROTOCOL.EXPIRATION_DATE" datatype="date"
				size="100" />
			<FIELD name="OSP$AC_PROTOCOL_FUNDING_SOURCE.FUNDING_SOURCE"
				alias="FS.FUNDING_SOURCE" datatype="string" size="100"
				table="OSP$AC_PROTOCOL_FUNDING_SOURCE FS"
				join="( OSP$AC_PROTOCOL.PROTOCOL_NUMBER = FS.PROTOCOL_NUMBER) AND
                                    ( FS.SEQUENCE_NUMBER IN ( SELECT MAX(FS1.SEQUENCE_NUMBER)
                                        FROM OSP$PROTOCOL_FUNDING_SOURCE FS1
                            WHERE FS1.PROTOCOL_NUMBER =FS.PROTOCOL_NUMBER))" />

		</CRITERIA>
		<!-- Specifiy stored procedure name and attributes for executing the query. 
			The order of the PARAM elements and parameters in the stored procedure should 
			be matched. -->
		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<!-- Specify the fields which should be displayed in the result page. The 
			name attribute of the FIELD element should be as same as the field names 
			in the select query. The value of the FIELD element should be displayed as 
			the label for the corresponding field. -->
		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol No</FIELD>
			<FIELD name="PROTOCOL_TYPE_DESCRIPTION" size="100">Type</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="100">Status</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="DESCRIPTION" size="160">Description/Keyword</FIELD>
			<FIELD name="APPLICATION_DATE" size="100" datatype="date">Application
				Date</FIELD>
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="100" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="PERSON_NAME" size="100">Investigator</FIELD>
			<FIELD name="UNIT_NUMBER" size="100">Unit Number</FIELD>
			<FIELD name="UNIT_NAME" size="100">Unit Name</FIELD>
			<!-- added by ravi to have the protocol sequence number in basewindow 
				( used for performing actions ) -->
			<!--FIELD name="FUNDING_SOURCE" size="100">Funding Source Number</FIELD -->
			<FIELD name="SEQUENCE_NUMBER" datatype="number">Sequence Number</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			ORDER BY OSP$AC_PROTOCOL.PROTOCOL_NUMBER desc
		</REMCLAUSE>
	</IACUCPROTOCOLSEARCH>

	<COLUMN name="OSP$AC_PROTOCOL.PROTOCOL_NUMBER" type="text"
		label="Protocol No" />
	<COLUMN name="OSP$AC_PROTOCOL.PROTOCOL_TYPE_CODE" type="list"
		label="Protocol Type" descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="GET_AC_PROTOCOL_TYPES" codeselectparam="PROTOCOL_TYPE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="OSP$AC_PROTOCOL.PROTOCOL_STATUS_CODE" type="list"
		label="Protocol Status" descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="GET_AC_PROTOCOL_STATUS" codeselectparam="PROTOCOL_STATUS_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="OSP$AC_PROTOCOL.TITLE" type="text" label="Title" />
	<COLUMN name="OSP$AC_PROTOCOL.REFERENCE_NUMBER_1" type="text"
		label="Reference #1" />
	<COLUMN name="OSP$AC_PROTOCOL.DESCRIPTION" type="text"
		label="Description/Keyword" />
	<COLUMN name="OSP$AC_PROTOCOL.APPLICATION_DATE" type="text"
		label="Application Date" />
	<COLUMN name="OSP$AC_PROTOCOL.APPROVAL_DATE" type="text"
		label="Approval Date" />
	<COLUMN name="OSP$AC_PROTOCOL.EXPIRATION_DATE" type="text"
		label="Expiration Date" />
	<COLUMN name="OSP$AC_PROTOCOL_INVESTIGATORS.PERSON_NAME" type="text"
		label="Investigator" />
	<COLUMN name="OSP$AC_PROTOCOL_INVESTIGATORS.PERSON_ID" type="text"
		label="Investigator" />
	<COLUMN name="OSP$AC_PROTOCOL_KEY_PERSONS.PERSON_NAME" type="text"
		label="Key Person" />
	<COLUMN name="OSP$RESEARCH_AREAS.DESCRIPTION" type="text"
		label="Research Area" />
	<COLUMN name="OSP$AC_PROTOCOL_UNITS.UNIT_NUMBER" type="text"
		label="Unit Number" />
	<COLUMN name="UNIT.UNIT_NAME" type="text" label="Unit Name" />
	<COLUMN name="OSP$AC_PROTOCOL_FUNDING_SOURCE.FUNDING_SOURCE"
		type="text" label="Funding Source" />
	<COLUMN name="DETERMINATION_DUE_DATE" type="date"
		label="Determination Due Date" />
	<!-- Start Protocol -->
	<COLUMN name="osp$ac_protocol.PROTOCOL_NUMBER" type="text"
		label="Protocol No" />
	<COLUMN name="osp$ac_protocol.PROTOCOL_TYPE_CODE" type="list"
		label="Protocol Type" descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="GET_AC_PROTOCOL_TYPES" codeselectparam="PROTOCOL_TYPE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="osp$ac_protocol.PROTOCOL_STATUS_CODE" type="list"
		label="Protocol Status" descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="get_ac_protocol_status" codeselectparam="PROTOCOL_STATUS_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="osp$ac_protocol.TITLE" type="text" label="Title" />
	<COLUMN name="osp$ac_protocol.EXPIRATION_DATE" type="text"
		label="Expiration Date" />
	<COLUMN name="osp$ac_protocol_INVESTIGATORS.PERSON_NAME" type="text"
		label="Investigator" />
	<COLUMN name="OSP$AC_PROTOCOL_FUNDING_SOURCE.FUNDING_SOURCE"
		type="text" label="Funding Source" />

	<!-- end Protocol -->




	<IACUCPROTOSUBMISSIONSEARCH display="IACUC Protocol Submission Search"
		retrievelimit="IACUC_PROTOCOL_SUBMISSION_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$AC_PROTOCOL.PROTOCOL_NUMBER">
		<QUERY>

			<SELECTQUERY>
				SELECT DISTINCT
				OSP$AC_PROTOCOL.PROTOCOL_NUMBER,
				OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE,
				OSP$AC_SUBMISSION_STATUS.DESCRIPTION as SUBMISSION_STATUS_DESCRIPTION,
				to_char(OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_DATE,'USER_DEFINED_DATE_FORMAT')
				"SUBMISSION_DATE",
				OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE,
				OSP$AC_SUBMISSION_TYPE.DESCRIPTION as SUBMISSION_TYPE_DESCRIPTION,
				OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_TYPE_QUAL_CODE,
				OSP$AC_SUBMISSION_TYPE_QUALIF.DESCRIPTION as QUALIFIER_DESCRIPTION,
				OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_REVIEW_TYPE_CODE,
				OSP$AC_PROTO_REVIEW_TYPE.DESCRIPTION as REVIEW_DESCRIPTION,
				OSP$AC_PROTOCOL_SUBMISSION.COMMITTEE_ID,
				OSP$AC_PROTOCOL_SUBMISSION.SCHEDULE_ID,
				to_char(OSP$COMM_SCHEDULE.SCHEDULED_DATE,'USER_DEFINED_DATE_FORMAT')
				"SCHEDULED_DATE",
				OSP$AC_PROTOCOL.TITLE,
				OSP$AC_PROTOCOL_INVESTIGATORS.PERSON_NAME,
				OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER,
				OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER,
				to_char(OSP$AC_REVIEW_DETERMINATION.DETERMINATION_DUE_DATE,'USER_DEFINED_DATE_FORMAT')
				"DETERMINATION_DUE_DATE"
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$AC_PROTOCOL_SUBMISSION" />
				<TABLE name="OSP$AC_SUBMISSION_STATUS" />
				<TABLE name="OSP$AC_SUBMISSION_TYPE" />
				<TABLE name="OSP$AC_SUBMISSION_TYPE_QUALIF" />
				<TABLE name="OSP$AC_PROTO_REVIEW_TYPE" />
				<TABLE name="OSP$COMM_SCHEDULE" />
				<TABLE name="OSP$AC_PROTOCOL" />
				<TABLE name="OSP$AC_PROTOCOL_INVESTIGATORS" />
				<TABLE name="OSP$AC_REVIEW_DETERMINATION" />
			</FROM>
			<!-- The default joins should be specified in this section. -->

			<WHERE
				join="OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE = OSP$AC_SUBMISSION_STATUS.SUBMISSION_STATUS_CODE
                AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE = OSP$AC_SUBMISSION_TYPE.SUBMISSION_TYPE_CODE
                AND OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_TYPE_QUAL_CODE = OSP$AC_SUBMISSION_TYPE_QUALIF.SUBMISSION_TYPE_QUAL_CODE(+)
                AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_REVIEW_TYPE_CODE = OSP$AC_PROTO_REVIEW_TYPE.PROTOCOL_REVIEW_TYPE_CODE
                AND OSP$AC_PROTOCOL_SUBMISSION.SCHEDULE_ID = OSP$COMM_SCHEDULE.SCHEDULE_ID(+)
                AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL.PROTOCOL_NUMBER
                AND OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_INVESTIGATORS.PROTOCOL_NUMBER
                AND  OSP$AC_PROTOCOL.SEQUENCE_NUMBER IN
                (SELECT MAX(P.SEQUENCE_NUMBER) 
                FROM OSP$AC_PROTOCOL P 
                WHERE P.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER )
                AND OSP$AC_PROTOCOL_INVESTIGATORS.SEQUENCE_NUMBER IN 
                ( SELECT MAX(PI.SEQUENCE_NUMBER) 
                FROM OSP$AC_PROTOCOL_INVESTIGATORS PI 
                WHERE PI.PROTOCOL_NUMBER = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER)
                AND OSP$AC_PROTOCOL_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG = 'Y'
                AND OSP$AC_REVIEW_DETERMINATION.PROTOCOL_NUMBER(+)   = OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_NUMBER
                AND OSP$AC_REVIEW_DETERMINATION.SEQUENCE_NUMBER (+)  = OSP$AC_PROTOCOL_SUBMISSION.SEQUENCE_NUMBER   
                AND OSP$AC_REVIEW_DETERMINATION.SUBMISSION_NUMBER (+)= OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER " />

		</QUERY>
		<ORDERBY>OSP$AC_PROTOCOL.PROTOCOL_NUMBER desc,
			OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_NUMBER desc</ORDERBY>

		<CRITERIA>
			<FIELD name="OSP$AC_PROTOCOL.PROTOCOL_NUMBER" datatype="string"
				size="100" />
			<FIELD name="DETERMINATION_DUE_DATE" datatype="date" size="150" />
			<FIELD name="OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE"
				datatype="number" size="150" />
			<FIELD name="OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE"
				datatype="number" size="150" />
			<FIELD name="OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_TYPE_QUAL_CODE"
				datatype="number" size="170" />
			<FIELD name="SUBMISSION_DATE" datatype="date" size="150" />
			<FIELD name="OSP$AC_PROTOCOL.TITLE" datatype="string" size="100" />
			<FIELD name="OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_REVIEW_TYPE_CODE"
				datatype="number" size="100" />
			<FIELD name="SCHEDULED_DATE" datatype="date" size="100" />
			<FIELD name="OSP$AC_PROTOCOL_SUBMISSION.COMMITTEE_ID" datatype="string"
				size="100" />

		</CRITERIA>

		<PROCEDURE name="GET_SUBMISSION_LIST_FOR_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol No</FIELD>
			<FIELD name="DETERMINATION_DUE_DATE" datatype="date" size="150">Determination
				Due Date</FIELD>
			<FIELD name="SUBMISSION_STATUS_DESCRIPTION" size="125">Submission
				Status</FIELD>
			<FIELD name="SUBMISSION_DATE" size="125" datatype="date">Submission
				Date</FIELD>
			<FIELD name="SUBMISSION_TYPE_DESCRIPTION" size="125">Submission Type</FIELD>
			<FIELD name="QUALIFIER_DESCRIPTION" size="175">Submission Type
				Qualifier</FIELD>
			<FIELD name="REVIEW_DESCRIPTION" size="100">Review Type</FIELD>
			<FIELD name="COMMITTEE_ID" size="100">Committee Id</FIELD>
			<FIELD name="SCHEDULE_ID" size="100" datatype="number">Schedule Id</FIELD>
			<FIELD name="SCHEDULED_DATE" size="100" datatype="date">Schedule Date</FIELD>
			<FIELD name="TITLE" size="100">Protocol Title</FIELD>
			<FIELD name="PERSON_NAME" size="100">PI</FIELD>
			<FIELD name="SUBMISSION_NUMBER">Submission Number</FIELD>
			<FIELD name="SEQUENCE_NUMBER" datatype="number">SEQUENCE_NUMBER</FIELD>
		</DISPLAY>
	</IACUCPROTOSUBMISSIONSEARCH>
	<COLUMN name="SUBMISSION_DATE" type="date" label="Submission Date" />
	<!-- Iacuc area of research Start -->
	<IACUC_AORSEARCH display="Area Of Research"
		retrievelimit="IACUC_RESEARCH_AREA_RETRIEVE_LIMIT" primarykeycolumn="OSP$AC_RESEARCH_AREAS.RESEARCH_AREA_CODE">
		<QUERY>
			<SELECTQUERY>SELECT OSP$AC_RESEARCH_AREAS.RESEARCH_AREA_CODE,
				OSP$AC_RESEARCH_AREAS.DESCRIPTION
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$AC_RESEARCH_AREAS" />
			</FROM>
		</QUERY>
		<CRITERIA>
			<FIELD name="OSP$AC_RESEARCH_AREAS.RESEARCH_AREA_CODE"
				datatype="string" size="125" />
			<FIELD name="OSP$AC_RESEARCH_AREAS.DESCRIPTION" datatype="string"
				size="275" />
		</CRITERIA>
		<PROCEDURE name="GET_AOR_LIST_FOR_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="RESEARCH_AREA_CODE">Research Code</FIELD>
			<FIELD name="DESCRIPTION">Description</FIELD>

		</DISPLAY>
		<REMCLAUSE>
			ORDER BY OSP$AC_RESEARCH_AREAS.RESEARCH_AREA_CODE
		</REMCLAUSE>
	</IACUC_AORSEARCH>

	<COLUMN name="OSP$AC_RESEARCH_AREAS.RESEARCH_AREA_CODE" type="text"
		label="Area Research Code" />
	<COLUMN name="OSP$AC_RESEARCH_AREAS.DESCRIPTION" type="text"
		label="Description" />
	<!-- Iacuc area of research Start -->


	<COLUMN name="OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_TYPE_CODE"
		type="list" label="Submission Type" descritpionlabel="Description"
		codelabel="Code">
		<PROCEDURE name="GET_AC_SUBMISSION_TYPES" codeselectparam="SUBMISSION_TYPE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>


	<COLUMN name="OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_STATUS_CODE"
		type="list" label="Submission Status" descritpionlabel="Description"
		codelabel="Code">
		<PROCEDURE name="GET_AC_SUBMISSION_STATUS" codeselectparam="SUBMISSION_STATUS_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>

	<COLUMN name="OSP$AC_PROTOCOL_SUBMISSION.SUBMISSION_TYPE_QUAL_CODE"
		type="list" label="Submission Type Qualifier" descritpionlabel="Description"
		codelabel="Code">
		<PROCEDURE name="GET_AC_SUBMISSION_TYPE_QUALS"
			codeselectparam="SUBMISSION_TYPE_QUAL_CODE" descriptionselectparam="DESCRIPTION" />
	</COLUMN>

	<COLUMN name="OSP$AC_PROTOCOL_SUBMISSION.PROTOCOL_REVIEW_TYPE_CODE"
		type="list" label="Review Type " descritpionlabel="Description"
		codelabel="Code">
		<PROCEDURE name="GET_AC_PROTOCOL_REVIEW_TYPES"
			codeselectparam="PROTOCOL_REVIEW_TYPE_CODE" descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<COLUMN name="OSP$AC_PROTOCOL_SUBMISSION.COMMITTEE_ID" type="text"
		label="Committee Id" />
	<!--IACUC END -->

	<COLUMN name="PAD.INST_PROPOSAL_NUMBER" type="text"
		label="Inst Proposal Number" />
	<!--MYCOI SEARCH START -->

	<COI_REPORTER_SEARCH retrievelimit="PROTOCOL_RETRIEVE_LIMIT">
		<QUERY>
			<SELECTQUERY>
				SELECT DISTINCT osp$coi_disclosure.COI_DISCLOSURE_NUMBER AS
				DISCLOSURE_NUMBER,
				osp$coi_disclosure.SEQUENCE_NUMBER,
				OSP$COI_STATUS.DESCRIPTION as DISCLOSURE_STATUS,
				to_char(osp$coi_disclosure.UPDATE_TIMESTAMP,'USER_DEFINED_DATE_FORMAT')
				"LAST_UPDATED",
				osp$coi_disclosure.UPDATE_USER AS UPDATED_USER,
				to_char( osp$coi_disclosure.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				OSP$COI_DISCLOSURE_EVENT_TYPE.description AS DISCLOSURE_EVENT,
				osp$coi_disclosure.DISCLOSURE_DISPOSITION_CODE,
				OSP$COI_FINANCIAL_ENTITIES.ENTITY_NAME AS FINANCIAL_ENTITY,
				OSP$COI_DISPOSITION_STATUS.DESCRIPTION AS DISPOSITION_STATUS,
				OSP$COI_DISPOSITION_STATUS.coi_disposition_code as
				DISCLOSURE_DISPOSITION_CODE,
				osp$coi_disclosure.PERSON_ID,fn_get_discl_user_name(osp$coi_disclosure.PERSON_ID)AS
				OWNED_BY
			</SELECTQUERY>
			<FROM>

				<TABLE
					name="osp$coi_disclosure
                       left join OSP$COI_STATUS on osp$coi_disclosure.DISCLOSURE_STATUS_CODE = OSP$COI_STATUS.COI_STATUS_CODE
                       left join OSP$COI_DISPOSITION_STATUS on osp$coi_disclosure.DISCLOSURE_DISPOSITION_CODE = OSP$COI_DISPOSITION_STATUS.COI_DISPOSITION_CODE
                       left join OSP$COI_DISC_DETAILS on (osp$coi_disclosure.COI_DISCLOSURE_NUMBER = OSP$COI_DISC_DETAILS.COI_DISCLOSURE_NUMBER AND osp$coi_disclosure.SEQUENCE_NUMBER = OSP$COI_DISC_DETAILS.SEQUENCE_NUMBER)
                       left join OSP$COI_DISCL_PROJECTS on OSP$COI_DISC_DETAILS.MODULE_ITEM_KEY = OSP$COI_DISCL_PROJECTS.COI_PROJECT_ID and osp$coi_disc_Details.coi_disclosure_number = osp$coi_discl_projects.coi_disclosure_number and osp$coi_disc_Details.SEQUENCE_NUMBER = osp$coi_discl_projects.SEQUENCE_NUMBER
                       left join OSP$COI_DISCL_STATUS on OSP$COI_DISC_DETAILS.COI_PROJECT_STATUS_CODE = OSP$COI_DISCL_STATUS.COI_DISCLOSURE_STATUS_CODE
                       left join OSP$COI_FINANCIAL_ENTITIES on (OSP$COI_DISC_DETAILS.ENTITY_NUMBER = OSP$COI_FINANCIAL_ENTITIES.ENTITY_NUMBER and OSP$COI_DISC_DETAILS.ENTITY_SEQUENCE_NUMBER = OSP$COI_FINANCIAL_ENTITIES.SEQUENCE_NUMBER)
                       left join OSP$COI_DISCLOSURE_EVENT_TYPE on osp$coi_disclosure.EVENT_TYPE_CODE = OSP$COI_DISCLOSURE_EVENT_TYPE.EVENT_TYPE_CODE
                       left join osp$person on osp$coi_disclosure.PERSON_ID=osp$person.person_id" />
			</FROM>

		</QUERY>


		<CRITERIA>
			<FIELD name="OSP$COI_DISCL_PROJECTS.COI_PROJECT_ID" datatype="string"
				size="100" />
			<FIELD name="OSP$COI_FINANCIAL_ENTITIES.ENTITY_NAME" datatype="string"
				size="100" />
			<FIELD name="fn_get_discl_user_name(osp$coi_disclosure.PERSON_ID)"
				datatype="string" size="100" />
			<FIELD name="OSP$PERSON.DIRECTORY_DEPARTMENT" datatype="string"
				size="100" />
			<FIELD name="OSP$COI_DISCLOSURE_EVENT_TYPE.EVENT_TYPE_CODE"
				datatype="string" size="100" />
			<FIELD name="OSP$COI_DISCLOSURE.DISCLOSURE_DISPOSITION_CODE"
				datatype="string" size="100" />
			<FIELD name="osp$coi_disclosure.DISCLOSURE_STATUS_CODE"
				datatype="string" size="100" />
			<FIELD name="osp$coi_disclosure.UPDATE_TIMESTAMP" datatype="date"
				size="100" />
			<FIELD name="osp$coi_disclosure.EXPIRATION_DATE" datatype="date"
				size="100" />
		</CRITERIA>
		<PROCEDURE name="get_disclosure_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="DISCLOSURE_NUMBER">Disclosure Number</FIELD>
			<FIELD name="OWNED_BY">Owned By</FIELD>
			<FIELD name="FINANCIAL_ENTITY">Financial Entity</FIELD>
			<FIELD name="DISCLOSURE_EVENT">Disclosure Event</FIELD>
			<FIELD name="DISCLOSURE_STATUS">Disclosure Status</FIELD>
			<FIELD name="DISPOSITION_STATUS">Disposition Status</FIELD>
			<FIELD name="UPDATED_USER">Updated User</FIELD>
			<FIELD name="LAST_UPDATED">Last Updated</FIELD>
			<FIELD name="EXPIRATION_DATE">Expiration Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
			<FIELD name="PERSON_ID" visible="false" datatype="number">Person id</FIELD>
			<FIELD name="DISCLOSURE_EVENT" visible="false" datatype="number">Disclosure
				Event</FIELD>

		</DISPLAY>

		<REMCLAUSE>
			and osp$coi_disclosure.PERSON_ID='COEUS' ORDER BY LAST_UPDATED DESC

		</REMCLAUSE>
	</COI_REPORTER_SEARCH>

	<COLUMN name="OSP$PERSON_FIN_INT_DISCLOSURE.ENTITY_NAME" type="text"
		label="Financial Entity " />
	<COLUMN name="OSP$COI_FINANCIAL_ENTITIES.ENTITY_NAME" type="text"
		label="Financial Entity " />
	<COLUMN name="OSP$PERSON.DIRECTORY_DEPARTMENT" type="text"
		label="Home Dept. " />
	<COLUMN name="OSP$COI_DISCLOSURE_EVENT_TYPE.EVENT_TYPE_CODE"
		type="list" label="Module " descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="GET_COI_EVENT_TYPE_CODE" codeselectparam="EVENT_TYPE_CODE"
			descriptionselectparam="DESCRIPTION" />
	</COLUMN>

	<COLUMN name="OSP$COI_DISCLOSURE.DISCLOSURE_DISPOSITION_CODE"
		type="list" label="Disposition Status " descritpionlabel="Description"
		codelabel="Code">
		<PROCEDURE name="GET_DISPOSITION_STATUS_COIV2"
			codeselectparam="DISCLOSURE_DISPOSITION_CODE" descriptionselectparam="DISCLOSURE_DISPOSITION_STATUS" />
	</COLUMN>

	<COLUMN name="osp$coi_disclosure.REVIEW_STATUS_CODE" type="list"
		label="Review Status" descritpionlabel="Description" codelabel="Code">
		<PROCEDURE name="GET_ALL_REVIEW_STATUS_COIV2"
			codeselectparam="REVIEW_STATUS_CODE" descriptionselectparam="DESCRIPTION" />
	</COLUMN>
	<!--<COLUMN name="OSP$COI_DISCL_PROJECTS.COI_PROJECT_START_DATE" type="text" 
		label="Submission Start Date "/> <COLUMN name="OSP$COI_DISCL_PROJECTS.COI_PROJECT_END_DATE" 
		type="text" label="Submission End Date "/> -->
	<COLUMN name="osp$coi_disclosure.UPDATE_TIMESTAMP" type="text"
		label="Submission Start Date  " />
	<COLUMN name="osp$coi_disclosure.EXPIRATION_DATE" type="text"
		label="Submission End Date  " />
	<COLUMN name="OSP$COI_DISCL_PROJECTS.COI_PROJECT_ID" type="text"
		label="Project ID  " />

	<COI_VIEWER_SEARCH display="Coi Viewer Search"
		retrievelimit="PROTOCOL_RETRIEVE_LIMIT">
		<QUERY>
			<SELECTQUERY>
				SELECT DISTINCT osp$coi_disclosure.COI_DISCLOSURE_NUMBER AS
				DISCLOSURE_NUMBER,
				osp$coi_disclosure.SEQUENCE_NUMBER,
				OSP$COI_STATUS.DESCRIPTION as DISCLOSURE_STATUS,
				to_char(osp$coi_disclosure.UPDATE_TIMESTAMP,'USER_DEFINED_DATE_FORMAT')
				"LAST_UPDATED",
				osp$coi_disclosure.UPDATE_USER AS UPDATED_USER,
				to_char(osp$coi_disclosure.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				OSP$COI_DISCLOSURE_EVENT_TYPE.description AS DISCLOSURE_EVENT,
				osp$coi_disclosure.DISCLOSURE_DISPOSITION_CODE,
				OSP$COI_DISPOSITION_STATUS.DESCRIPTION AS DISPOSITION_STATUS,
				OSP$COI_DISPOSITION_STATUS.coi_disposition_code as
				DISCLOSURE_DISPOSITION_CODE,
				osp$coi_disclosure.PERSON_ID,fn_get_discl_user_name(osp$coi_disclosure.PERSON_ID)AS
				OWNED_BY
			</SELECTQUERY>
			<FROM>
				<TABLE
					name="osp$coi_disclosure
                       left join OSP$COI_STATUS on osp$coi_disclosure.DISCLOSURE_STATUS_CODE = OSP$COI_STATUS.COI_STATUS_CODE
                       left join OSP$COI_DISPOSITION_STATUS on osp$coi_disclosure.DISCLOSURE_DISPOSITION_CODE = OSP$COI_DISPOSITION_STATUS.COI_DISPOSITION_CODE
                       INNER JOIN osp$coi_user_roles role ON osp$coi_disclosure.coi_disclosure_number = role.coi_disclosure_number
                       and osp$coi_disclosure.sequence_number = role.sequence_number
                       left join OSP$COI_DISCLOSURE_EVENT_TYPE on osp$coi_disclosure.EVENT_TYPE_CODE = OSP$COI_DISCLOSURE_EVENT_TYPE.EVENT_TYPE_CODE
                       left join OSP$COI_DISC_DETAILS on (osp$coi_disclosure.COI_DISCLOSURE_NUMBER = OSP$COI_DISC_DETAILS.COI_DISCLOSURE_NUMBER AND osp$coi_disclosure.SEQUENCE_NUMBER = OSP$COI_DISC_DETAILS.SEQUENCE_NUMBER)
                       left join OSP$COI_DISCL_PROJECTS on OSP$COI_DISC_DETAILS.MODULE_ITEM_KEY = OSP$COI_DISCL_PROJECTS.COI_PROJECT_ID
                       and osp$coi_disc_Details.coi_disclosure_number = osp$coi_discl_projects.coi_disclosure_number and
                       osp$coi_disc_Details.SEQUENCE_NUMBER = osp$coi_discl_projects.SEQUENCE_NUMBER
                       left join OSP$COI_FINANCIAL_ENTITIES on (OSP$COI_DISC_DETAILS.ENTITY_NUMBER = OSP$COI_FINANCIAL_ENTITIES.ENTITY_NUMBER and OSP$COI_DISC_DETAILS.ENTITY_SEQUENCE_NUMBER = OSP$COI_FINANCIAL_ENTITIES.SEQUENCE_NUMBER)
                       left join osp$person on osp$coi_disclosure.PERSON_ID=osp$person.person_id" />
			</FROM>

		</QUERY>


		<REMCLAUSE>
			and role.user_id='COEUS' ORDER BY LAST_UPDATED DESC
		</REMCLAUSE>

		<CRITERIA>
			<FIELD name="OSP$COI_DISCL_PROJECTS.COI_PROJECT_ID" datatype="string"
				size="100" />
			<FIELD name="OSP$COI_DISCLOSURE.COI_DISCLOSURE_NUMBER"
				datatype="string" size="100" />
			<FIELD name="OSP$PERSON.DIRECTORY_DEPARTMENT" datatype="string"
				size="100" />
			<FIELD name="fn_get_discl_user_name(osp$coi_disclosure.PERSON_ID)"
				datatype="string" size="100" />
			<FIELD name="OSP$COI_DISCLOSURE.DISCLOSURE_DISPOSITION_CODE"
				datatype="string" size="100" />
			<FIELD name="osp$coi_disclosure.DISCLOSURE_STATUS_CODE"
				datatype="string" size="100" />
			<FIELD name="OSP$COI_FINANCIAL_ENTITIES.ENTITY_NAME" datatype="string"
				size="100" />
			<FIELD name="osp$coi_disclosure.UPDATE_TIMESTAMP" datatype="date"
				size="100" />
			<FIELD name="osp$coi_disclosure.EXPIRATION_DATE" datatype="date"
				size="100" />
			<FIELD name="OSP$COI_DISCLOSURE_EVENT_TYPE.EVENT_TYPE_CODE"
				datatype="string" size="100" />
		</CRITERIA>

		<PROCEDURE name="get_disclosure_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="DISCLOSURE_NUMBER">Disclosure Number</FIELD>
			<FIELD name="OWNED_BY">Owned By</FIELD>
			<FIELD name="DISCLOSURE_EVENT">Disclosure Event</FIELD>
			<FIELD name="DISCLOSURE_STATUS">Disclosure Status</FIELD>
			<FIELD name="DISPOSITION_STATUS">Disposition Status</FIELD>
			<FIELD name="LAST_UPDATED">Last Updated</FIELD>
			<FIELD name="UPDATED_USER">Updated User</FIELD>
			<FIELD name="EXPIRATION_DATE">Expiration Date</FIELD>


		</DISPLAY>

	</COI_VIEWER_SEARCH>


	<COLUMN name="OSP$COI_DISCLOSURE.COI_DISCLOSURE_NUMBER" type="text"
		label="Disclosure Number " />
	<COLUMN name="fn_get_discl_user_name(osp$coi_disclosure.PERSON_ID)"
		type="text" label="Reporter " />


	<COI_ADMIN_SEARCH retrievelimit="PROTOCOL_RETRIEVE_LIMIT">
		<QUERY>
			<SELECTQUERY>
				SELECT DISTINCT osp$coi_disclosure.COI_DISCLOSURE_NUMBER AS
				DISCLOSURE_NUMBER,
				osp$coi_disclosure.SEQUENCE_NUMBER,
				OSP$COI_REVIEW_STATUS.DESCRIPTION as REVIEW_STATUS,
				to_char(osp$coi_disclosure.UPDATE_TIMESTAMP,'USER_DEFINED_DATE_FORMAT')
				"LAST_UPDATED",
				osp$coi_disclosure.UPDATE_USER AS UPDATED_USER,
				to_char(osp$coi_disclosure.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				OSP$COI_DISCLOSURE_EVENT_TYPE.description AS DISCLOSURE_EVENT,
				osp$coi_disclosure.DISCLOSURE_DISPOSITION_CODE,
				OSP$COI_DISPOSITION_STATUS.DESCRIPTION AS DISPOSITION_STATUS,
				OSP$COI_DISPOSITION_STATUS.coi_disposition_code as
				DISCLOSURE_DISPOSITION_CODE,
				osp$coi_disclosure.PERSON_ID,fn_get_discl_user_name(osp$coi_disclosure.PERSON_ID)AS
				OWNED_BY
			</SELECTQUERY>
			<FROM>
				<TABLE
					name="osp$coi_disclosure
                       left join OSP$COI_REVIEW_STATUS on osp$coi_disclosure.REVIEW_STATUS_CODE = OSP$COI_REVIEW_STATUS.REVIEW_STATUS_CODE
                       left join OSP$COI_DISPOSITION_STATUS on osp$coi_disclosure.DISCLOSURE_DISPOSITION_CODE = OSP$COI_DISPOSITION_STATUS.COI_DISPOSITION_CODE
                       left join OSP$COI_DISCLOSURE_EVENT_TYPE on osp$coi_disclosure.EVENT_TYPE_CODE = OSP$COI_DISCLOSURE_EVENT_TYPE.EVENT_TYPE_CODE
                       left join OSP$COI_DISC_DETAILS on (osp$coi_disclosure.COI_DISCLOSURE_NUMBER = OSP$COI_DISC_DETAILS.COI_DISCLOSURE_NUMBER AND osp$coi_disclosure.SEQUENCE_NUMBER = OSP$COI_DISC_DETAILS.SEQUENCE_NUMBER)
                       left join OSP$COI_DISCL_PROJECTS on OSP$COI_DISC_DETAILS.MODULE_ITEM_KEY = OSP$COI_DISCL_PROJECTS.COI_PROJECT_ID and osp$coi_disc_Details.coi_disclosure_number = osp$coi_discl_projects.coi_disclosure_number and osp$coi_disc_Details.SEQUENCE_NUMBER = osp$coi_discl_projects.SEQUENCE_NUMBER
                       left join OSP$COI_FINANCIAL_ENTITIES on (OSP$COI_DISC_DETAILS.ENTITY_NUMBER = OSP$COI_FINANCIAL_ENTITIES.ENTITY_NUMBER and OSP$COI_DISC_DETAILS.ENTITY_SEQUENCE_NUMBER = OSP$COI_FINANCIAL_ENTITIES.SEQUENCE_NUMBER)
                       left join osp$person on osp$coi_disclosure.PERSON_ID=osp$person.person_id" />
			</FROM>

		</QUERY>
		<ORDERBY>LAST_UPDATED DESC</ORDERBY>

		<CRITERIA>
			<FIELD name="OSP$COI_DISCL_PROJECTS.COI_PROJECT_ID" datatype="string"
				size="100" />
			<FIELD name="OSP$COI_DISCLOSURE.COI_DISCLOSURE_NUMBER"
				datatype="string" size="100" />
			<FIELD name="OSP$PERSON.DIRECTORY_DEPARTMENT" datatype="string"
				size="100" />
			<FIELD name="fn_get_discl_user_name(osp$coi_disclosure.PERSON_ID)"
				datatype="string" size="100" />
			<FIELD name="OSP$COI_DISCLOSURE.DISCLOSURE_DISPOSITION_CODE"
				datatype="string" size="100" />
			<FIELD name="osp$coi_disclosure.REVIEW_STATUS_CODE" datatype="string"
				size="100" />
			<FIELD name="OSP$COI_FINANCIAL_ENTITIES.ENTITY_NAME" datatype="string"
				size="100" />
			<FIELD name="osp$coi_disclosure.UPDATE_TIMESTAMP" datatype="date"
				size="100" />
			<FIELD name="osp$coi_disclosure.EXPIRATION_DATE" datatype="date"
				size="100" />
			<FIELD name="OSP$COI_DISCLOSURE_EVENT_TYPE.EVENT_TYPE_CODE"
				datatype="string" size="100" />
		</CRITERIA>

		<PROCEDURE name="get_disclosure_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="DISCLOSURE_NUMBER">Disclosure Number</FIELD>
			<FIELD name="OWNED_BY">Owned By</FIELD>
			<FIELD name="DISCLOSURE_EVENT">Disclosure Event</FIELD>
			<FIELD name="REVIEW_STATUS">Review Status</FIELD>
			<FIELD name="DISPOSITION_STATUS">Disposition Status</FIELD>
			<FIELD name="LAST_UPDATED">Last Updated</FIELD>
			<FIELD name="UPDATED_USER">Updated User</FIELD>
			<FIELD name="EXPIRATION_DATE">Expiration Date</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
			<FIELD name="PERSON_ID" visible="false" datatype="number">Person id</FIELD>


		</DISPLAY>
	</COI_ADMIN_SEARCH>


	<!--MYCOI SEARCH END -->
	<LOCATIONTYPESEARCH display="Location Type"
		retrievelimit="50" primarykeycolumn="LOCATION_TYPE_CODE">
		<QUERY>
			<SELECTQUERY>
				SELECT
				LOCATION_TYPE_CODE,
				LOCATION
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$AC_LOCATION_TYPE" />
			</FROM>
		</QUERY>
		<CRITERIA>
			<FIELD name="LOCATION_TYPE_CODE" datatype="string" websize="200"
				size="290" />
			<FIELD name="LOCATION" datatype="string" websize="200" size="290" />
		</CRITERIA>

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="LOCATION_TYPE_CODE" size="150">LOCATION_TYPE_CODE</FIELD>
			<FIELD name="LOCATION" size="230">LOCATION</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			ORDER BY OSP$AC_LOCATION_TYPE.LOCATION_TYPE_CODE
		</REMCLAUSE>
	</LOCATIONTYPESEARCH>
	<COLUMN name="LOCATION_TYPE_CODE" type="text" label="Location Type Code" />
	<COLUMN name="LOCATION" type="text" label="Location" />

	<LOCATIONNAMESEARCH display="Location Name"
		retrievelimit="50" primarykeycolumn="LOCATION_ID">
		<QUERY>
			<SELECTQUERY>
				SELECT
				LOCATION_ID,
				LOCATION_NAME
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$AC_LOCATION_NAME" />
			</FROM>
		</QUERY>
		<CRITERIA>
			<FIELD name="LOCATION_ID" datatype="string" websize="200" size="290" />
			<FIELD name="LOCATION_NAME" datatype="string" websize="200"
				size="290" />
		</CRITERIA>

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="LOCATION_ID" size="150">LOCATION_ID</FIELD>
			<FIELD name="LOCATION_NAME" size="230">LOCATION_NAME</FIELD>
		</DISPLAY>
		<!-- COEUSQA:3005 - Dependency between the Location Name and Location Type 
			in IACUC - Start -->
		<!-- <REMCLAUSE> ORDER BY OSP$AC_LOCATION_NAME.LOCATION_ID </REMCLAUSE> -->
		<REMCLAUSE>
			AND LOCATION_TYPE_CODE = LOCATIONTYPECODE ORDER BY
			OSP$AC_LOCATION_NAME.LOCATION_ID
		</REMCLAUSE>
		<!-- COEUSQA:3005 - End -->
	</LOCATIONNAMESEARCH>
	<COLUMN name="LOCATION_ID" type="text" label="Location Id" />
	<COLUMN name="LOCATION_NAME" type="text" label="Location Name" />


	<!--MY AWARD SEARCH START -->

	<AWARD_SEARCH retrievelimit="AWARD_RETRIEVE_LIMIT">
		<QUERY>
			<SELECTQUERY>
				select
				osp$award.mit_award_number as AWARD_NUMBER,
				osp$award_header.title as TITLE,
				osp$award.account_number AS ACCOUNT_NUMBER,
				osp$award.sequence_number AS SEQUENCE_NUMBER,
				osp$award_status.description AS STATUS,

				(select full_name from osp$person where person_id=(select person_id from
				osp$award_investigators where
				((osp$award_investigators.mit_award_number=osp$award.mit_award_number
				)
				and(osp$award_investigators.principal_investigator_flag ='Y')
				and(osp$award_investigators.SEQUENCE_NUMBER=(select max(t3.sequence_number)from osp$award_investigators t3 where
				t3.mit_award_number=osp$award.mit_award_number ))))) AS PI,
				(osp$award_units.unit_number)AS LEAD_UNIT,
				osp$sponsor.sponsor_name AS SPONSOR,
				osp$award.sponsor_code AS SPONSOR_CODE,
				osp$award.sponsor_award_number AS SPONSOR_AWARD_NUMBER,
				to_char(osp$award.begin_date,'USER_DEFINED_DATE_FORMAT')AS
				START_DATE,
				to_char(osp$award.award_execution_date,'USER_DEFINED_DATE_FORMAT')AS
				END_DATE,
				OSP$AWARD_HIERARCHY.PARENT_MIT_AWARD_NUMBER,
				OSP$AWARD_HIERARCHY.root_mit_award_number AS ROOT_AWARD,
				nvl(OSP$AWARD_AMOUNT_INFO.OBLI_DISTRIBUTABLE_AMOUNT,0.00)as
				OBLI_DISTRIBUTABLE_AMOUNT,
				nvl(OSP$AWARD_AMOUNT_INFO.ANTICIPATED_TOTAL_AMOUNT,0.00)as
				ANTICIPATED_TOTAL_AMOUNT,
				nvl(OSP$AWARD_AMOUNT_INFO.ANT_DISTRIBUTABLE_AMOUNT,0.00)as
				ANT_DISTRIBUTABLE_AMOUNT

			</SELECTQUERY>
			<FROM>
				<TABLE
					name="osp$award inner join
                       (select mit_award_number as mitan, max(sequence_number) as umno from osp$award group by mit_award_number)
                       on (osp$award.mit_award_number=mitan) and (osp$award.sequence_number=umno)
                       inner join osp$award_status on (osp$award_status.status_code=osp$award.status_code)
                       inner join osp$sponsor on (osp$sponsor.sponsor_code=osp$award.sponsor_code)
                       inner join osp$award_units on (osp$award_units.mit_award_number=osp$award.mit_award_number)
                       and (osp$award_units.lead_unit_flag='Y')
                       and (osp$award_units.SEQUENCE_NUMBER=(select max(t1.sequence_number)from osp$award_units t1 where t1.mit_award_number=osp$award.mit_award_number ))
                       inner join osp$award_hierarchy on(osp$award.mit_award_number=osp$award_hierarchy.mit_award_number)
                       join osp$award_header on (osp$award_header.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                       and (osp$award_header.SEQUENCE_NUMBER=(select max(t2.sequence_number)from osp$award_header t2 where t2.mit_award_number=osp$award.mit_award_number )  )
                       join osp$award_amount_info on((osp$award_amount_info.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                                   and(osp$award_amount_info.SEQUENCE_NUMBER=osp$award.sequence_number)
                                     and(osp$award_amount_info.AMOUNT_SEQUENCE_NUMBER=
                                   (select max(amtinfo.AMOUNT_SEQUENCE_NUMBER) from osp$award_amount_info amtinfo
                                   where (amtinfo.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                                    and(amtinfo.SEQUENCE_NUMBER=osp$award.sequence_number))))
                       " />
			</FROM>

		</QUERY>
		<REMCLAUSE>
			WHERE COEUS ORDER BY osp$award.mit_award_number ASC
		</REMCLAUSE>


		<PROCEDURE name="dw_get_award_list_forquery">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="AWARD_NUMBER">Award Number</FIELD>
			<FIELD name="TITLE">Title</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="int">sequence
				Number</FIELD>
			<FIELD name="ACCOUNT_NUMBER">Account Number</FIELD>
			<FIELD name="STATUS">Status</FIELD>
			<FIELD name="PI">PI</FIELD>
			<FIELD name="LEAD_UNIT">Lead Unit</FIELD>
			<FIELD name="SPONSOR">Sponsor</FIELD>
			<FIELD name="SPONSOR_CODE">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_AWARD_NUMBER">Sponsor Award Number</FIELD>
			<FIELD name="START_DATE">Start Date</FIELD>
			<FIELD name="END_DATE">End Date</FIELD>
			<FIELD name="PARENT_MIT_AWARD_NUMBER" visible="false" datatype="String">Parent</FIELD>
			<FIELD name="ROOT_AWARD" visible="false" datatype="String">Root</FIELD>
			<FIELD name="ANTICIPATED_TOTAL_AMOUNT">Anticipated Total Amount</FIELD>
			<FIELD name="ANT_DISTRIBUTABLE_AMOUNT">Anticipated
				Distributable Amount</FIELD>
			<FIELD name="OBLI_DISTRIBUTABLE_AMOUNT">Obligated Distributable
				Amount</FIELD>
		</DISPLAY>
	</AWARD_SEARCH>

	<ALL_PARENT_AWARD_SEARCH retrievelimit="AWARD_RETRIEVE_LIMIT">
		<QUERY>
			<SELECTQUERY>
				select
				osp$award.mit_award_number as AWARD_NUMBER,
				osp$award_header.title as TITLE,
				osp$award.account_number AS ACCOUNT_NUMBER,
				osp$award.sequence_number AS SEQUENCE_NUMBER,
				osp$award_status.description AS STATUS,

				(select full_name from osp$person where person_id=(select person_id from
				osp$award_investigators where
				((osp$award_investigators.mit_award_number=osp$award.mit_award_number
				)
				and(osp$award_investigators.principal_investigator_flag ='Y')
				and(osp$award_investigators.SEQUENCE_NUMBER=(select max(t3.sequence_number)from osp$award_investigators t3 where
				t3.mit_award_number=osp$award.mit_award_number ))))) AS PI,
				(osp$award_units.unit_number)AS LEAD_UNIT,
				osp$sponsor.sponsor_name AS SPONSOR,
				osp$award.sponsor_code AS SPONSOR_CODE,
				osp$award.sponsor_award_number AS SPONSOR_AWARD_NUMBER,
				to_char(osp$award.begin_date,'USER_DEFINED_DATE_FORMAT')AS
				START_DATE,
				to_char(osp$award.award_execution_date,'USER_DEFINED_DATE_FORMAT')AS
				END_DATE,
				OSP$AWARD_HIERARCHY.PARENT_MIT_AWARD_NUMBER,
				OSP$AWARD_HIERARCHY.root_mit_award_number AS ROOT_AWARD,
				nvl(OSP$AWARD_AMOUNT_INFO.OBLI_DISTRIBUTABLE_AMOUNT,0.00)as
				OBLI_DISTRIBUTABLE_AMOUNT,
				nvl(OSP$AWARD_AMOUNT_INFO.ANTICIPATED_TOTAL_AMOUNT,0.00)as
				ANTICIPATED_TOTAL_AMOUNT,
				nvl(OSP$AWARD_AMOUNT_INFO.ANT_DISTRIBUTABLE_AMOUNT,0.00)as
				ANT_DISTRIBUTABLE_AMOUNT
			</SELECTQUERY>
			<FROM>
				<TABLE
					name="osp$award inner join
                       (select mit_award_number as mitan, max(sequence_number) as umno from osp$award group by mit_award_number)
                       on (osp$award.mit_award_number=mitan) and (osp$award.sequence_number=umno)
                       inner join osp$award_status on (osp$award_status.status_code=osp$award.status_code)
                       inner join osp$sponsor on (osp$sponsor.sponsor_code=osp$award.sponsor_code)
                       inner join osp$award_units on (osp$award_units.mit_award_number=osp$award.mit_award_number)
                       and (osp$award_units.lead_unit_flag='Y')
                       and (osp$award_units.SEQUENCE_NUMBER=(select max(t1.sequence_number)from osp$award_units t1 where t1.mit_award_number=osp$award.mit_award_number ))
                       inner join osp$award_hierarchy on(osp$award.mit_award_number=osp$award_hierarchy.mit_award_number)
                       join osp$award_header on (osp$award_header.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                       and (osp$award_header.SEQUENCE_NUMBER=(select max(t2.sequence_number)from osp$award_header t2 where t2.mit_award_number=osp$award.mit_award_number )  )
                       join osp$award_amount_info on((osp$award_amount_info.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                                   and(osp$award_amount_info.SEQUENCE_NUMBER=osp$award.sequence_number)
                                     and(osp$award_amount_info.AMOUNT_SEQUENCE_NUMBER=
                                   (select max(amtinfo.AMOUNT_SEQUENCE_NUMBER) from osp$award_amount_info amtinfo
                                   where (amtinfo.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                                    and(amtinfo.SEQUENCE_NUMBER=osp$award.sequence_number))))
                       " />
			</FROM>

		</QUERY>
		<REMCLAUSE>
			where COEUS and
		</REMCLAUSE>


		<PROCEDURE name="dw_get_award_list_forquery">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="AWARD_NUMBER">Award Number</FIELD>
			<FIELD name="TITLE">Title</FIELD>
			<FIELD name="ACCOUNT_NUMBER">Account Number</FIELD>
			<FIELD name="STATUS">Status</FIELD>
			<FIELD name="PI">PI</FIELD>
			<FIELD name="LEAD_UNIT">Lead Unit</FIELD>
			<FIELD name="SPONSOR">Sponsor</FIELD>
			<FIELD name="SPONSOR_CODE">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_AWARD_NUMBER">Sponsor Award Number</FIELD>
			<FIELD name="START_DATE">Start Date</FIELD>
			<FIELD name="END_DATE">End Date</FIELD>
			<FIELD name="ANTICIPATED_TOTAL_AMOUNT">Anticipated Total Amount</FIELD>
			<FIELD name="ANT_DISTRIBUTABLE_AMOUNT">Anticipated
				Distributable Amount</FIELD>
			<FIELD name="OBLI_DISTRIBUTABLE_AMOUNT">Obligated Distributable
				Amount</FIELD>
		</DISPLAY>
	</ALL_PARENT_AWARD_SEARCH>

	<ALL_ACTIVE_PARENT_AWARD retrievelimit="AWARD_RETRIEVE_LIMIT">
		<QUERY>
			<SELECTQUERY>
				select
				osp$award.mit_award_number as AWARD_NUMBER,
				osp$award_header.title as TITLE,
				osp$award.account_number AS ACCOUNT_NUMBER,
				osp$award.sequence_number AS SEQUENCE_NUMBER,
				osp$award_status.description AS STATUS,

				(select full_name from osp$person where person_id=(select person_id from
				osp$award_investigators where
				((osp$award_investigators.mit_award_number=osp$award.mit_award_number
				)
				and(osp$award_investigators.principal_investigator_flag ='Y')
				and(osp$award_investigators.SEQUENCE_NUMBER=(select max(t3.sequence_number)from osp$award_investigators t3 where
				t3.mit_award_number=osp$award.mit_award_number ))))) AS PI,
				(osp$award_units.unit_number)AS LEAD_UNIT,
				osp$sponsor.sponsor_name AS SPONSOR,
				osp$award.sponsor_code AS SPONSOR_CODE,
				osp$award.sponsor_award_number AS SPONSOR_AWARD_NUMBER,
				to_char(osp$award.begin_date,'USER_DEFINED_DATE_FORMAT')AS
				START_DATE,
				to_char(osp$award.award_execution_date,'USER_DEFINED_DATE_FORMAT')AS
				END_DATE,
				OSP$AWARD_HIERARCHY.PARENT_MIT_AWARD_NUMBER,
				OSP$AWARD_HIERARCHY.root_mit_award_number AS ROOT_AWARD,
				nvl(OSP$AWARD_AMOUNT_INFO.OBLI_DISTRIBUTABLE_AMOUNT,0.00)as
				OBLI_DISTRIBUTABLE_AMOUNT,
				nvl(OSP$AWARD_AMOUNT_INFO.ANTICIPATED_TOTAL_AMOUNT,0.00)as
				ANTICIPATED_TOTAL_AMOUNT,
				nvl(OSP$AWARD_AMOUNT_INFO.ANT_DISTRIBUTABLE_AMOUNT,0.00)as
				ANT_DISTRIBUTABLE_AMOUNT
			</SELECTQUERY>
			<FROM>
				<TABLE
					name="osp$award inner join
                       (select mit_award_number as mitan, max(sequence_number) as umno from osp$award group by mit_award_number)
                       on (osp$award.mit_award_number=mitan) and (osp$award.sequence_number=umno)
                       inner join osp$award_status on (osp$award_status.status_code=osp$award.status_code)
                       inner join osp$sponsor on (osp$sponsor.sponsor_code=osp$award.sponsor_code)
                       inner join osp$award_units on (osp$award_units.mit_award_number=osp$award.mit_award_number)
                       and (osp$award_units.lead_unit_flag='Y')
                       and (osp$award_units.SEQUENCE_NUMBER=(select max(t1.sequence_number)from osp$award_units t1 where t1.mit_award_number=osp$award.mit_award_number ))
                       inner join osp$award_hierarchy on(osp$award.mit_award_number=osp$award_hierarchy.mit_award_number)
                       join osp$award_header on (osp$award_header.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                       and (osp$award_header.SEQUENCE_NUMBER=(select max(t2.sequence_number)from osp$award_header t2 where t2.mit_award_number=osp$award.mit_award_number )  )
                       join osp$award_amount_info on((osp$award_amount_info.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                                   and(osp$award_amount_info.SEQUENCE_NUMBER=osp$award.sequence_number)
                                     and(osp$award_amount_info.AMOUNT_SEQUENCE_NUMBER=
                                   (select max(amtinfo.AMOUNT_SEQUENCE_NUMBER) from osp$award_amount_info amtinfo
                                   where (amtinfo.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                                    and(amtinfo.SEQUENCE_NUMBER=osp$award.sequence_number))))
                       " />
			</FROM>

		</QUERY>
		<REMCLAUSE>
			where COEUS
		</REMCLAUSE>


		<PROCEDURE name="dw_get_award_list_forquery">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="AWARD_NUMBER">Award Number</FIELD>
			<FIELD name="TITLE">Title</FIELD>
			<FIELD name="ACCOUNT_NUMBER">Account Number</FIELD>
			<FIELD name="STATUS">Status</FIELD>
			<FIELD name="PI">PI</FIELD>
			<FIELD name="LEAD_UNIT">Lead Unit</FIELD>
			<FIELD name="SPONSOR">Sponsor</FIELD>
			<FIELD name="SPONSOR_CODE">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_AWARD_NUMBER">Sponsor Award Number</FIELD>
			<FIELD name="START_DATE">Start Date</FIELD>
			<FIELD name="END_DATE">End Date</FIELD>
			<FIELD name="ANTICIPATED_TOTAL_AMOUNT">Anticipated Total Amount</FIELD>
			<FIELD name="ANT_DISTRIBUTABLE_AMOUNT">Anticipated
				Distributable Amount</FIELD>
			<FIELD name="OBLI_DISTRIBUTABLE_AMOUNT">Obligated Distributable
				Amount</FIELD>
		</DISPLAY>
	</ALL_ACTIVE_PARENT_AWARD>

	<ALL_ACTIVE_AWARDS retrievelimit="AWARD_RETRIEVE_LIMIT">
		<QUERY>
			<SELECTQUERY>
				select
				osp$award.mit_award_number as AWARD_NUMBER,
				osp$award_header.title as TITLE,
				osp$award.account_number AS ACCOUNT_NUMBER,
				osp$award.sequence_number AS SEQUENCE_NUMBER,
				osp$award_status.description AS STATUS,

				(select full_name from osp$person where person_id=(select person_id from
				osp$award_investigators where
				((osp$award_investigators.mit_award_number=osp$award.mit_award_number
				)
				and(osp$award_investigators.principal_investigator_flag ='Y')
				and(osp$award_investigators.SEQUENCE_NUMBER=(select max(t3.sequence_number)from osp$award_investigators t3 where
				t3.mit_award_number=osp$award.mit_award_number ))))) AS PI,
				(osp$award_units.unit_number)AS LEAD_UNIT,
				osp$sponsor.sponsor_name AS SPONSOR,
				osp$award.sponsor_code AS SPONSOR_CODE,
				osp$award.sponsor_award_number AS SPONSOR_AWARD_NUMBER,
				to_char(osp$award.begin_date,'USER_DEFINED_DATE_FORMAT')AS
				START_DATE,
				to_char(osp$award.award_execution_date,'USER_DEFINED_DATE_FORMAT')AS
				END_DATE,
				OSP$AWARD_HIERARCHY.PARENT_MIT_AWARD_NUMBER,
				OSP$AWARD_HIERARCHY.root_mit_award_number AS ROOT_AWARD,
				nvl(OSP$AWARD_AMOUNT_INFO.OBLI_DISTRIBUTABLE_AMOUNT,0.00)as
				OBLI_DISTRIBUTABLE_AMOUNT,
				nvl(OSP$AWARD_AMOUNT_INFO.ANTICIPATED_TOTAL_AMOUNT,0.00)as
				ANTICIPATED_TOTAL_AMOUNT,
				nvl(OSP$AWARD_AMOUNT_INFO.ANT_DISTRIBUTABLE_AMOUNT,0.00)as
				ANT_DISTRIBUTABLE_AMOUNT
			</SELECTQUERY>
			<FROM>
				<TABLE
					name="osp$award inner join
                       (select mit_award_number as mitan, max(sequence_number) as umno from osp$award group by mit_award_number)
                       on (osp$award.mit_award_number=mitan) and (osp$award.sequence_number=umno)
                       inner join osp$award_status on (osp$award_status.status_code=osp$award.status_code)
                       inner join osp$sponsor on (osp$sponsor.sponsor_code=osp$award.sponsor_code)
                       inner join osp$award_units on (osp$award_units.mit_award_number=osp$award.mit_award_number)
                       and (osp$award_units.lead_unit_flag='Y')
                       and (osp$award_units.SEQUENCE_NUMBER=(select max(t1.sequence_number)from osp$award_units t1 where t1.mit_award_number=osp$award.mit_award_number ))
                       inner join osp$award_hierarchy on(osp$award.mit_award_number=osp$award_hierarchy.mit_award_number)
                       join osp$award_header on (osp$award_header.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                       and (osp$award_header.SEQUENCE_NUMBER=(select max(t2.sequence_number)from osp$award_header t2 where t2.mit_award_number=osp$award.mit_award_number )  )
                       join osp$award_amount_info on((osp$award_amount_info.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                                   and(osp$award_amount_info.SEQUENCE_NUMBER=osp$award.sequence_number)
                                     and(osp$award_amount_info.AMOUNT_SEQUENCE_NUMBER=
                                   (select max(amtinfo.AMOUNT_SEQUENCE_NUMBER) from osp$award_amount_info amtinfo
                                   where (amtinfo.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                                    and(amtinfo.SEQUENCE_NUMBER=osp$award.sequence_number))))
                       " />
			</FROM>

		</QUERY>
		<REMCLAUSE>
			where COEUS
		</REMCLAUSE>


		<PROCEDURE name="dw_get_award_list_forquery">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="AWARD_NUMBER">Award Number</FIELD>
			<FIELD name="TITLE">Title</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="int">sequence
				Number</FIELD>
			<FIELD name="ACCOUNT_NUMBER">Account Number</FIELD>
			<FIELD name="STATUS">Status</FIELD>
			<FIELD name="PI">PI</FIELD>
			<FIELD name="LEAD_UNIT">Lead Unit</FIELD>
			<FIELD name="SPONSOR">Sponsor</FIELD>
			<FIELD name="SPONSOR_CODE">Sponsor Code</FIELD>
			<FIELD name="SPONSOR_AWARD_NUMBER">Sponsor Award Number</FIELD>
			<FIELD name="START_DATE">Start Date</FIELD>
			<FIELD name="END_DATE">End Date</FIELD>
			<FIELD name="PARENT_MIT_AWARD_NUMBER" visible="false" datatype="String">Parent</FIELD>
			<FIELD name="ROOT_AWARD" visible="false" datatype="String">Root</FIELD>
			<FIELD name="ANTICIPATED_TOTAL_AMOUNT">Anticipated Total Amount</FIELD>
			<FIELD name="ANT_DISTRIBUTABLE_AMOUNT">Anticipated
				Distributable Amount</FIELD>
			<FIELD name="OBLI_DISTRIBUTABLE_AMOUNT">Obligated Distributable
				Amount</FIELD>
		</DISPLAY>
	</ALL_ACTIVE_AWARDS>

	<PARENT_CHILD retrievelimit="AWARD_RETRIEVE_LIMIT">
		<QUERY>
			<SELECTQUERY>
				select
				osp$award.mit_award_number as AWARD_NUMBER,
				osp$award_header.title as TITLE,
				osp$award.account_number AS ACCOUNT_NUMBER,
				osp$award.sequence_number AS SEQUENCE_NUMBER,
				osp$award_status.description AS STATUS,

				(select full_name from osp$person where person_id=(select person_id from
				osp$award_investigators where
				((osp$award_investigators.mit_award_number=osp$award.mit_award_number
				)
				and(osp$award_investigators.principal_investigator_flag ='Y')
				and(osp$award_investigators.SEQUENCE_NUMBER=(select max(t3.sequence_number)from osp$award_investigators t3 where
				t3.mit_award_number=osp$award.mit_award_number ))))) AS PI,
				(osp$award_units.unit_number)AS LEAD_UNIT,
				osp$sponsor.sponsor_name AS SPONSOR,
				osp$award.sponsor_code AS SPONSOR_CODE,
				osp$award.sponsor_award_number AS SPONSOR_AWARD_NUMBER,
				to_char(osp$award.begin_date,'USER_DEFINED_DATE_FORMAT')AS
				START_DATE,
				to_char(osp$award.award_execution_date,'USER_DEFINED_DATE_FORMAT')AS
				END_DATE,
				OSP$AWARD_HIERARCHY.PARENT_MIT_AWARD_NUMBER,
				OSP$AWARD_HIERARCHY.root_mit_award_number AS ROOT_AWARD,

				nvl(OSP$AWARD_AMOUNT_INFO.AMOUNT_OBLIGATED_TO_DATE,0.00)as
				AMOUNT_OBLIGATED_TO_DATE,
				nvl(OSP$AWARD_AMOUNT_INFO.ANTICIPATED_TOTAL_AMOUNT,0.00)as
				ANTICIPATED_TOTAL_AMOUNT,

				nvl(OSP$AWARD_AMOUNT_INFO.OBLI_DISTRIBUTABLE_AMOUNT,0.00)as
				OBLI_DISTRIBUTABLE_AMOUNT,
				nvl(OSP$AWARD_AMOUNT_INFO.ANTICIPATED_TOTAL_AMOUNT,0.00)as
				ANTICIPATED_TOTAL_AMOUNT,
				nvl(OSP$AWARD_AMOUNT_INFO.ANT_DISTRIBUTABLE_AMOUNT,0.00)as
				ANT_DISTRIBUTABLE_AMOUNT,
				nvl(OSP$AWARD_AMOUNT_INFO.ANTICIPATED_TOTAL_DIRECT,0.00)as
				ANTICIPATED_TOTAL_DIRECT,
				nvl(OSP$AWARD_AMOUNT_INFO.ANTICIPATED_TOTAL_INDIRECT,0.00)as
				ANTICIPATED_TOTAL_INDIRECT,
				nvl(OSP$AWARD_AMOUNT_INFO.OBLIGATED_TOTAL_DIRECT,0.00)as
				OBLIGATED_TOTAL_DIRECT,
				nvl(OSP$AWARD_AMOUNT_INFO.OBLIGATED_TOTAL_INDIRECT,0.00)as
				OBLIGATED_TOTAL_INDIRECT,
				TO_CHAR(OSP$AWARD_AMOUNT_INFO.OBLIGATION_EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')as
				OBLIGATION_EXPIRATION_DATE,
				TO_CHAR(OSP$AWARD_AMOUNT_INFO.FINAL_EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')as
				FINAL_EXPIRATION_DATE,
				TO_CHAR(OSP$AWARD_AMOUNT_INFO.CURRENT_FUND_EFFECTIVE_DATE,'USER_DEFINED_DATE_FORMAT')as
				OBLIGATION_EFFECTIVE_DATE
			</SELECTQUERY>
			<FROM>
				<TABLE
					name="osp$award inner join
                       (select mit_award_number as mitan, max(sequence_number) as umno from osp$award group by mit_award_number)
                       on (osp$award.mit_award_number=mitan) and (osp$award.sequence_number=umno)
                       inner join osp$award_status on (osp$award_status.status_code=osp$award.status_code)
                       inner join osp$sponsor on (osp$sponsor.sponsor_code=osp$award.sponsor_code)
                       inner join osp$award_units on (osp$award_units.mit_award_number=osp$award.mit_award_number)
                       and (osp$award_units.lead_unit_flag='Y')
                       and (osp$award_units.SEQUENCE_NUMBER=(select max(t1.sequence_number)from osp$award_units t1 where t1.mit_award_number=osp$award.mit_award_number ))
                       inner join osp$award_hierarchy on(osp$award.mit_award_number=osp$award_hierarchy.mit_award_number)
                       join osp$award_header on (osp$award_header.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                       and (osp$award_header.SEQUENCE_NUMBER=(select max(t2.sequence_number)from osp$award_header t2 where t2.mit_award_number=osp$award.mit_award_number )  )
                       join osp$award_amount_info on((osp$award_amount_info.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                                   and(osp$award_amount_info.SEQUENCE_NUMBER=osp$award.sequence_number)
                                     and(osp$award_amount_info.AMOUNT_SEQUENCE_NUMBER=
                                   (select max(amtinfo.AMOUNT_SEQUENCE_NUMBER) from osp$award_amount_info amtinfo
                                   where (amtinfo.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                                    and(amtinfo.SEQUENCE_NUMBER=osp$award.sequence_number))))
                       " />
			</FROM>

		</QUERY>
		<REMCLAUSE>
			where COEUS
		</REMCLAUSE>

		<PROCEDURE name="dw_get_award_list_forquery">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="AWARD_NUMBER">Award Number</FIELD>
			<!--<FIELD name="TITLE" visible="false">Title</FIELD> -->
			<!--<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="int">sequence 
				Number</FIELD> -->
			<!--<FIELD name="ACCOUNT_NUMBER" visible="false">Account Number</FIELD> 
				<FIELD name="STATUS" visible="false">Status</FIELD> <FIELD name="PI" visible="false">PI</FIELD> 
				<FIELD name="LEAD_UNIT" visible="false">Lead Unit</FIELD> <FIELD name="SPONSOR" 
				visible="false">Sponsor</FIELD> <FIELD name="SPONSOR_CODE" visible="false">Sponsor 
				Code</FIELD> <FIELD name="SPONSOR_AWARD_NUMBER" visible="false">Sponsor Award 
				Number</FIELD> -->
			<FIELD name="AMOUNT_OBLIGATED_TO_DATE">Obligated Total</FIELD>
			<FIELD name="ANTICIPATED_TOTAL_AMOUNT">Anticipated Total</FIELD>

			<FIELD name="OBLIGATED_TOTAL_DIRECT">Obl. Total Direct</FIELD>
			<FIELD name="OBLIGATED_TOTAL_INDIRECT">Obl. Total Indirect</FIELD>
			<FIELD name="OBLI_DISTRIBUTABLE_AMOUNT">Obligated Distributable</FIELD>
			<FIELD name="ANTICIPATED_TOTAL_DIRECT">Ant. Total Direct</FIELD>
			<FIELD name="ANTICIPATED_TOTAL_INDIRECT">Ant. Total Indirect</FIELD>
			<FIELD name="ANT_DISTRIBUTABLE_AMOUNT">Anticipated Distributable</FIELD>
			<FIELD name="OBLIGATION_EFFECTIVE_DATE">Obligation Effective Date</FIELD>
			<FIELD name="OBLIGATION_EXPIRATION_DATE">Obligation Expiration Date</FIELD>
			<FIELD name="FINAL_EXPIRATION_DATE">Final Expiration Date</FIELD>
			<!--<FIELD name="END_DATE" visible="false">End Date</FIELD> -->
			<!--<FIELD name="PARENT_MIT_AWARD_NUMBER" visible="false" datatype="String">Parent</FIELD> -->
			<!--<FIELD name="ROOT_AWARD" visible="false" datatype="String">Root</FIELD> -->
			<!--<FIELD name="ANTICIPATED_TOTAL_AMOUNT" >Anticipated Total Amount</FIELD> -->

			<!--<FIELD name="OBLI_DISTRIBUTABLE_AMOUNT" >Obligated Distributable Amount</FIELD> -->
		</DISPLAY>
	</PARENT_CHILD>

	<COLUMN name="OSP$AWARD_FUNDING_PROPOSALS.PROPOSAL_NUMBER" type="text"
		label="Institute Proposal" />

	<AWARDLIST_SEARCH display="Award Search"
		retrievelimit="AWARD_RETRIEVE_LIMIT" primarykeycolumn="OSP$AWARD.MIT_AWARD_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT osp$award.mit_award_number as AWARD_NUMBER,
				osp$award.account_number AS ACCOUNT_NUMBER,
				osp$award_status.description AS STATUS,
				osp$person.full_name AS PI,
				(osp$award_units.unit_number)AS LEAD_UNIT,
				osp$sponsor.sponsor_name AS SPONSOR,
				osp$award.sponsor_award_number AS SPONSOR_AWARD_NUMBER,
				to_char(osp$award.begin_date,'USER_DEFINED_DATE_FORMAT')AS
				START_DATE,
				to_char(osp$award.award_execution_date,'USER_DEFINED_DATE_FORMAT')AS
				END_DATE,
				osp$award_header.title as TITLE,
				osp$sponsor.sponsor_code as SPONSORNUM,
				NVL(OSP$AWARD_AMOUNT_INFO.ANTICIPATED_TOTAL_AMOUNT,0.00) as
				ANTICIPATED_TOTAL_AMOUNT,
				NVL(OSP$AWARD_AMOUNT_INFO.OBLI_DISTRIBUTABLE_AMOUNT,0.00) as
				OBLI_DISTRIBUTABLE_AMOUNT,
				NVL(OSP$AWARD_AMOUNT_INFO.ANT_DISTRIBUTABLE_AMOUNT,0.00) as
				ANT_DISTRIBUTABLE_AMOUNT
			</SELECTQUERY>
			<FROM>
				<TABLE
					name="osp$award inner join
                       (select mit_award_number as mitan, max(sequence_number) as umno from osp$award group by mit_award_number)
                       on (osp$award.mit_award_number=mitan) and (osp$award.sequence_number=umno)
                       inner join osp$award_status on (osp$award_status.status_code=osp$award.status_code)
                       inner join osp$sponsor on (osp$sponsor.sponsor_code=osp$award.sponsor_code)
                       inner join osp$award_units on (osp$award_units.mit_award_number=osp$award.mit_award_number)
                       and (osp$award_units.lead_unit_flag='Y')
                       and (osp$award_units.SEQUENCE_NUMBER=(select max(SEQUENCE_NUMBER) from osp$award_units ut where (ut.mit_award_number=osp$award.mit_award_number)))
                       inner join osp$award_hierarchy on(osp$award.mit_award_number=osp$award_hierarchy.mit_award_number)
                       inner join osp$award_header on (osp$award.mit_award_number=osp$award_header.mit_award_number)
                       and (osp$award_header.SEQUENCE_NUMBER=(select max(SEQUENCE_NUMBER) from osp$award_header ah where (ah.mit_award_number=osp$award.mit_award_number)))
                       join osp$award_amount_info on((osp$award_amount_info.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                                   and(osp$award_amount_info.SEQUENCE_NUMBER=osp$award.sequence_number)
                                     and(osp$award_amount_info.AMOUNT_SEQUENCE_NUMBER=
                                   (select max(amtinfo.AMOUNT_SEQUENCE_NUMBER) from osp$award_amount_info amtinfo
                                   where (amtinfo.MIT_AWARD_NUMBER=osp$award.mit_award_number)
                                    and(amtinfo.SEQUENCE_NUMBER=osp$award.sequence_number))))
                        inner join osp$award_investigators on ((osp$award_investigators.mit_award_number=osp$award.mit_award_number )
                and(osp$award_investigators.principal_investigator_flag ='Y')
                and(osp$award_investigators.SEQUENCE_NUMBER=(select max(t3.sequence_number)from osp$award_investigators t3 where t3.mit_award_number=osp$award.mit_award_number )))
                inner join osp$person on (osp$award_investigators.person_id=osp$person.person_id)" />
			</FROM>
		</QUERY>

		<CRITERIA>
			<FIELD name="OSP$AWARD.MIT_AWARD_NUMBER" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$AWARD.SPONSOR_AWARD_NUMBER" datatype="string"
				webSize="10" size="120" />
			<FIELD name="OSP$AWARD.ACCOUNT_NUMBER" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$AWARD.STATUS_CODE" datatype="number" webSize="10"
				size="100" />
			<FIELD name="OSP$SPONSOR.SPONSOR_CODE" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.SPONSOR_NAME" datatype="string"
				webSize="15" size="100" />
			<FIELD name="OSP$AWARD_HEADER.TITLE" datatype="string" webSize="20"
				size="100" />
			<FIELD name="OSP$AWARD_INVESTIGATORS.PERSON_NAME" datatype="string"
				webSize="20" size="100" />
			<FIELD name="OSP$AWARD_UNITS.UNIT_NUMBER" datatype="string"
				webSize="10" size="100" />
			<!--<FIELD name="OSP$AWARD_FUNDING_PROPOSALS.PROPOSAL_NUMBER" datatype="string" 
				webSize="10" size="100" /> -->

		</CRITERIA>
		<PROCEDURE name="dw_get_award_list_forquery">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<!-- Note that for current CoeusWeb version, MIT_AWARD_NUMBER must be 
				first display field -->
			<FIELD name="AWARD_NUMBER">Award Number</FIELD>
			<FIELD name="SPONSOR_AWARD_NUMBER">Sponsor Award Number</FIELD>
			<FIELD name="LEAD_UNIT">Lead Unit </FIELD>
			<FIELD name="ACCOUNT_NUMBER">Account Number</FIELD>
			<FIELD name="STATUS">Status</FIELD>
			<FIELD name="TITLE">Title</FIELD>
			<FIELD name="SPONSOR">Sponsor Name</FIELD>
			<FIELD name="PI">Principal Investigator</FIELD>
			<FIELD name="ANTICIPATED_TOTAL_AMOUNT" size="150" datatype="number">Anticipated
				Total Amount</FIELD>
			<FIELD name="START_DATE" size="200" datatype="date">Obligation
				Expiration Date</FIELD>
			<FIELD name="END_DATE" size="200" datatype="date">Final Expiration
				Date</FIELD>
		</DISPLAY>
		<!-- The sesction where we can specify any query string to be appended 
			after the formation of the where clause. -->
		<REMCLAUSE>
			ORDER BY osp$award.mit_award_number ASC
		</REMCLAUSE>
	</AWARDLIST_SEARCH>


	<!--MY AWARD SEARCH END -->

	<!-- Added for COEUSQA-1438-Science Code Information not Located in Lite 
		- Start -->
	<WEBSCIENCECODESEARCH display="Select Science Code"
		retrievelimit="SCIENCE_CODE_RETRIEVE_LIMIT" primarykeycolumn="SCIENCE_CODE">
		<QUERY>
			<SELECTQUERY>
				SELECT
				SCIENCE_CODE,
				DESCRIPTION
			</SELECTQUERY>
			<FROM>
				<TABLE name="OSP$SCIENCE_CODE" />
			</FROM>
		</QUERY>
		<CRITERIA>
			<FIELD name="SCIENCE_CODE" datatype="string" size="150" />
			<FIELD name="DESCRIPTION" datatype="string" size="430" />
		</CRITERIA>

		<PROCEDURE name="GET_PROP_SCIENCECODE_FOR_QUERY">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			<FIELD name="SCIENCE_CODE" size="150">Code</FIELD>
			<FIELD name="DESCRIPTION" size="430">Description</FIELD>
		</DISPLAY>
		<REMCLAUSE>
			ORDER BY OSP$SCIENCE_CODE.SCIENCE_CODE
		</REMCLAUSE>
	</WEBSCIENCECODESEARCH>
	<!-- Added for COEUSQA-1438-Science Code Information not Located in Lite 
		- End -->

	<!--Added for COEUSQA-3119- Need to implement IACUC link to Award, IP, Prop 
		Dev, and IRB - start -->
	<ALL_IACUC_WEB_SEARCH display="IACUC Protocols"
		retrievelimit="IACUC_PROTOCOL_RETRIEVE_LIMIT" primarykeycolumn="osp$ac_protocol.PROTOCOL_NUMBER">
		<QUERY>
			<!-- Select query -->
			<SELECTQUERY>
				SELECT DISTINCT
				osp$ac_protocol.PROTOCOL_NUMBER ,
				osp$ac_protocol.SEQUENCE_NUMBER ,
				osp$ac_protocol.PROTOCOL_STATUS_CODE ,
				PS.DESCRIPTION AS PROTOCOL_STATUS_DESCRIPTION ,
				DECODE(PI.PERSON_NAME, NULL, INV.PERSON_NAME, PI.PERSON_NAME) AS PERSON_NAME,
				osp$ac_protocol.TITLE ,
				to_char(osp$ac_protocol.APPLICATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPLICATION_DATE",
				to_char(osp$ac_protocol.APPROVAL_DATE,'USER_DEFINED_DATE_FORMAT')
				"APPROVAL_DATE",
				to_char(osp$ac_protocol.EXPIRATION_DATE,'USER_DEFINED_DATE_FORMAT')
				"EXPIRATION_DATE",
				to_char(osp$ac_protocol.CREATE_TIMESTAMP , 'USER_DEFINED_DATE_FORMAT') "CREATE_TIMESTAMP",
				osp$ac_protocol.CREATE_USER ,
				osp$ac_protocol.UPDATE_TIMESTAMP ,
				osp$ac_protocol.UPDATE_USER
				<!--osp$ac_protocol.UPDATE_USER, FS.FUNDING_SOURCE commented the code 
					for the problem "In search result there are as many rows as funding sources" 
					faced -->
			</SELECTQUERY>
			<FROM>
				<TABLE name="osp$ac_protocol" />
				<TABLE name="osp$ac_protocol_STATUS" alias="PS" />
				<TABLE name="osp$ac_protocol_TYPE" alias="PT" />
				<TABLE
					name="( SELECT PROTOCOL_NUMBER, PERSON_NAME
                       FROM osp$ac_protocol_INVESTIGATORS
                       WHERE SEQUENCE_NUMBER IN ( SELECT MAX(INV.SEQUENCE_NUMBER)
                       FROM osp$ac_protocol_INVESTIGATORS INV
                       WHERE INV.PROTOCOL_NUMBER = osp$ac_protocol_INVESTIGATORS.PROTOCOL_NUMBER)
                       AND PRINCIPAL_INVESTIGATOR_FLAG  = 'Y')"
					alias="PI" />
				<TABLE
					name="( SELECT PROTOCOL_NUMBER, PERSON_NAME
                       FROM osp$ac_protocol_INVESTIGATORS
                       WHERE SEQUENCE_NUMBER IN ( SELECT MAX(INV2.SEQUENCE_NUMBER)
                       FROM osp$ac_protocol_INVESTIGATORS INV2
                       WHERE INV2.PROTOCOL_NUMBER = osp$ac_protocol_INVESTIGATORS.PROTOCOL_NUMBER))"
					alias="INV" />
				<TABLE
					name="( SELECT PROTOCOL_NUMBER, FUNDING_SOURCE
                       FROM osp$ac_protocol_FUNDING_SOURCE
                       WHERE SEQUENCE_NUMBER IN ( SELECT MAX(FS.SEQUENCE_NUMBER)
                       FROM osp$ac_protocol_FUNDING_SOURCE FS
                       WHERE FS.PROTOCOL_NUMBER = osp$ac_protocol_FUNDING_SOURCE.PROTOCOL_NUMBER)) "
					alias="FS" />
			</FROM>
			<!-- The default joins should be specified in this section. -->
			<WHERE
				join="osp$ac_protocol.SEQUENCE_NUMBER IN (SELECT MAX(A.SEQUENCE_NUMBER)
                   FROM osp$ac_protocol A
                   WHERE A.PROTOCOL_NUMBER = osp$ac_protocol.PROTOCOL_NUMBER)
                   AND osp$ac_protocol.PROTOCOL_STATUS_CODE = PS.PROTOCOL_STATUS_CODE
                   AND osp$ac_protocol.PROTOCOL_NUMBER = PI.PROTOCOL_NUMBER (+)
                   AND osp$ac_protocol.PROTOCOL_NUMBER = INV.PROTOCOL_NUMBER (+)
            AND osp$ac_protocol.PROTOCOL_NUMBER = FS.PROTOCOL_NUMBER (+)" />
		</QUERY>

		<CRITERIA>
			<FIELD name="osp$ac_protocol.PROTOCOL_NUMBER" datatype="string"
				size="100" />
			<FIELD name="osp$ac_protocol.PROTOCOL_TYPE_CODE" datatype="number"
				size="100" />
			<!-- For bug fix case #id 2599 -->
			<!--<FIELD name="osp$ac_protocol.REFERENCE_NUMBER_1" datatype="string" 
				size="100"/> -->
			<FIELD name="osp$ac_protocol.TITLE" datatype="string" size="100" />
			<!-- For bug fix case #id 2599 -->
			<FIELD name="osp$ac_protocol.PROTOCOL_STATUS_CODE" datatype="number"
				size="100" />
			<FIELD name="osp$ac_protocol.EXPIRATION_DATE" datatype="date"
				size="100" />
			<FIELD name="INV.PERSON_NAME" datatype="String" size="100" />
			<FIELD name="FS.FUNDING_SOURCE" datatype="String" size="100" />
		</CRITERIA>

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>

		<DISPLAY>
			<FIELD name="PROTOCOL_NUMBER" size="100">Protocol Number</FIELD>
			<FIELD name="TITLE" size="100">Title</FIELD>
			<FIELD name="SEQUENCE_NUMBER" visible="false" datatype="number">Sequence
				Number</FIELD>
			<FIELD name="APPROVAL_DATE" size="100" datatype="date">Approval Date</FIELD>
			<FIELD name="EXPIRATION_DATE" size="100" datatype="date">Expiration
				Date</FIELD>
			<FIELD name="PROTOCOL_STATUS_DESCRIPTION" size="160">Description</FIELD>
			<FIELD name="PROTOCOL_STATUS_CODE" visible="false">Code</FIELD>
			<FIELD name="PERSON_NAME" size="100">Investigator</FIELD>
			<!--FIELD name="FUNDING_SOURCE" size="100">Funding Source Number</FIELD 
				commented the code for the problem "In search result there are as many rows 
				as funding sources" faced -->
		</DISPLAY>
		<REMCLAUSE>
			ORDER BY osp$ac_protocol.PROTOCOL_NUMBER DESC
		</REMCLAUSE>

	</ALL_IACUC_WEB_SEARCH>
	<!--Added for COEUSQA-3119- Need to implement IACUC link to Award, IP, Prop 
		Dev, and IRB - end -->

	<!-- COEUSQA:3333 - IRB and IACUC - Ability to Add Attachments to Minutes 
		and Agenda - Start -->
	<SCHEDULE_ATTACHMENTS display="Schedule Attachments"
		retrievelimit="SCHEDULE_RETRIEVE_LIMIT" primarykeycolumn="OSP$COMM_SCHEDULE_ATTACHMENTS.SCHEDULE_ID">

		<QUERY>
			<SELECTQUERY>
				SELECT
				SA.SCHEDULE_ID,
				SA.ATTACHMENT_ID,
				SA.ATTACHMENT_TYPE_CODE,
				SA.DESCRIPTION,
				SA.FILE_NAME,
				SA.MIME_TYPE,
				SA.UPDATE_TIMESTAMP,
				SA.UPDATE_USER,
				SAT.DESCRIPTION AS ATTACH_TYPE_DESCRIPTION
			</SELECTQUERY>

			<FROM>
				<TABLE name="OSP$COMM_SCHEDULE_ATTACHMENTS" alias="SA" />
				<TABLE name="OSP$COMM_SCHEDULE_ATTACH_TYPE" alias="SAT" />
			</FROM>

			<WHERE join="SA.ATTACHMENT_TYPE_CODE = SAT.ATTACHMENT_TYPE_CODE" />

		</QUERY>

		<PROCEDURE name="get_protocol_list_for_query">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>


		<DISPLAY>
			<FIELD name="SCHEDULE_ID" size="100" visible="false">Schedule Id</FIELD>
			<FIELD name="ATTACHMENT_ID" size="100" visible="false">Attachment Id</FIELD>
			<FIELD name="ATTACH_TYPE_DESCRIPTION" size="100">Attachment Type</FIELD>
			<FIELD name="DESCRIPTION" size="100">Description</FIELD>
			<FIELD name="FILE_NAME" size="50">File Name</FIELD>
		</DISPLAY>

		<REMCLAUSE>
			AND SA.SCHEDULE_ID = PARAM_SCHEDULE_ID
			ORDER BY SA.ATTACHMENT_ID
		</REMCLAUSE>
	</SCHEDULE_ATTACHMENTS>
	<!-- COEUSQA:3333 - End -->

	<!-- RAFT SEARCH -->
	<COLUMN name="osp$unit.unit_number" type="text" label="Lead Unit Number" />
	<RAFTLIST_SEARCH display="Raft Search" retrievelimit="RAFT_RETRIEVE_LIMIT"
		primarykeycolumn="OSP$AWARD.MIT_AWARD_NUMBER">
		<QUERY>
			<SELECTQUERY>
				SELECT distinct
				OSP$AWARD.MIT_AWARD_NUMBER AS AWARDNUMBER,
				OSP$AWARD_HEADER.TITLE AS TITLE,
				OSP$AWARD_STATUS.DESCRIPTION AS STATUS,
				OSP$AWARD.ACCOUNT_NUMBER AS ACCOUNTNUMBER,
				OSP$AWARD_INVESTIGATORS.PERSON_NAME AS PI,
				osp$unit.unit_number AS LEAD_UNIT,
				OSP$SPONSOR.SPONSOR_NAME AS SPONSOR,
				to_char(OSP$AWARD.AWARD_EFFECTIVE_DATE,'MM/dd/yyyy') AS EFFECTIVEDATE

			</SELECTQUERY>
			<FROM>
				<TABLE
					name="OSP$AWARD
                        INNER JOIN OSP$AWARD_HEADER
                      ON  (OSP$AWARD_HEADER.MIT_AWARD_NUMBER=OSP$AWARD.MIT_AWARD_NUMBER)
                      AND (OSP$AWARD_HEADER.SEQUENCE_NUMBER=(SELECT MAX(T1.SEQUENCE_NUMBER)
                                                            FROM OSP$AWARD_HEADER T1 WHERE (T1.MIT_AWARD_NUMBER=OSP$AWARD.MIT_AWARD_NUMBER)))
                    INNER JOIN OSP$AWARD_STATUS
                      ON (OSP$AWARD_STATUS.STATUS_CODE=OSP$AWARD.STATUS_CODE)
                    INNER JOIN OSP$AWARD_INVESTIGATORS
                      ON  (OSP$AWARD_INVESTIGATORS.MIT_AWARD_NUMBER=OSP$AWARD.MIT_AWARD_NUMBER)
                      AND (OSP$AWARD_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG='Y')
                      AND (OSP$AWARD_INVESTIGATORS.SEQUENCE_NUMBER= (SELECT MAX(T1.SEQUENCE_NUMBER)
                                                            FROM OSP$AWARD_INVESTIGATORS T1 WHERE (T1.MIT_AWARD_NUMBER=OSP$AWARD.MIT_AWARD_NUMBER)

                    AND (OSP$AWARD_INVESTIGATORS.PRINCIPAL_INVESTIGATOR_FLAG='Y')))

                       inner join osp$award_units on (osp$award_units.mit_award_number=osp$award.mit_award_number)  and (osp$award_units.lead_unit_flag='Y')
                        and osp$award_units.SEQUENCE_NUMBER= (SELECT MAX(osp$award_units.SEQUENCE_NUMBER)
                        FROM osp$award_units WHERE (osp$award_units.MIT_AWARD_NUMBER=osp$award.mit_award_number) )
                         inner join osp$unit on (osp$award_units.unit_number=osp$unit.unit_number)
                    INNER JOIN OSP$SPONSOR
                     ON   (OSP$SPONSOR.SPONSOR_CODE=OSP$AWARD.SPONSOR_CODE)" />
			</FROM>
		</QUERY>

		<CRITERIA>
			<FIELD name="OSP$AWARD.MIT_AWARD_NUMBER" datatype="string"
				webSize="10" size="100" />
			<!--<FIELD name="OSP$AWARD.SPONSOR_AWARD_NUMBER" datatype="string" webSize="10" 
				size="120" /> -->
			<FIELD name="OSP$AWARD.ACCOUNT_NUMBER" datatype="string"
				webSize="10" size="100" />
			<FIELD name="OSP$SPONSOR.SPONSOR_NAME" datatype="string"
				webSize="15" size="100" />
			<FIELD name="OSP$SPONSOR.SPONSOR_CODE" datatype="string"
				webSize="10" size="100" />

			<FIELD name="OSP$AWARD_INVESTIGATORS.PERSON_NAME" webSize="20"
				size="100" />
			<FIELD name="osp$unit.unit_number" datatype="string" webSize="20"
				size="100" />

		</CRITERIA>
		<PROCEDURE name="dw_get_award_list_forquery">
			<PARAM name="query" datatype="String" direction="IN" />
			<PARAM name="result" datatype="Resultset" direction="OUT" />
		</PROCEDURE>
		<DISPLAY>
			Note that for current CoeusWeb version, MIT_AWARD_NUMBER must be
			first display field
			<FIELD name="AWARDNUMBER">Award Number</FIELD>
			<FIELD name="ACCOUNTNUMBER">Account Number</FIELD>
			<FIELD name="STATUS">Status</FIELD>
			<FIELD name="TITLE">Title</FIELD>
			<FIELD name="SPONSOR">Sponsor Name</FIELD>
			<FIELD name="PI">Principal Investigator</FIELD>
			<FIELD name="LEAD_UNIT">Lead Unit</FIELD>
			<FIELD name="EFFECTIVEDATE" size="200" datatype="date">Award Effective
				Date</FIELD>

			<FIELD name="END_DATE" size="200" datatype="date" visible="false">Final
				Expiration Date</FIELD>
		</DISPLAY>




		The section where we can specify any query string to be appended after
		the formation of the where clause.

		<REMCLAUSE>
			AND (OSP$AWARD.SEQUENCE_NUMBER=(SELECT MAX(T1.SEQUENCE_NUMBER)
			FROM OSP$AWARD T1 WHERE
			(T1.MIT_AWARD_NUMBER=OSP$AWARD.MIT_AWARD_NUMBER))) ORDER BY
			OSP$AWARD.MIT_AWARD_NUMBER DESC

		</REMCLAUSE>
	</RAFTLIST_SEARCH>

	<!-- RAFT SEARCH -->

</SEARCHENGINE>
