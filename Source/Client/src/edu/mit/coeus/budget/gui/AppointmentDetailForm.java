/** Copyright (c) Massachusetts Institute of Technology
 * 77 Massachusetts Avenue, Cambridge, MA 02139-4307
 * All rights reserved.
 */

package edu.mit.coeus.budget.gui;

import java.util.*;
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import javax.swing.event.*;

import edu.mit.coeus.utils.CoeusGuiConstants;
import edu.mit.coeus.utils.DollarCurrencyTextField;
import edu.mit.coeus.utils.ScreenFocusTraversalPolicy;
import edu.mit.coeus.utils.DateUtils;
import edu.mit.coeus.gui.CoeusDlgWindow;
import edu.mit.coeus.gui.CoeusFontFactory;
import edu.mit.coeus.budget.bean.AppointmentsBean;

/** This class displays the appointment details for the selected person
 * AppointmentDetailForm.java
 * @author  Vyjayanthi
 * Created on September 5, 2003, 10:55 AM
 */
public class AppointmentDetailForm extends CoeusDlgWindow
implements ActionListener {
    
    private AppointmentsBean appointmentsBean;
    private static final int WIDTH = 550;
    private static final int HEIGHT = 190;
    private DateUtils dateUtils;
    private DollarCurrencyTextField dollarData;
    private static final String REQUIRED_DATEFORMAT = "dd-MMM-yyyy";
    
    /** Creates new form AppointmentDetailForm
     * @param appointmentsBean takes the Appointments Bean
     */
    public AppointmentDetailForm(AppointmentsBean appointmentsBean) {
        super(CoeusGuiConstants.getMDIForm(), "Appointment Detail", true);
        initComponents();
        dateUtils = new DateUtils();
        dollarData = new DollarCurrencyTextField();
        setSize(WIDTH,HEIGHT);
        setResizable(false);
        this.appointmentsBean = appointmentsBean;
        setValues();
        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();
        Dimension dlgSize = getSize();
        setLocation(screenSize.width/2 - (dlgSize.width/2),
        screenSize.height/2 - (dlgSize.height/2));
        btnClose.addActionListener(this);
        addKeyListener(new KeyAdapter(){
            public void keyReleased(KeyEvent ke){
                if(ke.getKeyCode() == KeyEvent.VK_ESCAPE){
                    dispose();
                }
            }
        });
        
        addWindowListener( new WindowAdapter() {
            public void windowClosing(WindowEvent we ) {
                dispose();
            }
        });
        
        /** Code for focus traversal - start */
        java.awt.Component[] components = { btnClose};
        ScreenFocusTraversalPolicy traversePolicy = 
                new ScreenFocusTraversalPolicy( components );
        this.setFocusTraversalPolicy(traversePolicy);
        this.setFocusCycleRoot(true);
        
        /** Code for focus traversal - end */

    }

    /** Sets the data for all the components */    
    public void setValues(){
        lblJobCodeValue.setText( appointmentsBean.getJobCode() );
        lblPrimarySecondaryValue.setText( appointmentsBean.getPrimarySecondaryIndicator() );
        lblTitleValue.setText( appointmentsBean.getJobTitle() );
        lblPreferedTitleValue.setText( appointmentsBean.getPreferredJobTitle() );
        if(appointmentsBean.getAppointmentStartDate()!=null){
            lblStartDateValue.setText( dateUtils.formatDate(
            appointmentsBean.getAppointmentStartDate().toString(),REQUIRED_DATEFORMAT ) );
        }
        if(appointmentsBean.getAppointmentEndDate()!=null){
            lblEndDateValue.setText( dateUtils.formatDate(
            appointmentsBean.getAppointmentEndDate().toString(),REQUIRED_DATEFORMAT) );
        }
        if(appointmentsBean.getAppointmentType()!=null){
            lblTypeValue.setText( appointmentsBean.getAppointmentType() );
        }
        lblUnitValue.setText( appointmentsBean.getUnitNumber() + " : " + 
                appointmentsBean.getUnitName() );
        double salary = appointmentsBean.getSalary();
        dollarData.setText(String.valueOf(salary));
        if ( salary == 0.0 || salary == 0){
            lblSalaryValue.setText( "" );
        }else {
            lblSalaryValue.setText( dollarData.getText() );
        }
    }
    
    /** This method triggers all actions based on the event occured
     * @param actionEvent takes the actionEvent */
    public void actionPerformed(java.awt.event.ActionEvent actionEvent) {
        if( actionEvent.getSource().equals( btnClose ) ) {
            this.dispose();
        }
    }
    
    /** Displays the form */
    public void display(){
        btnClose.requestFocusInWindow();
        this.setVisible(true);
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        java.awt.GridBagConstraints gridBagConstraints;

        lblJobCode = new javax.swing.JLabel();
        lblJobCodeValue = new javax.swing.JLabel();
        lblPrimarySecondary = new javax.swing.JLabel();
        lblPrimarySecondaryValue = new javax.swing.JLabel();
        lblTitle = new javax.swing.JLabel();
        lblTitleValue = new javax.swing.JLabel();
        lblPreferedTitle = new javax.swing.JLabel();
        lblPreferedTitleValue = new javax.swing.JLabel();
        lblStartDate = new javax.swing.JLabel();
        lblStartDateValue = new javax.swing.JLabel();
        lblEndDate = new javax.swing.JLabel();
        lblEndDateValue = new javax.swing.JLabel();
        lblType = new javax.swing.JLabel();
        lblTypeValue = new javax.swing.JLabel();
        lblUnit = new javax.swing.JLabel();
        lblUnitValue = new javax.swing.JLabel();
        lblSalary = new javax.swing.JLabel();
        lblSalaryValue = new javax.swing.JLabel();
        btnClose = new javax.swing.JButton();

        getContentPane().setLayout(new java.awt.GridBagLayout());

        lblJobCode.setFont(CoeusFontFactory.getLabelFont());
        lblJobCode.setText("Job Code: ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 0);
        getContentPane().add(lblJobCode, gridBagConstraints);

        lblJobCodeValue.setFont(CoeusFontFactory.getNormalFont());
        lblJobCodeValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        lblJobCodeValue.setMaximumSize(new java.awt.Dimension(36655, 36655));
        lblJobCodeValue.setMinimumSize(new java.awt.Dimension(80, 20));
        lblJobCodeValue.setPreferredSize(new java.awt.Dimension(80, 20));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 0);
        getContentPane().add(lblJobCodeValue, gridBagConstraints);

        lblPrimarySecondary.setFont(CoeusFontFactory.getLabelFont());
        lblPrimarySecondary.setText("Primary/Secondary: ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 0);
        getContentPane().add(lblPrimarySecondary, gridBagConstraints);

        lblPrimarySecondaryValue.setFont(CoeusFontFactory.getNormalFont());
        lblPrimarySecondaryValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        lblPrimarySecondaryValue.setMaximumSize(new java.awt.Dimension(36655, 36655));
        lblPrimarySecondaryValue.setMinimumSize(new java.awt.Dimension(130, 20));
        lblPrimarySecondaryValue.setPreferredSize(new java.awt.Dimension(130, 20));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 0);
        getContentPane().add(lblPrimarySecondaryValue, gridBagConstraints);

        lblTitle.setFont(CoeusFontFactory.getLabelFont());
        lblTitle.setText("Title: ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        getContentPane().add(lblTitle, gridBagConstraints);

        lblTitleValue.setFont(CoeusFontFactory.getNormalFont());
        lblTitleValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        lblTitleValue.setMaximumSize(new java.awt.Dimension(36655, 36655));
        lblTitleValue.setMinimumSize(new java.awt.Dimension(220, 20));
        lblTitleValue.setPreferredSize(new java.awt.Dimension(220, 20));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        getContentPane().add(lblTitleValue, gridBagConstraints);

        lblPreferedTitle.setFont(CoeusFontFactory.getLabelFont());
        lblPreferedTitle.setText("Preferred Title: ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        getContentPane().add(lblPreferedTitle, gridBagConstraints);

        lblPreferedTitleValue.setFont(CoeusFontFactory.getNormalFont());
        lblPreferedTitleValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        lblPreferedTitleValue.setMaximumSize(new java.awt.Dimension(36655, 36655));
        lblPreferedTitleValue.setMinimumSize(new java.awt.Dimension(220, 20));
        lblPreferedTitleValue.setPreferredSize(new java.awt.Dimension(220, 20));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.gridwidth = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        getContentPane().add(lblPreferedTitleValue, gridBagConstraints);

        lblStartDate.setFont(CoeusFontFactory.getLabelFont());
        lblStartDate.setText("Start Date: ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        getContentPane().add(lblStartDate, gridBagConstraints);

        lblStartDateValue.setFont(CoeusFontFactory.getNormalFont());
        lblStartDateValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        lblStartDateValue.setMaximumSize(new java.awt.Dimension(36655, 36655));
        lblStartDateValue.setMinimumSize(new java.awt.Dimension(80, 20));
        lblStartDateValue.setPreferredSize(new java.awt.Dimension(80, 20));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        getContentPane().add(lblStartDateValue, gridBagConstraints);

        lblEndDate.setFont(CoeusFontFactory.getLabelFont());
        lblEndDate.setText("End Date: ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        getContentPane().add(lblEndDate, gridBagConstraints);

        lblEndDateValue.setFont(CoeusFontFactory.getNormalFont());
        lblEndDateValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        lblEndDateValue.setMaximumSize(new java.awt.Dimension(36655, 36655));
        lblEndDateValue.setMinimumSize(new java.awt.Dimension(80, 20));
        lblEndDateValue.setPreferredSize(new java.awt.Dimension(80, 20));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 3;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        getContentPane().add(lblEndDateValue, gridBagConstraints);

        lblType.setFont(CoeusFontFactory.getLabelFont());
        lblType.setText("Type: ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        getContentPane().add(lblType, gridBagConstraints);

        lblTypeValue.setFont(CoeusFontFactory.getNormalFont());
        lblTypeValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        lblTypeValue.setMaximumSize(new java.awt.Dimension(120, 20));
        lblTypeValue.setMinimumSize(new java.awt.Dimension(120, 20));
        lblTypeValue.setPreferredSize(new java.awt.Dimension(120, 20));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        getContentPane().add(lblTypeValue, gridBagConstraints);

        lblUnit.setFont(CoeusFontFactory.getLabelFont());
        lblUnit.setText("Unit: ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        getContentPane().add(lblUnit, gridBagConstraints);

        lblUnitValue.setFont(CoeusFontFactory.getNormalFont());
        lblUnitValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        lblUnitValue.setMaximumSize(new java.awt.Dimension(36655, 36655));
        lblUnitValue.setMinimumSize(new java.awt.Dimension(220, 20));
        lblUnitValue.setPreferredSize(new java.awt.Dimension(220, 20));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.gridwidth = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 0);
        getContentPane().add(lblUnitValue, gridBagConstraints);

        lblSalary.setFont(CoeusFontFactory.getLabelFont());
        lblSalary.setText("Salary: ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 5, 0);
        getContentPane().add(lblSalary, gridBagConstraints);

        lblSalaryValue.setFont(CoeusFontFactory.getNormalFont());
        lblSalaryValue.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        lblSalaryValue.setMaximumSize(new java.awt.Dimension(36655, 36655));
        lblSalaryValue.setMinimumSize(new java.awt.Dimension(80, 20));
        lblSalaryValue.setPreferredSize(new java.awt.Dimension(80, 20));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(2, 5, 5, 0);
        getContentPane().add(lblSalaryValue, gridBagConstraints);

        btnClose.setFont(CoeusFontFactory.getLabelFont());
        btnClose.setMnemonic('C');
        btnClose.setText("Close");
        btnClose.setToolTipText("Close");
        btnClose.setMaximumSize(new java.awt.Dimension(81, 27));
        btnClose.setMinimumSize(new java.awt.Dimension(81, 27));
        btnClose.setPreferredSize(new java.awt.Dimension(81, 27));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.insets = new java.awt.Insets(10, 5, 0, 5);
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHEAST;
        getContentPane().add(btnClose, gridBagConstraints);

    }//GEN-END:initComponents


    // Variables declaration - do not modify//GEN-BEGIN:variables
    public javax.swing.JButton btnClose;
    public javax.swing.JLabel lblEndDate;
    public javax.swing.JLabel lblEndDateValue;
    public javax.swing.JLabel lblJobCode;
    public javax.swing.JLabel lblJobCodeValue;
    public javax.swing.JLabel lblPreferedTitle;
    public javax.swing.JLabel lblPreferedTitleValue;
    public javax.swing.JLabel lblPrimarySecondary;
    public javax.swing.JLabel lblPrimarySecondaryValue;
    public javax.swing.JLabel lblSalary;
    public javax.swing.JLabel lblSalaryValue;
    public javax.swing.JLabel lblStartDate;
    public javax.swing.JLabel lblStartDateValue;
    public javax.swing.JLabel lblTitle;
    public javax.swing.JLabel lblTitleValue;
    public javax.swing.JLabel lblType;
    public javax.swing.JLabel lblTypeValue;
    public javax.swing.JLabel lblUnit;
    public javax.swing.JLabel lblUnitValue;
    // End of variables declaration//GEN-END:variables
    
}
