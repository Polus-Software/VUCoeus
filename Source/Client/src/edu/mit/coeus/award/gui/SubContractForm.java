/*
 * SubContractForm.java
 *
 * Created on March 20, 2004, 2:03 PM
 */

package edu.mit.coeus.award.gui;

import edu.mit.coeus.gui.CoeusFontFactory;
import edu.mit.coeus.utils.ComboBoxBean;

import java.util.Vector;

import javax.swing.DefaultCellEditor;
import javax.swing.JComboBox;
import javax.swing.JTable;
import javax.swing.table.TableCellEditor;

/**
 *
 * @author  chandru
 */
public class SubContractForm extends javax.swing.JComponent {
	
    private static final int TYPE_COLUMN = 2; // JM 5-24-2016 added location type code
    public Vector vecLocationTypes;
    
    /** Creates new form SubContractForm */
    public SubContractForm() {
        initComponents();
    }
    
    public JTable getTableInstance(){
        return tblEditSubContract;
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc=" Generated Code ">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        jscrPnEdit = new javax.swing.JScrollPane();
        tblEditSubContract = new javax.swing.JTable(){
            public void changeSelection(int row, int column, boolean toggle, boolean extend){
                super.changeSelection(row, column, toggle, extend);
                javax.swing.SwingUtilities.invokeLater( new Runnable() {
                    public void run() {
                        getTableInstance().dispatchEvent(new java.awt.event.KeyEvent(
                            getTableInstance(),java.awt.event.KeyEvent.KEY_PRESSED,0,0,java.awt.event.KeyEvent.VK_F2,
                            java.awt.event.KeyEvent.CHAR_UNDEFINED) );
                }
            });
        }
    };
    jcrPnDisplay = new javax.swing.JScrollPane();
    tblDisplaySubcontract = new javax.swing.JTable();
    lblBottomHeader = new javax.swing.JLabel();
    lblTopHeader = new javax.swing.JLabel();
    btnAdd = new javax.swing.JButton();
    btnDelete = new javax.swing.JButton();
    pnlAmount = new javax.swing.JPanel();
    /* JM 5-24-2016 added location type */
    tblAmount = new JTable(){
    	@Override
    	public TableCellEditor getCellEditor(int row, int column) {
    	   Object value = super.getValueAt(row, column);
    	   if (value != null) {
    		   if (column == TYPE_COLUMN) {
    			   JComboBox cmb = createLocationTypesCombo();
    			   cmb.getModel().setSelectedItem(value.toString());
    			   return new DefaultCellEditor(cmb);
    		   }
    		   else {
    			   return getDefaultEditor(value.getClass());
    		   }
    	   	}
    	   	return super.getCellEditor(row, column);
		}
    };
    /* JM END */

    setLayout(new java.awt.GridBagLayout());

    setPreferredSize(new java.awt.Dimension(793, 500));
    jscrPnEdit.setBorder(javax.swing.BorderFactory.createEtchedBorder());
    jscrPnEdit.setMaximumSize(new java.awt.Dimension(782, 350));
    jscrPnEdit.setMinimumSize(new java.awt.Dimension(782, 350));
    jscrPnEdit.setPreferredSize(new java.awt.Dimension(782, 350));
    tblEditSubContract.setModel(new javax.swing.table.DefaultTableModel(
        new Object [][] {
            {},
            {},
            {},
            {}
        },
        new String [] {

        }
    ));
    tblEditSubContract.addMouseListener(new java.awt.event.MouseAdapter() {
        public void mouseClicked(java.awt.event.MouseEvent evt) {
            tblEditSubContractMouseClicked(evt);
        }
    });

    jscrPnEdit.setViewportView(tblEditSubContract);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.gridheight = 2;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(3, 3, 0, 0);
    add(jscrPnEdit, gridBagConstraints);

    jcrPnDisplay.setBorder(javax.swing.BorderFactory.createEtchedBorder());
    jcrPnDisplay.setMaximumSize(new java.awt.Dimension(782, 140));
    jcrPnDisplay.setMinimumSize(new java.awt.Dimension(782, 140));
    jcrPnDisplay.setPreferredSize(new java.awt.Dimension(782, 140));
    tblDisplaySubcontract.setModel(new javax.swing.table.DefaultTableModel(
        new Object [][] {
            {},
            {},
            {},
            {}
        },
        new String [] {

        }
    ));
    jcrPnDisplay.setViewportView(tblDisplaySubcontract);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 5;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.weighty = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(0, 3, 2, 0);
    add(jcrPnDisplay, gridBagConstraints);

    lblBottomHeader.setFont(CoeusFontFactory.getLabelFont());
    lblBottomHeader.setText("Subcontracts where this award is a Funding source");
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 4;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(8, 3, 3, 0);
    add(lblBottomHeader, gridBagConstraints);

    lblTopHeader.setFont(CoeusFontFactory.getLabelFont());
    lblTopHeader.setText("Approved Subcontracts for this Award");
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 3, 0, 0);
    add(lblTopHeader, gridBagConstraints);

    btnAdd.setFont(CoeusFontFactory.getLabelFont());
    btnAdd.setMnemonic('A');
    btnAdd.setText("Add");
    btnAdd.setMaximumSize(new java.awt.Dimension(63, 23));
    btnAdd.setMinimumSize(new java.awt.Dimension(63, 23));
    btnAdd.setPreferredSize(new java.awt.Dimension(63, 23));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 1;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(2, 5, 0, 135);
    add(btnAdd, gridBagConstraints);

    btnDelete.setFont(CoeusFontFactory.getLabelFont());
    btnDelete.setMnemonic('D');
    btnDelete.setText("Delete");
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 1;
    gridBagConstraints.gridy = 2;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 135);
    add(btnDelete, gridBagConstraints);

    pnlAmount.setLayout(new java.awt.GridBagLayout());

    pnlAmount.setMinimumSize(new java.awt.Dimension(380, 22));
    pnlAmount.setPreferredSize(new java.awt.Dimension(380, 22));
    tblAmount.setBackground(javax.swing.UIManager.getDefaults().getColor("Panel.background"));
    tblAmount.setModel(new javax.swing.table.DefaultTableModel(
        new Object [][] {
            {},
            {},
            {},
            {}
        },
        new String [] {

        }
    ));
    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    pnlAmount.add(tblAmount, gridBagConstraints);

    gridBagConstraints = new java.awt.GridBagConstraints();
    gridBagConstraints.gridx = 0;
    gridBagConstraints.gridy = 3;
    gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
    gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHWEST;
    gridBagConstraints.weightx = 1.0;
    gridBagConstraints.insets = new java.awt.Insets(0, 3, 0, 0);
    add(pnlAmount, gridBagConstraints);

    }// </editor-fold>//GEN-END:initComponents
    
    /* JM 5-24-2016 create location types combo box */
	public JComboBox createLocationTypesCombo() {
		JComboBox comboBox = new JComboBox();
		ComboBoxBean bean = new ComboBoxBean();
	    for (int v=0; v < vecLocationTypes.size(); v++) {
	    	bean = (ComboBoxBean) vecLocationTypes.get(v);
	    	comboBox.addItem(bean);
	    }
	    return comboBox;
	}
	/* JM END */

    private void tblEditSubContractMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tblEditSubContractMouseClicked
        // Add your handling code here:
        javax.swing.SwingUtilities.invokeLater( new Runnable() {
            public void run() {
                getTableInstance().dispatchEvent(new java.awt.event.KeyEvent(
                getTableInstance(),java.awt.event.KeyEvent.KEY_PRESSED,0,0,java.awt.event.KeyEvent.VK_F2,
                java.awt.event.KeyEvent.CHAR_UNDEFINED) );
            }
        });
    }//GEN-LAST:event_tblEditSubContractMouseClicked

    // Variables declaration - do not modify//GEN-BEGIN:variables
    public javax.swing.JButton btnAdd;
    public javax.swing.JButton btnDelete;
    public javax.swing.JScrollPane jcrPnDisplay;
    public javax.swing.JScrollPane jscrPnEdit;
    public javax.swing.JLabel lblBottomHeader;
    public javax.swing.JLabel lblTopHeader;
    public javax.swing.JPanel pnlAmount;
    public javax.swing.JTable tblAmount;
    public javax.swing.JTable tblDisplaySubcontract;
    public javax.swing.JTable tblEditSubContract;
    // End of variables declaration//GEN-END:variables
    
}
